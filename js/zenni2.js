(zennir2=window.zennir2||{}).pageCache=function(e){"use strict";return{customerSpecificPages:e(".page-accounts").length||e(".page-order").length||e(".page-checkout").length||e(".page-shopping-cart").length,prmServerData:null,receivedServerData:!0,init:function(){var t=this;this.prmServerData=e.ajax({url:zennir2.global.customerDataUrl,data:{faceImageSequenceFramefit:window.faceImageSequenceFramefit?window.faceImageSequenceFramefit:"",faceImageSequenceDitto:window.faceImageSequenceDitto?window.faceImageSequenceDitto:"",dittoData:!(!window.displayDitto||"true"!==window.displayDitto),framefitData:!(!window.displayFrameFit||"true"!==window.displayFrameFit)},cache:!1,method:"GET",dataType:"json"}),this.prmServerData.done((function(i){t.receivedServerData=!0,window.userProfileObject=i.profile||{},window.favoriteAndRecentlyViewedData=i.favoritesRecentView||{},window.localStorage.setItem("ls-user-profile",JSON.stringify(window.userProfileObject)),window.localStorage.setItem("ls-favorite-recently-viewed",JSON.stringify(window.favoriteAndRecentlyViewedData)),!e.isEmptyObject(i.frameFitData)&&window.frameFitData&&(window.frameFitData.profilePhotos=i.frameFitData.profilePhotos,window.frameFitData.currentFace=i.frameFitData.currentFace),zennir2.FrameFit&&(zennir2.FrameFit.state.isLoggedIn=window.userProfileObject.isLoggedIn&&JSON.parse(window.userProfileObject.isLoggedIn))}))}}}(jQuery),zennir2.pageCache.customerSpecificPages?(window.localStorage.setItem("ls-user-profile",JSON.stringify($.isEmptyObject(window.userProfileObject)?{}:window.userProfileObject)),window.localStorage.setItem("ls-favorite-recently-viewed",JSON.stringify($.isEmptyObject(window.favoriteAndRecentlyViewedData)?{}:window.favoriteAndRecentlyViewedData))):(zennir2.pageCache.receivedServerData=!1,window.userProfileObject=JSON.parse(window.localStorage.getItem("ls-user-profile"))||{},window.favoriteAndRecentlyViewedData=JSON.parse(window.localStorage.getItem("ls-favorite-recently-viewed"))||{},zennir2.pageCache.init()),(zennir2=window.zennir2||{}).store=function(){"use strict";var e={favorites:[]},t={};function trigger(e,i){$(t).trigger(e,i)}return{actions:{favorites:{add:function(t){e.favorites.push(t),trigger("favorites/added",t)},remove:function(t){e.favorites=e.favorites.filter((function(e){return e!==t})),trigger("favorites/removed",t)}}},state:e,events:$(t)}}(),(zennir2=window.zennir2||{}).cookies=function(e){"use strict";return{get:function(t){return e.getJSON(t)},set:function(t,i,o){var a=$.extend({path:"/"},o);e.set(t,i,a)},remove:function(t,i){i=i||{},e.remove(t,i)}}}(window.Cookies),(zennir2=window.zennir2||{}).mq=function(e){"use strict";var t={breakpoints:["mobile","tablet","desktop","largeDesktop"],changeBfore:"",changeAfter:"",checkBP:function(){var o;i.mobile.matches&&(t.changeBfore=t.breakpoints[0]),i.tabletOnly.matches&&(t.changeBfore=t.breakpoints[1]),i.desktopOnly.matches&&(t.changeBfore=t.breakpoints[2]),i.largeDesktop.matches&&(t.changeBfore=t.breakpoints[3]),e(window).on("resize",(function(){clearTimeout(o),o=setTimeout((function(){i.mobile.matches&&(t.changeAfter=t.breakpoints[0]),i.tabletOnly.matches&&(t.changeAfter=t.breakpoints[1]),i.desktopOnly.matches&&(t.changeAfter=t.breakpoints[2]),i.largeDesktop.matches&&(t.changeAfter=t.breakpoints[3]),t.changeBfore===t.changeAfter?i.isChanged=!1:i.isChanged=!0,t.changeBfore=t.changeAfter}),200)}))}},i={tablet:window.matchMedia("(min-width:768px)"),tabletOnly:window.matchMedia("(min-width:768px) and (max-width:1023px)"),desktop:window.matchMedia("(min-width:1024px)"),desktopOnly:window.matchMedia("(min-width:1024px) and (max-width:1649px)"),largeDesktop:window.matchMedia("(min-width:1650px)"),HD1280:window.matchMedia("(min-width:1280px)"),HD1920:window.matchMedia("(min-width:1920px)"),UHD4k:window.matchMedia("(min-width:4000px)"),UHD8k:window.matchMedia("(min-width:8000px)"),mobile:window.matchMedia("(max-width:767px)"),miniTablet:window.matchMedia("(min-width:600px)"),portrait:window.matchMedia("(orientation: portrait)"),landscape:window.matchMedia("(orientation: landscape)"),phonePortrait:window.matchMedia("(max-width:599px) and (orientation: portrait)"),phoneLandscape:window.matchMedia("(max-width:599px) and (orientation: landscape)"),init:function(){t.checkBP()},isChanged:!1};return i}(jQuery),$(document).ready((function(){"use strict";window.zennir2.mq.init()})),(zennir2=window.zennir2||{}).utilities=function(e,t,i,o,a,n){"use strict";var r={chatOnlineBtn:".chat-online",elementEntity:null,responsiveImage:function(){e(".img-responsive:not(.lazy)").each((function(){var t;n.mobile.matches&&(t=e(this).attr("src").replace(/(-xs|-sm|-md|-lg)/,"-xs"),e(this).attr("src",t)),n.tablet.matches&&(t=e(this).attr("src").replace(/(-xs|-sm|-md|-lg)/,"-sm"),e(this).attr("src",t)),n.desktop.matches&&(t=e(this).attr("src").replace(/(-xs|-sm|-md|-lg)/,"-md"),e(this).attr("src",t)),n.largeDesktop.matches&&(t=e(this).attr("src").replace(/(-xs|-sm|-md|-lg)/,"-lg"),e(this).attr("src",t)),n.mobile.matches?e(this).on("error",(function(){t=e(this).attr("src").replace(/(-xs|-sm|-md|-lg)/,"-sm"),e(this).off("error").attr("src",t)})):e(this).on("error",(function(){t=e(this).attr("src").replace(/(-xs|-sm|-md|-lg)/,"-lg"),e(this).off("error").attr("src",t),e(this).on("error",(function(){t=e(this).attr("src").replace(/(-xs|-sm|-md|-lg)/,"-md"),e(this).off("error").attr("src",t),e(this).on("error",(function(){t=e(this).attr("src").replace(/(-xs|-sm|-md|-lg)/,"-sm"),e(this).off("error").attr("src",t)}))}))}))}))},responsiveVideo:function(){e("video").each((function(){var t,i,o=e(this),a=e(this).attr("src")||e(this).find("source").attr("src"),s=e(this).attr("poster");!a||-1===a.indexOf("-sm")&&-1===a.indexOf("-xs")||(n.mobile.matches&&(t=a.replace(/(-xs|-sm|-md|-lg)/,"-xs")),n.tablet.matches&&(t=a.replace(/(-xs|-sm|-md|-lg)/,"-sm")),r.loadVideo(o,t)),s&&(-1===s.indexOf("-sm")&&-1===s.indexOf("-xs")||(n.mobile.matches&&(i=s.replace(/(-xs|-sm|-md|-lg)/,"-xs")),n.tablet.matches&&(i=s.replace(/(-xs|-sm|-md|-lg)/,"-sm")),e(this).attr("poster",i)))}))},loadVideo:function(e,t){e.attr("src")?e.attr("src",t):e.find("source").attr("src",t)},initImageLazyLoader:function(){r.processLazyLoad(),e(window).winscroll(r.processLazyLoad,250),e(window).winresize(r.processLazyLoad,250)},elementInViewport:function(e){var i=e.getBoundingClientRect();return i.top+i.height>=0&&i.top<=(t.innerHeight||document.documentElement.clientHeight)},processLazyLoad:function(){var t=n.largeDesktop.matches?"lg":n.desktop.matches?"md":n.mobile.matches?"xs":"sm";e("img.lazy:not(."+t+"-loaded):not(.lazy-loaded)").each((function(t,i){if(r.elementInViewport(i)){var o=e(i);r.lazyLoadImage(o)}}))},lazyLoadImage:function(t){var i=t.data("src")?t.data("src"):t.data("srcSm");if(i&&i.match(/-xs|-sm|-md|-lg/)){var o=i.replace(/-xs|-sm|-md|-lg/,"-sm"),a=i.replace(/-xs|-sm|-md|-lg/,"-xs"),r=i.replace(/-xs|-sm|-md|-lg/,"-md"),s=i.replace(/-xs|-sm|-md|-lg/,"-lg");n.mobile.matches?(t.attr("src",a),t.on("load",(function(){e(this).removeClass("sm-loaded md-loaded lg-loaded").addClass("xs-loaded")}))):n.largeDesktop.matches?(t.attr("src",s),t.on("load",(function(){e(this).removeClass("xs-loaded sm-loaded md-loaded").addClass("lg-loaded")}))):n.desktop.matches?(t.attr("src",r),t.on("load",(function(){e(this).removeClass("xs-loaded sm-loaded lg-loaded").addClass("md-loaded")}))):(t.attr("src",o),t.on("load",(function(){e(this).removeClass("xs-loaded md-loaded lg-loaded").addClass("sm-loaded")}))),n.mobile.matches?t.on("error",(function(){e(this).off("error").attr("src",o)})):t.on("error",(function(){e(this).off("error").attr("src",s),e(this).on("error",(function(){e(this).off("error").attr("src",r),e(this).on("error",(function(){e(this).off("error").attr("src",o)}))}))})),window.cssua.ua.ie&&setTimeout((function(){t.addClass("lazy-loaded")}),0)}else i?(t.attr("src",i),t.on("load",(function(){e(this).addClass("lazy-loaded")}))):t.addClass("lazy-loaded")},initLazyLoad:function(){var t=n.largeDesktop.matches?"lg":n.desktop.matches?"md":n.mobile.matches?"xs":"sm",i=[].slice.call(document.querySelectorAll("img.lazy:not(."+t+"-loaded):not(.lazy-loaded)"));if("IntersectionObserver"in window){var o=new IntersectionObserver((function(t,i){t.forEach((function(t){if(t.isIntersecting){var i=t.target,a=e(i).data("src")?e(i).data("src"):e(i).data("srcSm");if(a&&a.match(/-xs|-sm|-md|-lg|-ph|-dt/)){if(a.match(/-xs|-sm|-md|-lg/)){var r=a.replace(/-xs|-sm|-md|-lg/,"-sm"),s=a.replace(/-xs|-sm|-md|-lg/,"-xs"),d=a.replace(/-xs|-sm|-md|-lg/,"-md"),c=a.replace(/-xs|-sm|-md|-lg/,"-lg"),l=c,u='<source class="lg-source" media="(min-width: 1650px)" srcset="'+c+'">'+('<source class="md-source" media="(min-width: 1024px)" srcset="'+d+'">')+('<source class="sm-source" media="(min-width: 768px)" srcset="'+r+'">')+('<source class="xs-source" media="(max-width: 767px)" srcset="'+s+'">');n.mobile.matches&&(l=r)}else{var p=a.replace(/-ph|-dt/,"-dt"),f=a.replace(/-ph|-dt/,"-ph");l=p,u='<source class="dt-source" media="(min-width: 768px)" srcset="'+p+'">'+('<source class="ph-source" media="(max-width: 767px)" srcset="'+f+'">');n.mobile.matches&&(l=f)}e(i).not(".picture-wrapped").wrap("<picture></picture>").before(u).attr("src",l).addClass("lazy-loaded picture-wrapped")}else a?(e(i).attr("src",a),e(i).on("load",(function(){e(this).addClass("lazy-loaded")}))):e(i).addClass("lazy-loaded");o.unobserve(i)}}))}),{rootMargin:"256px 0px 256px 0px"});i.forEach((function(e){o.observe(e)}))}else r.initImageLazyLoader()},handleSourceError:function(){e("img").on("error",(function(){if(e(this).parents("picture").length){var t=e(this).attr("data-src");if(t.match(/-xs|-sm|-md|-lg/)){var i=t.replace(/-xs|-sm|-md|-lg/,"-xs"),o=t.replace(/-xs|-sm|-md|-lg/,"-sm"),a=t.replace(/-xs|-sm|-md|-lg/,"-md");e(window).width()>=1650?(e(this).siblings(".lg-source").attr("srcset",a),e(this).on("error",(function(){e(this).off("error").siblings(".lg-source").attr("srcset",o)}))):e(window).width()>=1024?e(this).siblings(".md-source").attr("srcset",o):e(window).width()>=768?e(this).siblings(".sm-source").attr("srcset",i):e(this).siblings(".xs-source").attr("srcset",o)}else if(t.match(/-ph|-dt/)){var n=t.replace(/-ph|-dt/,"-ph"),r=t.replace(/-ph|-dt/,"-dt");e(window).width()>=768?e(this).siblings(".dt-source").attr("srcset",n):e(this).siblings(".ph-source").attr("srcset",r)}}}))},initIntersectionObserverLazyLoader:function(){r.initLazyLoad(),r.handleSourceError()},debounce:function(e,t){var i;return function(){var o=this,a=arguments,delayed=function(){i=null,e.apply(o,a)};i&&clearTimeout(i),i=setTimeout(delayed,t||100)}},setRatingStarDisplay:function(){var t=e(".rates");if(t.length)for(var i=0;i<t.length;i++){var o=t.eq(i),a=o.data("rating"),n=parseInt(a),r=10*(a%1).toFixed(1);o.find(".rating-count").length&&o.find(".rating-count").text(a);for(var s=0;s<5;s++){var d=o.find(".fa-star").eq(s);d.removeClass("rate full rate-1 rate-2 rate-3 rate-4 rate-5 rate-6 rate-7 rate-8 rate-9"),s<n&&d.addClass("rate"),s===n&&d.addClass("rate-"+r)}}},backToTop:function(){var i=e("[data-back-to-top]");if(i.length){var o=e(t).height()*i.data("scroll-buffer")||200;if(i.data("back-to-top")){e("body").append("<a href='#' id='back-to-top' aria-label='back-to-top'><i class='fa fa-chevron-up'></i>Top</a>");var a=e("#back-to-top");e(t).scroll((function(){e(this).scrollTop()>=o?a.fadeIn(200):a.fadeOut(200)})),a.on("click",(function(){e("body,html").animate({scrollTop:0},500)}))}}},initPopovers:function(){o.mobile?(e('[data-toggle="popover"]').popover({html:!0,trigger:"click",content:function(){return e(e(this).attr("data-target")).html()}}),e('[data-toggle="tooltip"]').tooltip({trigger:"click"})):(e('[data-toggle="popover"]').popover({html:!0,trigger:"hover",content:function(){return e(e(this).attr("data-target")).html()}}),e('[data-toggle="tooltip"]').tooltip({trigger:"hover"}))},reinitPopovers:function(t,i){null===i&&(i='<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'),o.mobile?t.find('[data-toggle="popover"]').popover({html:!0,trigger:"click",template:i,content:function(){return e(e(this).attr("data-target")).html()}}):t.find('[data-toggle="popover"]').popover({html:!0,trigger:"hover",template:i,content:function(){return e(e(this).attr("data-target")).html()}})},handlePopoverClose:function(){e(document).on("click",(function(t){var i;e(t.target);e('[data-toggle="popover"]').each((function(){(i=e(this)).is(t.target)||0!==i.has(t.target).length||0!==e(".popover").has(t.target).length||(((i.popover("hide").data("bs.popover")||{}).inState||{}).click=!1)}))}))},chatOnline:function(){var t;e(this.chatOnlineBtn).on("click",(function(){!t||t.closed?t=window.open("https://livechat.zennioptical.com/chat.php?acid=379d5","ZenniLiveChat","width=590,height=760,left=0,top=0,resizable=yes,menubar=no,location=no,status=yes,scrollbars=yes"):t.focus()}))},hideVideoOverFlow:function(){var t=e("video"),i=t.length;if(i)for(var o=0;o<i;o++)t.eq(o).closest("div").css("overflow","hidden")},checkEmoji:function(e){if(e.length>0)return!e.match(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c\ude32-\ude3a]|[\ud83c\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g)},handleConsoleLog:function(){window.zennir2.global.debug||(console.log=function(){},console.table=function(){},console.time=function(){},console.timeEnd=function(){},console.timeLog=function(){},console.trace=function(){},console.count=function(){},console.dir=function(){},console.group=function(){},console.groupEnd=function(){},console.groupCollapsed=function(){})},checkFramefitCreation:function(){i.framefitConfig.framefitEnabled&&(zennir2.utilities.prmFrameFitLoad=e.Deferred())},deleteCookies:function(){var t;a.get("cookie-view-lens")&&(t=JSON.parse(window.localStorage.getItem("ls-prescription-data")),(e.isEmptyObject(t)||!zennir2.utilities.isPDPRimlessPage&&!zennir2.utilities.isOrderPage||(window.pdpProductData&&window.pdpProductData.defaultSku||e('input[name="skuId"]').val()||e("#selectedMainSku").val()||null)!==t.frameSkuId)&&(a.remove("cookie-view-lens"),localStorage.removeItem("ls-prescription-data")))},updateDynSessConf:function(){var t=i.rest.getSessionConfirmation,o=window.location.host;e.get(t,(function(t){var i=t.sessionConfirmationNumber;e("form").each((function(){e(this).find('input[name="_dynSessConf"]').length&&e(this).find('input[name="_dynSessConf"]').val(i)}))})).fail((function(t,n,r){if("preview.zennioptical.com"!==o&&(302===t.status||0===t.status)){var s,d,c,l,u=e("#frmHeaderLogout");(s=[]).push("faceImageSequenceFramefit="+(window.faceImageSequenceFramefit?window.faceImageSequenceFramefit:"")),s.push("faceImageSequenceDitto="+(window.faceImageSequenceDitto?window.faceImageSequenceDitto:"")),s.push("dittoData="+!(!window.displayDitto||"true"!==window.displayDitto)),s.push("framefitData="+!(!window.displayFrameFit||"true"!==window.displayFrameFit)),d=s.join("&"),c=i.customerDataUrl+(d?"?"+d:i.profileDataUrl),u.find(".logoutSuccessUrl").val(c),u.find('input[type="submit"]').prop("disabled",!0).addClass("disabled"),l=u.serialize(),e.ajax({url:i.profileDataUrl,cache:!1,method:"POST",dataType:"json",data:l,beforeSend:function(){e("body").addClass("preloader")}}).done((function(){var e=zennir2.utilities.getDomain(),t=e.domain+"."+e.type;a.set("forced-site-cookie",i.currentSiteId,{domain:t,expires:i.siteMigration.cookieExpiry}),window.location.href=i.siteURL()})).fail((function(){e("body").removeClass("preloader")}))}}))},displayPrescriptionUpdates:function(){e.ajax({url:zennir2.global.prescriptionReminder.getPrescriptionUpdates,cache:!1,method:"POST",dataType:"json",success:function(t){if(t&&t.updatedPrescriptionList&&t.updatedPrescriptionList.length){var i=t.updatedPrescriptionList.join(", "),o=e('<h4 class="modal-title">'+zennir2.global.prescriptionReminder.prescriptionUpdatesModalHeading+"</h4>"),a=zennir2.global.prescriptionReminder.prescriptionUpdatesModalBody.replace("[PrescriptionNames]",i),n=e("<div />",{class:"row"}).append(e("<div/>",{class:"col-md-12"}).append(e("<p/>",{text:a}))),r=e("<div />",{class:"row"}).append(e("<div/>",{class:"col-md-6"}).append(e("<button/>",{class:"btn btn-block btn-secondary",text:"Close","data-dismiss":"modal"}))).append(e("<div/>",{class:"col-md-6"}).append(e("<a/>",{class:"btn btn-block btn-primary",text:zennir2.global.prescriptionReminder.prescriptionUpdatesModalBtn,href:zennir2.global.prescriptionReminder.prescriptionUpdatesModalBtnUrl,title:"btn"})));zennir2.Modal.createModal({id:"prescription-updates-modal",heading:o,body:n,footer:r}).modal("show")}}})},checkPrescriptionUpdatesOnLogin:function(){a.get("recently_logged_in")&&(r.displayPrescriptionUpdates(),a.remove("recently_logged_in"))},errorHandling:function(t,o){var a=e("#"+o),n=i.errorHandler[t],r=i.errorHandler.unknowErrorMessageText;o&&(n&&-1!==i.errorHandler[t].indexOf("-")?(a.find(".modal-header").text(n.substring(0,n.indexOf("-")-1)),a.find(".modal-body").text(n.substring(n.indexOf("-")+2))):(a.find(".modal-header").text(r.substring(0,r.indexOf("-")-1)),a.find(".modal-body").text(r.substring(r.indexOf("-")+2))),a.modal())}};return e.fn.winresize=function(e,t){this.on("resize orientationchange",r.debounce(e,t))},e.fn.winscroll=function(e,t){this.on("scroll",r.debounce(e,t))},{$body:null,$pagePlp:null,$pagePdp:null,$pagePdpRimless:null,$pagePdpReview:null,$pagePdpAccessory:null,$pagePdpGiftCard:null,$pageVisualSearchPlp:null,$pageOrder:null,$pagePrp:null,$pagePlpAccessory:null,$pageMyAccount:null,$pageCheckout:null,$pageOrderConfirmation:null,$pageAccountsDashboard:null,$pageAccountsMyTryon:null,$pageShoppingCart:null,$pageAccountsFavorites:null,$pageAccountsFavoritesAnonymous:null,$pageAccountsLoginRegister:null,$pageAccountsSettings:null,$compProductListing:null,isPLPPage:!1,isVisualSearchPlp:!1,isPDPPage:!1,isPDPRimlessPage:!1,isPDPReviewPage:!1,isPDPAccessoryPage:!1,isPDPGiftCardPage:!1,isPDPStandardPage:!1,isOrderPage:!1,isPRPPage:!1,isPLPAccessoryPage:!1,isMyAccountPage:!1,isCheckoutPage:!1,isOrderConfirmationPage:!1,isAccountsDashboardPage:!1,isAccountsMyTryonPage:!1,isShoppingCartPage:!1,isAccountsFavoritesPage:!1,isAccountsAnonymousFavoritesPage:!1,isAccountsLoginRegisterPage:!1,isAccountsSettings:!1,hasFrameFit:!1,hasDitto:!1,hasFilter:!1,hasQuickStartGuide:!1,hasCompProductListing:!1,prmFrameFitLoad:null,isLoggedIn:function(){return!(!window.userProfileObject||!JSON.parse(window.userProfileObject.isLoggedIn))&&JSON.parse(window.userProfileObject.isLoggedIn)},getPageType:function(){this.$body=e("body"),this.$pagePlp=e(".page-plp"),this.$pagePdp=e(".page-pdp"),this.$pagePdpRimless=e(".page-pdp-rimless"),this.$pagePdpAccessory=e(".page-pdp-accessory"),this.$pagePdpGiftCard=e(".page-pdp-giftcard"),this.$pagePdpReview=e(".page-pdp-review"),this.$pageVisualSearchPlp=e(".page-visual-search-plp"),this.$pageOrder=e(".page-order"),this.$pagePrp=e(".page-prp"),this.$pagePlpAccessory=e(".page-plp-accessory"),this.$pageMyAccount=e(".page-accounts"),this.$pageCheckout=e(".page-checkout"),this.$pageOrderConfirmation=e(".page-checkout-confirmation"),this.$pageAccountsDashboard=e(".page-accounts-dashboard"),this.$pageAccountsMyTryon=e(".page-accounts-mytryon"),this.$pageAccountsTryon=e(".page-accounts-tryon"),this.$pageShoppingCart=e(".page-shopping-cart"),this.$pageAccountsFavorites=e(".page-accounts-favorites"),this.$pageAccountsFavoritesAnonymous=e(".page-accounts-favorites-anonymous"),this.$pageAccountsLoginRegister=e(".page-accounts-login-and-register"),this.$pageAccountsSettings=e(".page-accounts-settings"),this.$leftNavigation=e(".comp-left-navigation-account"),this.$compProductListing=e(".comp-product-listing"),this.$pagePlp.length?(this.isPLPPage=!0,this.$pagePrp.length&&(this.isPRPPage=!0),this.$pagePlpAccessory.length&&(this.isPLPAccessoryPage=!0)):this.$pageVisualSearchPlp.length?this.isVisualSearchPlp=!0:this.$pagePdp.length?(this.isPDPPage=!0,this.$pagePdpRimless.length?this.isPDPRimlessPage=!0:this.$pagePdpReview.length?this.isPDPReviewPage=!0:this.$pagePdpAccessory.length?this.isPDPAccessoryPage=!0:this.$pagePdpGiftCard.length?this.isPDPGiftCardPage=!0:this.isPDPStandardPage=!0):this.$pageOrder.length?this.isOrderPage=!0:this.$pageMyAccount.length?(this.isMyAccountPage=!0,this.$pageAccountsDashboard.length&&(this.isAccountsDashboardPage=!0),this.$pageAccountsMyTryon.length&&(this.isAccountsMyTryonPage=!0),this.$pageAccountsFavorites.length&&(this.isAccountsFavoritesPage=!0),this.$pageAccountsFavoritesAnonymous.length&&(this.isAccountsAnonymousFavoritesPage=!0),this.$pageAccountsLoginRegister.length&&(this.isAccountsLoginRegisterPage=!0),this.$pageAccountsSettings.length&&(this.isAccountsSettings=!0)):this.$pageCheckout.length?(this.isCheckoutPage=!0,this.$pageOrderConfirmation.length&&(this.isOrderConfirmationPage=!0)):this.$pageShoppingCart.length&&(this.isShoppingCartPage=!0),this.$compProductListing.length&&(this.hasCompProductListing=!0)},checkForComponent:function(){e("#comp-filter").length&&(window.zennir2.utilities.hasFilter=!0),e("#comp-quickstart").length&&(window.zennir2.utilities.hasQuickStartGuide=!0),window.dittoData&&(e(".ditto-view").length&&window.zennir2.utilities.isPDPPage&&(window.zennir2.utilities.hasDitto=!0),e("#comp-filter-ditto").length&&(window.zennir2.utilities.isPLPPage||window.zennir2.utilities.isVisualSearchPlp)&&(window.zennir2.utilities.hasDitto=!0))},isAjaxLoaderShown:function(){return this.$body.hasClass("preloader")},handleAjaxLoaderDisplay:function(e,t){var i="preloader";!1===t&&(i+=" no-loader-icon"),"add"===e?this.$body.addClass(i):"remove"===e&&this.$body.removeClass(i)},setLoaderTime:function(e){this.$body.hasClass("preloader")&&setTimeout((function(){this.$body.removeClass("preloader")}),e)},unicodeToChar:function(e){return e?e.replace(/\\u[\dA-F]{4}/gi,(function(e){return String.fromCharCode(parseInt(e.replace(/\\u/g,""),16))})):""},decodeHTMLEntities:function(e){return r.elementEntity||(r.elementEntity=document.createElement("div")),e=e.replace(/&(?:#x[a-f0-9]+|#[0-9]+|[a-z0-9]+);?/gi,(function(e){return r.elementEntity.innerHTML=e,r.elementEntity.textContent})),r.elementEntity.textContent="",e},getUrlQueryObject:function(){var e,t=window.location.search.substr(1).split("&"),i={},o=t.length;if(1===o&&""===t[0])return i;for(var a=0;a<o;a++)1===(e=t[a].split("=")).length?i[e[0]]="":i[e[0]]=decodeURIComponent(e[1].replace(/\+/g," "));return i},hasQueryStringParam:function(e,t){var i,o,a=!1,n=e||location.href;if(-1!==n.indexOf("?")){o=(i=n.slice(n.indexOf("?")+1).split("&")).length;for(var r=0;r<o;r++)if(i[r].split("=")[0]===t){a=!0;break}}return a},getUrlSingleQueryValue:function(e,t){var i,o=e||location.href;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(o))?"":decodeURIComponent(i[1].replace(/\+/g," "))},getDomain:function(){var e={},t=new RegExp("([a-z-0-9]{2,63}).([a-z.]{2,5})$").exec(window.location.hostname);return e.domain=t[1],e.type=t[2],e.subdomain=window.location.hostname.replace(e.domain+"."+e.type,"").slice(0,-1),e},formatTelNum:function(e,t){if(!e)return"";var i=e;if("US"===t||"CA"===t){var o=e.replace(/[^0-9]/g,""),a=o.substr(0,3),n=o.substr(3,3),r=o.substr(6,4);i=1===e.length&&"("===e?"(":o?a.length<3?"("+a:n.length<3?"("+a+") "+n:"("+a+") "+n+"-"+r:""}return i},getTelFieldMaxLength:function(e,t){"US"===t||"CA"===t?(e.attr("maxlength",14),e.attr("pattern",/^(\([0-9]{3}\) |[0-9]{3}-)[0-9]{3}-[0-9]{4}$/),e.val(this.formatTelNum(e.val(),t))):(e.attr("maxlength",20),e.val(e.val().replace(/[\s|\(|\)|+-]/g,"")),e.attr("pattern",/^\d{4,20}$/))},init:function(){r.responsiveImage(),r.initIntersectionObserverLazyLoader(),r.responsiveVideo(),r.setRatingStarDisplay(),r.initPopovers(),r.handlePopoverClose(),this.getPageType(),this.checkForComponent(),r.chatOnline(),r.hideVideoOverFlow(),r.handleConsoleLog(),r.checkFramefitCreation(),r.deleteCookies(),r.updateDynSessConf(),r.checkPrescriptionUpdatesOnLogin()},responsiveImage:function(){r.responsiveImage()},responsiveVideo:function(){r.responsiveVideo()},getMaxHeight:function(t){var i=[];t.css("height","auto"),t.each((function(){i.push(e(this).outerHeight())}));var o=Math.max.apply(null,i);t.outerHeight(o)},accordion:function(){e("ul.accordion > li > a").on("click",(function(t){t.preventDefault();var i=e(this),o=i.next(),a=i.closest("ul.accordion").find(">li");a.find(">a").next();if(o.is(":visible"))o.slideUp("fast",(function(){i.closest("li").removeClass("active"),i.closest("li").children("a").next("div").css("display","")}));else{if(a.removeClass("active"),i.offset().top<e("html body").scrollTop()){var n=i.offset().top-100;e("html, body").animate({scrollTop:n})}o.slideDown("fast",(function(){i.closest("li").addClass("active"),i.closest("li").children("a").next("div").css("display","")}))}}))},setRatingStarDisplay:function(){r.setRatingStarDisplay()},backToTop:r.backToTop,reinitPopovers:function(e,t){r.reinitPopovers(e,t)},search:function(e){location.assign(zennir2.global.RFKSiteSearchUri+"?keyphrase="+e)},hideVideoOverFlow:function(){r.hideVideoOverFlow()},isLocalDevServer:function(){return-1!==e.inArray(window.location.hostname,["zennir2ui","salt.zenni.com"])},checkEmoji:function(e){return r.checkEmoji(e)},resetPrismValues:function(t,i,o){switch(o){case"OD":e(i.odHorizontal).selectpicker("val","0.00"),e(i.odBaseDirectionHorizontal).selectpicker("val",""),e(i.odVertical).selectpicker("val","0.00"),e(i.odBaseDirectionVertical).selectpicker("val",""),e(i.panelPrismRight).find("button.dropdown-toggle").removeClass("parsley-error");break;case"OS":e(i.osHorizontal).selectpicker("val","0.00"),e(i.osBaseDirectionHorizontal).selectpicker("val",""),e(i.osVertical).selectpicker("val","0.00"),e(i.osBaseDirectionVertical).selectpicker("val",""),e(i.panelPrismLeft).find("button.dropdown-toggle").removeClass("parsley-error");break;default:e(i.odHorizontal).selectpicker("val","0.00"),e(i.odBaseDirectionHorizontal).selectpicker("val",""),e(i.odVertical).selectpicker("val","0.00"),e(i.odBaseDirectionVertical).selectpicker("val",""),e(i.osHorizontal).selectpicker("val","0.00"),e(i.osBaseDirectionHorizontal).selectpicker("val",""),e(i.osVertical).selectpicker("val","0.00"),e(i.osBaseDirectionVertical).selectpicker("val",""),e(i.panelPrismRight).find("button.dropdown-toggle").removeClass("parsley-error"),e(i.panelPrismLeft).find("button.dropdown-toggle").removeClass("parsley-error")}},setTrackingStatus:function(){return r.setTrackingStatus()},browserName:function(){var e,t=navigator.userAgent,i=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===i[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),i.join(" "))},buildAVSFootnotes:function(e){var t=[];return e.includes("A")&&t.push("Corrected ZIP Code"),e.includes("B")&&t.push("Fixed city/state spelling"),e.includes("C")&&t.push("Invalid city/state/ZIP"),e.includes("D")&&t.push("No ZIP+4 assigned"),e.includes("E")&&t.push("Same ZIP for multiple"),e.includes("F")&&t.push("Address not found"),e.includes("G")&&t.push("Used firm data"),e.includes("H")&&t.push("Missing secondary number"),e.includes("I")&&t.push("Insufficient/ incorrect address data"),e.includes("J")&&t.push("Dual address"),e.includes("K")&&t.push("Cardinal rule match"),e.includes("L")&&t.push("Changed address component"),e.includes("LL")&&t.push("Flagged address for LACSLink"),e.includes("LI")&&t.push("Flagged address for LACSLink"),e.includes("M")&&t.push("Fixed street spelling"),e.includes("N")&&t.push("Fixed abbreviations"),e.includes("O")&&t.push("Multiple ZIP+4; lowest used"),e.includes("P")&&t.push("Better address exists"),e.includes("Q")&&t.push("Unique ZIP match"),e.includes("R")&&t.push("No match; EWS: Match soon"),e.includes("S")&&t.push("Bad secondary address"),e.includes("T")&&t.push("Multiple response due to magnet street syndrome"),e.includes("U")&&t.push("Unofficial post office name"),e.includes("V")&&t.push("Unverifiable city / state"),e.includes("W")&&t.push("Invalid delivery address"),e.includes("X")&&t.push("Unique ZIP Code"),e.includes("Y")&&t.push("Military match"),e.includes("Z")&&t.push("Matched with ZIPMOVE"),t},buildUrl:function(e,t){var i=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&i.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return e+"?"+i.join("&")},displayPrescriptionUpdates:function(){r.displayPrescriptionUpdates()},errorHandling:function(e,t){r.errorHandling(e,t)}}}(jQuery,window,zennir2.global,window.cssua.ua,zennir2.cookies,zennir2.mq),$(document).ready((function(){"use strict";var e;zennir2.utilities.init(),$(window).on("resize",(function(){clearTimeout(e),e=setTimeout((function(){zennir2.mq.isChanged&&zennir2.utilities.init()}),250)})),$(window).winresize((function(){$("html.ua-mobile-iphone.ua-safari-7").length&&$(".one-tile-spot, .comp-two-tile-spot, .comp-three-tile-spot").find("h1, h2, p").css("height","auto")}),250);var t=window.cssua.ua;$("ul.accordion").length&&zennir2.utilities.accordion(),zennir2.utilities.backToTop();var i=$(".selectpicker");i.selectpicker(),t.mobile&&i.selectpicker("mobile");var o=$("a[data-social-url]");o.length&&o.each((function(){var e=$(this).data("social-url");$(this).prop("href",e)}))})),(zennir2=window.zennir2||{}).favorites=function(e,t,i,o,a,n){"use strict";return{strandsTrackingItem:function(e,t){try{void 0===window.StrandsTrack&&(window.StrandsTrack=[]),window.StrandsTrack.push({event:e,item:t}),SBS.Worker.go(o.strandsAPID)}catch(e){}},updateFavLinkInHeader:function(e){e&&t("li.nav-fav > a").attr("href",e)},setFavoritesUrl:function(){this.updateFavLinkInHeader(n.isLoggedIn()?o.favoritesUrl.registered:o.favoritesUrl.anonymous)},updateFavCountInHeader:function(){var e,i=0,o=t("#comp-navigation li.nav-fav");window.favoriteAndRecentlyViewedData&&window.favoriteAndRecentlyViewedData.favorites&&(i=window.favoriteAndRecentlyViewedData.favorites.length),0===i?(o.children("a").removeClass("show-count").find("i").removeClass("fa-heart").addClass("fa-heart-o"),o.find(".count").empty()):(o.children("a").addClass("show-count").find("i").removeClass("fa-heart-o").addClass("fa-heart"),e=i<100?"("+i+")":"99+",o.find(".count").text(e))},getFavoriteId:function(e,t){var i,o=window.favoriteAndRecentlyViewedData.favorites.length;if(t)i=window.favoriteAndRecentlyViewedData.favorites[t].favoriteId;else for(var a=0;a<o;a++)if(e===window.favoriteAndRecentlyViewedData.favorites[a].skuId){i=window.favoriteAndRecentlyViewedData.favorites[a].favoriteId;break}return i},getFavoriteSkus:function(){var e=0,t=[];window.favoriteAndRecentlyViewedData&&window.favoriteAndRecentlyViewedData.favorites&&(e=window.favoriteAndRecentlyViewedData.favorites.length);for(var i=0;i<e;i++)t.push(window.favoriteAndRecentlyViewedData.favorites[i].skuId);return t},getNewFavorite:function(e,t){for(var i=t.length,o={},a=0;a<i;a++)if(e===t[a].favoriteId){o=t[a];break}return o},updateFavoritesData:function(e){var t;t=e.favorites?e.favorites.length:0,window.favoriteAndRecentlyViewedData&&(window.favoriteAndRecentlyViewedData.favorites=e.favorites||[],window.favoriteAndRecentlyViewedData.favCount=t,window.localStorage.setItem("ls-favorite-recently-viewed",JSON.stringify(window.favoriteAndRecentlyViewedData))),window.userProfileObject&&(window.userProfileObject.favoriteCount=t,window.localStorage.setItem("ls-user-profile",JSON.stringify(window.userProfileObject)))},updateRecentlyViewedData:function(e){window.favoriteAndRecentlyViewedData&&(window.favoriteAndRecentlyViewedData.recentlyViewed=e.recentlyViewed||[])},updateFavorites:function(e,i){var a,n=t("#addToWishListForm"),r=t("#updateWishListForm"),s=o.favoritesAjaxUrl,d=null,c=window.userProfileObject&&window.userProfileObject.profile&&window.userProfileObject.profile.wishlistId?window.userProfileObject.profile.wishlistId:null;return n.find('input[name="addToGiftListColor"]').val(e.color),n.find('input[name="addToGiftlistItemId"]').val(e.skuId),n.find('input[name="productId"]').val(i),n.find('input[name="addToWishlistId"]').val(c),n.find('input[name="giftlistId"]').val(c),r.find('input[name="removeFromGiftlistItemId"]').val(e.favoriteId),r.find('input[name="productId"]').val(i),r.find('input[name="removeFromWishlistId"]').val(c),r.find('input[name="giftlistId"]').val(c),a=e.isFavorite?r.serialize():n.serialize(),(d=t.ajax({url:s,cache:!1,method:"POST",dataType:"json",data:a,beforeSend:function(){zennir2.utilities.handleAjaxLoaderDisplay("add")}})).done((function(t,i,o){t.newFavoriteId?(t.dataFavorite=zennir2.favorites.getNewFavorite(t.newFavoriteId,t.favorites||[]),zennir2.favorites.strandsTrackingItem("addtofavorites",e.skuId)):t.removedFavoriteId&&(t.removedFavoriteId=t.removedFavoriteId[0],t.dataFavorite={favorite:!1,favoriteId:"",skuId:e.skuId}),zennir2.favorites.updateFavoritesData(t),zennir2.favorites.updateFavCountInHeader()})),d.fail((function(e,t,i){zennir2.utilities.errorHandling(e.status)})),d.always((function(){zennir2.utilities.handleAjaxLoaderDisplay("remove")})),d},PDP:{colorContainer:".comp-product-image-section .product-colors",skuBtnFav:".comp-pdp-name-section .btn-fav",setIsFavorite:function(){var e,i,o,a;for(o=zennir2.favorites.getFavoriteSkus(),e=window.pdpProductData&&window.pdpProductData.skus?window.pdpProductData.skus.length:0,a=0;a<e;a++)i=t.inArray(window.pdpProductData.skus[a].skuId,o),window.pdpProductData.skus[a].isFavorite=-1!==i,window.pdpProductData.skus[a].favoriteId=-1===i?"":window.favoriteAndRecentlyViewedData.favorites[i].favoriteId},updateFavoritesDisplay:function(){var e=t(this.colorContainer).find(".color-thumbnail.active").parent("a").index(),i=window.pdpProductData&&window.pdpProductData.skus?window.pdpProductData.skus[e]:{},a=i.isFavorite?"addClass":"removeClass",n=i.isFavorite?"fa-heart":"fa-heart-o",r=i.isFavorite?"RemoveFromFav":"AddToFav";t(this.skuBtnFav)[a]("is-favorite"),t(this.skuBtnFav).find("span").text(o.buttonText[r]),t(this.skuBtnFav).find("i").removeClass("fa-heart-o fa-heart").addClass(n)}},ProductTile:{setIsFavorite:function(e){var i,o,a,n,r,s,d=zennir2.favorites.getFavoriteSkus();e.find(".color-swatch > a").each((function(){r=t(this),o=r.data("sku-id").toString(),-1!==(i=t.inArray(o,d))?(n=zennir2.favorites.getFavoriteId(o,i),a=!0,s="fa-heart"):(n="",a=!1,s="fa-heart-o"),r.attr({"data-is-favorite":a,"data-favorite-id":n}),r.data({isFavorite:a,favoriteId:n}),r.hasClass("active")&&r.closest("ul").find("a.lnkFavorite i").removeClass("fa-heart fa-heart-o").addClass(s)}))}},prefetchFavoriteStatus:function(e,t){var i=this;switch(e){case"Product Carousel":case"YMAL":a.receivedServerData?i.ProductTile.setIsFavorite(t):(i.ProductTile.setIsFavorite(t),a.prmServerData.done((function(){i.ProductTile.setIsFavorite(t)})));break;case"PDP":a.receivedServerData?i.PDP.setIsFavorite():(i.PDP.setIsFavorite(),a.prmServerData.done((function(){i.PDP.setIsFavorite(),i.PDP.updateFavoritesDisplay()})))}}}}(window,jQuery,zennir2.mq,zennir2.global,zennir2.pageCache,zennir2.utilities),(zennir2=window.zennir2||{}).userprofile=function(e,t,i,o){"use strict";var a="#wishlistId",n="#addToWishlistId",r="#login-fa";return{getUserName:function(){return window.userProfileObject&&window.userProfileObject.profile?window.userProfileObject.profile.firstName:""},getCartCount:function(){return window.userProfileObject&&window.userProfileObject.cartCount?window.userProfileObject.cartCount:0},getTrackingStatus:function(){return!!(window.userProfileObject&&window.userProfileObject.notifications&&window.userProfileObject.notifications.recentOrdersUpdated)&&window.userProfileObject.notifications.recentOrdersUpdated},setTrackingStatus:function(){var e=zennir2.userprofile.getTrackingStatus(),i=t(".ui-tracking-flag");e?i.addClass("active"):i.removeClass("active")},updateAccountIcon:function(){window.userProfileObject&&window.userProfileObject.profile&&window.userProfileObject.profile.securityStatus?t(r).addClass("color-primary"):t(r).removeClass("color-primary")},updateUserProfileData:function(e){window.userProfileObject=e,window.localStorage.setItem("ls-user-profile",JSON.stringify(window.userProfileObject)),t(a).val(e.profile.wishlistId),t(n).val(e.profile.wishlistId)},updateCartCountInHeader:function(){var e,i,o=t("#comp-navigation li.nav-cart");0===(e=this.getCartCount())?(o.children("a").removeClass("show-count"),o.find(".count").empty()):(o.children("a").addClass("show-count"),i=e<100?"("+e+")":"99+",o.find(".count").text(i))},prefetch:function(){var e=this;i.receivedServerData?(e.setTrackingStatus(),e.updateAccountIcon(),e.updateCartCountInHeader(),o.updateFavCountInHeader(),o.setFavoritesUrl()):(e.setTrackingStatus(),e.updateAccountIcon(),e.updateCartCountInHeader(),o.updateFavCountInHeader(),o.setFavoritesUrl(),i.prmServerData.done((function(){e.setTrackingStatus(),e.updateAccountIcon(),e.updateCartCountInHeader(),o.updateFavCountInHeader(),o.setFavoritesUrl()})))},handleLoginLogoutEvent:function(){var e;e=document.querySelector("#login-large"),window.loginEvent=new CustomEvent("login",{detail:{type:"login",data:t(e).data()}}),window.logoutEvent=new CustomEvent("logout",{detail:{type:"logout",data:t(e).data()}}),e.addEventListener("login",(function(e){}),!1),e.addEventListener("logout",(function(e){}),!1)}}}(window,jQuery,zennir2.pageCache,zennir2.favorites),$(document).ready((function(){"use strict";zennir2.userprofile.handleLoginLogoutEvent(),zennir2.userprofile.prefetch()})),(zennir2=window.zennir2||{}).carousels=function(e,t,i,o){"use strict";var a={handleFavorites:function(o){o.on("click","a.lnkFavorite",(function(o){o.preventDefault();var n,r={},s=null,d=e(this),c=d.closest("ul").find(".color-swatch > a.active"),l=null,u=d.closest(".comp-product-carousel"),p=u.length>0;a.isFavAjaxCallOn||(a.isFavAjaxCallOn=!0,r=c.data(),s=c.data("product-id"),(l=i.updateFavorites(r,s)).done((function(e,i,o){n=e.dataFavorite.favorite?"fa-heart":"fa-heart-o",c.attr({"data-is-favorite":e.dataFavorite.favorite,"data-favorite-id":e.dataFavorite.favoriteId}),c.data({isFavorite:e.dataFavorite.favorite,favoriteId:e.dataFavorite.favoriteId}),d.find("i").removeClass("fa-heart-o fa-heart").addClass(n),p&&!t.desktop.matches&&d.closest(".product-item").hasClass("cloned-product-main")&&(u.find(".product-main .color-swatch > a.active").attr({"data-is-favorite":e.dataFavorite.favorite,"data-favorite-id":e.dataFavorite.favoriteId}),u.find(".product-main .color-swatch > a.active").data({isFavorite:e.dataFavorite.favorite,favoriteId:e.dataFavorite.favoriteId}),u.find(".product-main a.lnkFavorite i").removeClass("fa-heart-o fa-heart").addClass(n)),zennir2.utilities.hasFrameFit&&zennir2.FrameFit.framefitFavoriteUpdate(e)})),l.always((function(){a.isFavAjaxCallOn=!1})))}))},handleColorSwatch:function(i){i.on("click",".color-swatch a",(function(i){i.preventDefault();var o,a,n,r=e(this),s=r.closest(".product-item").length?r.closest(".product-item"):r.closest(".product-main"),d=s.find(".item-image"),c=r.closest(".color-swatch"),l=r.closest(".comp-product-carousel"),u=r.closest("ul").find("a.lnkFavorite"),p=r.index(),f=null,h=null,m=!!r.data("sale"),g=null,v="";l.length;r.hasClass("active")||(c.find("a").removeClass("active"),r.addClass("active"),d.find("> a > img").css("opacity",0),d.find("> a").attr("href",r.data("url")),d.find("> a > img").attr({src:r.data("image"),alt:r.data("imageAltValue")}),(a=r.data("tag"))||(n=s.parents(".tab-pane").attr("id"),a=e('a[href="#'+n+'"]').text()),s.find(".tag span").text(a),g=m?"addClass":"removeClass",s.find(".sale-price").text(r.data("sale-price")),s.find(".list-price").text(r.data("list-price")),s.find(".price")[g]("onsale"),f="out of stock"===r.data("tag").toLowerCase()?"removeClass":"addClass",h="out of stock"===r.data("tag").toLowerCase()?"addClass":"removeClass",s.find(".tag a")[f]("hidden"),d.find("> a > img")[h]("disabled"),v=!0===r.data("is-favorite")?"fa-heart":"fa-heart-o",u.find("i").removeClass("fa-heart-o fa-heart").addClass(v),t.desktop.matches||s.hasClass("cloned-product-main")&&((o=l.find(".product-main")).find(".item-image > a").attr("href",r.data("url")),o.find(".item-image > a > img").attr("src",r.data("image")),o.find(".color-swatch > a").removeClass("active").eq(p).addClass("active"),o.find(".tag span").text(r.data("tag")),o.find(".sale-price").text(r.data("sale-price")),o.find(".list-price").text(r.data("list-price")),o.find(".price")[g]("onsale"),o.find(".tag a")[f]("hidden"),o.find(".item-image > a > img")[h]("disabled"),o.find("a.lnkFavorite").find("i").removeClass("fa-heart-o fa-heart").addClass(v)))}))},productCarousel:e(".comp-product-carousel"),productCarouselWrapper:e(".product-carousel-wrapper"),productCarouselContainer:e(".comp-product-carousel .carousel-container"),productCarouselContainerFeatured:e(".comp-product-carousel .carousel-container-featured"),contentCarousel:e(".comp-content-carousel"),contentCarouselProduct:e(".content-carousel-product"),productCarouselFeatured:e(".product-fp-carousel-wrapper"),rimlessLensCarousel:e("#comp-pdp-rimless-lenses"),compTwoTileSpot:e(".comp-two-tile-spot"),twoTileSpotProduct:e(".two-tile-spot-product"),$slidesSlidesFade:e(".slides.slides-fade"),$orderArtworkComponent:e(".order-artwork-carousel"),$orderPrevItemComponent:e(".order-prev-order-item-carousel"),$orderPrevOrderComponent:e(".order-prev-order-carousel"),$orderPrevOrderCarousel:e(".previous-list-carousel"),initJquerySelector:function(){this.productCarousel=e(".comp-product-carousel"),this.productCarouselWrapper=e(".product-carousel-wrapper"),this.productCarouselContainer=e(".comp-product-carousel .carousel-container"),this.productCarouselContainerFeatured=e(".comp-product-carousel .carousel-container-featured"),this.contentCarousel=e(".comp-content-carousel"),this.contentCarouselProduct=e(".content-carousel-product"),this.productCarouselFeatured=e(".product-fp-carousel-wrapper"),this.rimlessLensCarousel=e("#comp-pdp-rimless-lenses"),this.compTwoTileSpot=e(".comp-two-tile-spot"),this.twoTileSpotProduct=e(".two-tile-spot-product"),this.$slidesSlidesFade=e(".slides.slides-fade"),this.$orderArtworkComponent=e(".order-artwork-carousel"),this.$orderPrevItemComponent=e(".order-prev-order-item-carousel"),this.$orderPrevOrderComponent=e(".order-prev-order-carousel"),this.$orderPrevOrderCarousel=e(".previous-list-carousel")},isGrouped:!0,isHovered:!1,isFavAjaxCallOn:!1,toggleFeaturedSlide:function(){this.productCarouselContainerFeatured.each((function(){var i=e(this),o=i.parents(".comp-product-carousel"),a=i.find(".cloned-product-main");t.mobile.matches?a.remove():a.length||o.find(".product-main").clone().removeClass("product-main").addClass("product-item cloned-product-main").prependTo(i)}))},handlePopoverOnClonedProduct:function(){window.cssua.ua.mobile?e("div.cloned-product-main").find('[data-toggle="popover"]').popover({html:!0,trigger:"click",content:function(){return e(e(this).attr("href")).html()}}):e("div.cloned-product-main").find('[data-toggle="popover"]').popover({html:!0,trigger:"hover",content:function(){return e(e(this).attr("href")).html()}})},ungroupProducts:function(){this.productCarouselContainer.each((function(){var t=e(this),i=t.parents(".comp-product-carousel");t.find(".product-item").unwrap(),i.find(".product-main").clone(!0).removeClass("product-main").addClass("product-item cloned-product-main").prependTo(t)})),this.handlePopoverOnClonedProduct()},groupProducts:function(){this.productCarouselContainer.each((function(){var t,i=e(this);i.find(".cloned-product-main").length&&i.find(".product-item:first").remove(),t=i.find(">.product-item").length/2;for(var o=0;o<t;o++)i.append('<div class="product-group"></div>'),i.find(".product-group").eq(o).append(i.find(">.product-item:first")).append(i.find(">.product-item:first"))}))},hoverManipilation:function(){this.isHovered||(this.isHovered=!0,this.productCarouselContainer.each((function(){var t,i=e(this);i.on("init afterChange mouseup",(function(e){i.find(".slick-slide").not(".slick-active").css("visibility","hidden"),i.find(".slick-list").css("overflow","visible"),clearTimeout(t),t=setTimeout((function(){i.closest(".comp-product-carousel").find(".product-main .items-bg").css("width","95%")}),500)})),i.on("beforeChange mousedown",(function(){i.closest(".comp-product-carousel").find(".product-main .items-bg").css("width","100%"),i.find(".slick-list").css("overflow","hidden"),i.find(".slick-slide").not(".slick-active").css("visibility","visible")}))})))},toggleProductCarousel:function(e,t){t?t.css("opacity",e):this.productCarouselContainer.css("opacity",e)},slickProducts:function(){t.desktop.matches?(this.isGrouped||(this.groupProducts(),this.isGrouped=!0),this.hoverManipilation(),this.productCarouselContainer.each((function(){var t=e(this).closest(".comp-product-carousel");e(this).slick({infinite:!1,speed:300,slidesToShow:4,slidesToScroll:4,arrows:!0,prevArrow:'<a href="#" class="slick-prev" aria-label="Click on icon to go previous slide"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>',nextArrow:'<a href="#" class="slick-next" aria-label="Click on icon to go next slide"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>',appendArrows:t.find(".slick-pagination"),responsive:[{breakpoint:1650,settings:{slidesToShow:3,slidesToScroll:3}}]})}))):(this.isGrouped&&(this.ungroupProducts(),this.isGrouped=!1),this.productCarouselContainer.each((function(){var t=e(this),i=t.closest(".comp-product-carousel");t.slick({infinite:!1,slidesToShow:2,slidesToScroll:2,arrows:!0,prevArrow:'<a href="#" class="slick-prev" aria-label="Click on icon to go previous slide"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>',nextArrow:'<a href="#" class="slick-next" aria-label="Click on icon to go next slide"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>',appendArrows:i.find(".slick-pagination"),responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,appendArrows:t}}]})}))),window.setTimeout((function(){a.toggleProductCarousel("1",e(".tab-pane.active").find(".carousel-container"))}),250)},paginateProductCarousel:function(){this.productCarouselContainer.each((function(){e(this).on("init afterChange",(function(i,o){var a,n,r=o.slideCount,s=o.currentSlide,d=1,c=e(this).closest(".comp-product-carousel"),l=c.find(".slick-counter");"init"===i.type&&(l.remove(),c.find(".slick-pagination > a.slick-prev").after('<span class="slick-counter color-primary"></span>')),t.largeDesktop.matches?d=4:t.desktop.matches?d=3:t.tablet.matches&&(d=2),a=s/d+1,n=Math.ceil(r/d),(l=c.find(".slick-counter")).html(a+" of "+n)}))}))},handleTabDisplay:function(){this.productCarouselContainerFeatured.each((function(){var i=e(this).parents(".product-carousel-wrapper").find("ul.nav");t.mobile.matches?(i.find("a.tab-featured").tab("show"),i.hide()):i.show()}))},handleShadowBlink:function(e){e.on("mouseup mousedown","div.item-top > ul > li",(function(e){e.stopPropagation()}))},handleProductCarouselRefresh:function(){this.productCarouselWrapper.find('a[data-toggle="tab"]').on("shown.bs.tab",(function(t){var i=e(t.target).attr("href"),o=e(i).find(".carousel-container");o.slick("setPosition"),o.slick("setPosition"),window.setTimeout((function(){a.toggleProductCarousel("1",o)}),150)})),this.productCarouselWrapper.find('a[data-toggle="tab"]').on("hidden.bs.tab",(function(t){a.toggleProductCarousel("0",e(e(t.target).attr("href")).find(".carousel-container")),a.toggleProductCarousel("0",e(e(t.relatedTarget).attr("href")).find(".carousel-container"))}))},refreshProductCarousel:function(){this.productCarouselContainer.filter(":visible").slick("slickSetOption","arrows",!0,!0)},handleImagefadeIn:function(t){t.find(".item-image img").on("load",(function(){var t,i=e(this),o=i.closest(".product-main");o.length&&(t=o.closest(".comp-product-carousel").find(".cloned-product-main .item-image img")),i.hasClass("disabled")?i.add(t).fadeTo(600,.5):i.add(t).fadeTo(600,1)}))},initProductCarouselEvents:function(){this.handleProductCarouselRefresh(),this.handleImagefadeIn(this.productCarousel),this.handleFavorites(this.productCarousel),this.handleColorSwatch(this.productCarousel),this.handleShadowBlink(this.productCarouselContainer),this.paginateProductCarousel()},ContentCarousel:{refreshContentCarousel:function(){e(".comp-content-carousel .content-slides").each((function(){e(this).slick("slickSetOption","dots",!0,!0)}))},slickContentCarousel:function(t){t.each((function(){var t=e(this).find(".content-slides"),i={dots:!0,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:'<a href="#" class="slick-prev padding-0 padding-left-20 padding-right-20 font-large" aria-label="Click on icon to go previous slide"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>',nextArrow:'<a href="#" class="slick-next padding-0 padding-left-20 padding-right-20 font-large" aria-label="Click on icon to go next slide"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>',appendArrows:e(this).find(".slick-pagination"),appendDots:e(this).find(".slick-pagination .slick-counter"),customPaging:function(e,t){return t+1+' of <span class="page-count">'+e.slideCount+"</span>"},responsive:[{breakpoint:768,settings:{adaptiveHeight:!!e(this).hasClass("adaptive-height")}}]};t.slick(i)}))},reInitContentCarousel:function(e){this.slickContentCarousel(e.find(".comp-content-carousel"))}},pdpRimlessLensCarousel:function(){a.rimlessLensCarousel.each((function(){var t=e(this).find("ul.tab-pane-wrapper"),i=e(this).find(".nav-tabs a"),o=e(this).find(".tab-pane-wrapper.active");t.slick({mobileFirst:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,centerMode:!0,infinite:!0,focusOnSelect:!0,variableWidth:!0,responsive:[{breakpoint:1023,settings:"unslick"}]}),o.slick("slickGoTo",o.find("li.active").attr("data-slick-index")).on("afterChange",(function(t,i,o){e(this).find("[data-slick-index]").removeClass("active"),e(this).find("[data-slick-index="+o+"]").addClass("active")})),i.on("shown.bs.tab",(function(t){var i=e(this).attr("href");e(i).slick("slickGoTo",e(i).find("li.active").attr("data-slick-index"))}))}))},playVideo:function(){e(".comp-two-tile-spot, .comp-three-tile-spot").on("click","video",(function(){var t=e(this).get(0);t.paused?t.play():t.pause()}))},autoPlayOneTileSpot:function(){e(".one-tile-spot").each((function(){var i=!!e(this).data("carousel")&&e(this).data("carousel").autoplay;t.mobile.matches&&e(this).data("paused")?e(this).slick("slickPlay"):i&&e(this).data("paused")&&e(this).slick("slickPause")}))},handleOneTileCarouselRefresh:function(){e(".one-tile-spot").each((function(){e(".page-shop-by-style")||e(this).slick("slickSetOption","dots",!0,!0)}))},initOneTileSpotEvents:function(){if(e(".one-tile-spot").on("click",".slick-dots > li",(function(){e(this).parents(".one-tile-spot").slick("slickPause"),e(this).parents(".one-tile-spot").data("paused",!0)})),e(".one-tile-spot").on("touchstart touchmove",".slide",(function(){t.mobile.matches&&e(this).parents(".one-tile-spot").slick("slickPause")})).on("touchend",".slide",(function(){t.mobile.matches&&e(this).parents(".one-tile-spot").slick("slickPlay")})),e(".one-tile-spot").each((function(){e(this).on("init",(function(t,i){e(this).find(".slide").css("opacity",1)}))})),e(".slide-video").length){this.playVideo();var i=null;"ipad"===window.cssua.ua.mobile&&parseFloat(window.cssua.ua.ios)<10&&e(".slide-video video").each((function(){e(this).attr("controls",!0)})),e(".one-tile-spot .slide-video").each((function(){var o=e(this).closest(".one-tile-spot");o.is(i)||o.on("init afterChange",(function(i,o){t.tablet.matches&&(e(this).find(".slide-video video").each((function(){this.pause()})),e(this).find(".slide-video.slick-active video").length&&e(this).find(".slide-video.slick-active video").get(0).play())})),i=o}))}},initShopByStyleSpot:function(){var setShopByStyleSpot=function(t){e(".one-tile-spot").slick({arrows:!1,dots:!1,draggable:!1,initialSlide:t,speed:500,swipe:!1,touchMove:!1,infinite:!1})};"men"===zennir2.utilities.getUrlSingleQueryValue(window.location.href,"gender")?(setShopByStyleSpot(1),e('[aria-controls="tab-men-style"]').trigger("click")):(setShopByStyleSpot(0),e('[aria-controls="tab-women-style"]').trigger("click"))},initOneTileSpot:function(){this.initOneTileSpotEvents(),e(".one-tile-spot").each((function(){var t=e.extend({dots:!0,arrows:!1,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3},e(this).data("carousel"));e(this).slick(t)}))},OneTileSpot:{setVideoDimension:function(t){var i,o,a=0,n=0;function setDimension(e,t){t.css({width:"auto",height:"auto"}),a=e.width()/e.height(),n=t.width()/t.height(),a>=n?t.css({width:"100%",height:"auto"}):t.css({width:"auto",height:"100%"})}t.each((function(){i=e(this),o=i.find("video"),o.get(0).onloadeddata=function(){setDimension(i,o)},setDimension(e(this),o)}))},carouselVideoRefresh:function(t){t.on("init",(function(t,i){e(this).find(".slide-video").length&&e(window).resize()}))},carouselUpdateOpacity:function(t){t.on("init",(function(t,i){e(this).find(".slide").css("opacity",1)}))},clickToPlayVideo:function(t){t.on("click","video",(function(){var t=e(this).get(0);t.paused?t.play():t.pause()}))},playActiveTileVideo:function(i){var o,a;i.each((function(){(o=i.closest(".one-tile-spot")).is(a)||o.on("init afterChange",(function(i,o){t.tablet.matches&&(e(this).find(".slide-video video").each((function(){this.pause()})),e(this).find(".slide-video.slick-active video").length&&e(this).find(".slide-video.slick-active video").get(0).play())})),a=o}))},clickSlickDots:function(t){t.on("click",".slick-dots > li",(function(){e(this).parents(".one-tile-spot").slick("slickPause"),e(this).parents(".one-tile-spot").data("paused",!0)}))},pauseCarouselOnTouch:function(i){i.on("touchstart touchmove",".slide",(function(){t.mobile.matches&&e(this).parents(".one-tile-spot").slick("slickPause")})).on("touchend",".slide",(function(){t.mobile.matches&&e(this).parents(".one-tile-spot").slick("slickPlay")}))},reInitOneTileSpotEvents:function(t){t.find(".one-tile-spot").each((function(){a.OneTileSpot.carouselVideoRefresh(e(this)),a.OneTileSpot.carouselUpdateOpacity(e(this))})),t.find(".slide-video").length&&this.playActiveTileVideo(t.find(".one-tile-spot .slide-video")),this.clickSlickDots(t.find(".one-tile-spot")),this.pauseCarouselOnTouch(t.find(".one-tile-spot"))},slickOneTileCarousel:function(t){var i=e.extend({dots:!0,arrows:!1,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3},t.data("carousel"));t.slick(i)},reInitOneTileSpot:function(t){this.reInitOneTileSpotEvents(t),t.find(".one-tile-spot").each((function(){a.OneTileSpot.slickOneTileCarousel(e(this))}))}},YMAL:{$ymalComponent:e(".comp-ymal-carousel"),$ymalCarousel:e(".comp-ymal-carousel .ymal-carousel"),handleYMALCounterResposition:function(){a.YMAL.$ymalCarousel.each((function(){e(this).on("init afterChange breakpoint",(function(i){if(t.tablet.matches){var o=e(this).parent(".comp-ymal-carousel"),a=o.find(".slick-next"),n=o.find(".slick-dots");a.insertAfter(n)}}))}))},handleYMALHoverManipulation:function(){a.YMAL.$ymalCarousel.each((function(){e(this).on("init afterChange mouseup",(function(t){e(this).find(".slick-list").css("overflow","visible")})),e(this).on("beforeChange mousedown",(function(t){e(this).find(".slick-list").css("overflow","hidden")}))}))},handleYMALImageFadeIn:function(){a.YMAL.$ymalCarousel.each((function(){e(this).on("init",(function(t){a.handleImagefadeIn(e(this))}))}))},handleIsFavoriteYMAL:function(){a.YMAL.$ymalCarousel.each((function(){e(this).on("init",(function(t){i.ProductTile.setIsFavorite(e(this)),i.prefetchFavoriteStatus("YMAL",e(this))}))}))},initYMALCarouselEvents:function(){a.YMAL.handleYMALCounterResposition(),a.YMAL.handleYMALHoverManipulation(),a.YMAL.handleYMALImageFadeIn(),a.YMAL.handleIsFavoriteYMAL(),a.handleFavorites(this.$ymalComponent),a.handleColorSwatch(this.$ymalComponent),a.handleShadowBlink(this.$ymalCarousel)},slickYMALCarousel:function(e){if(0!==e.children().length){var i=e.parent(".comp-ymal-carousel");i.find(".slick-pagination");e.slick({infinite:!1,speed:300,slidesToShow:6,slidesToScroll:6,dots:!0,appendDots:i.find(".slick-pagination"),arrows:!0,prevArrow:'<a href="#" class="slick-prev" aria-label="Click on icon to go previous slide"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>',nextArrow:'<a href="#" class="slick-next" aria-label="Click on icon to go next slide"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>',appendArrows:i.find(".slick-pagination"),customPaging:function(e,i){var o=1;return t.HD1280.matches?o=6:t.desktop.matches?o=4:t.tablet.matches&&(o=2),i+1+" of "+Math.ceil(e.slideCount/o)},responsive:[{breakpoint:1280,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,appendArrows:e}}]})}},initYMALCarousel:function(){a.YMAL.$ymalCarousel.each((function(){a.YMAL.slickYMALCarousel(e(this))}))},reinitYmalCarousel:function(e){a.YMAL.slickYMALCarousel(e),o.reinitPopovers(e,null)}},CrossCellCarsousel:{getEle:function(){return{$carouselContainer:e(".cross-upsell-container.cross-upsell-carousel"),$carousel:e(".cross-upsell-container.cross-upsell-carousel .product-tiles-container"),$pagenav:e(".section-cross-cell .title-container .slick-pagination")}},handleCounterPosition:function(){var e=a.CrossCellCarsousel.getEle();e.$carousel.off().on("init afterChange breakpoint",(function(i){if(t.tablet.matches){var o=e.$pagenav.find(".slick-next"),a=e.$pagenav.find(".slick-dots");o.insertAfter(a)}}))},initCrossCellCarsousel:function(){var e=a.CrossCellCarsousel.getEle();if(0!==e.$carousel.children().length&&(e.$carousel.find('[data-toggle="popover"]').popover("destroy"),e.$carousel.slick({infinite:!1,speed:300,arrows:!0,slidesToShow:3,slidesToScroll:3,dots:!0,appendDots:e.$pagenav,prevArrow:'<a href="#" class="slick-prev" aria-label="Click on icon to go previous slide"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>',nextArrow:'<a href="#" class="slick-next" aria-label="Click on icon to go next slide"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>',appendArrows:e.$pagenav,customPaging:function(e,i){var o=1;return t.tablet.matches&&(o=3),i+1+" of "+Math.ceil(e.slideCount/o)},responsive:[{breakpoint:768,settings:{infinite:!0,slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!0,appendArrows:e.$carousel}}]}),e.$carouselContainer.find(".product-item").length<=1)){e.$carousel.slick("slickSetOption","responsive",[{breakpoint:767,settings:{slidesToShow:1,dots:!1,arrows:!1,centerMode:!1}}],!0)}}},$orderArtworkCarousel:".artwork-carousel",handleorderArtworkCounterResposition:function(){e(".artwork-carousel").each((function(){e(this).on("init afterChange breakpoint",(function(t){var i=e(this).parent(".order-artwork-carousel"),o=i.find(".slick-next"),a=i.find(".slick-dots");o.insertAfter(a)}))}))},initorderArtworkCarousel:function(){var i=e(".artwork-carousel"),o=e(".artwork-carousel").parent(".order-artwork-carousel");o.find(".slick-pagination");i.slick({makeGrid:!0,infinite:!1,speed:300,slidesPerRow:1,rows:1,slidesToShow:8,slidesToScroll:8,dots:!0,appendDots:o.find(".slick-pagination"),arrows:!0,prevArrow:'<a href="#" class="slick-prev" aria-label="Click on icon to go previous slide"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>',nextArrow:'<a href="#" class="slick-next" aria-label="Click on icon to go next slide"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>',appendArrows:o.find(".slick-pagination"),customPaging:function(e,i){var o=1;return t.largeDesktop.matches?o=8:t.desktop.matches?o=5:t.tablet.matches?o=4:t.mobile.matches&&(o=1),i+1+" of "+Math.ceil(e.slideCount/o)},responsive:[{breakpoint:1650,settings:{slidesPerRow:1,rows:1,slidesToShow:5,slidesToScroll:5}},{breakpoint:1024,settings:{slidesPerRow:1,rows:1,slidesToShow:4,slidesToScroll:4}},{breakpoint:768,settings:{slidesPerRow:2,rows:4,slidesToShow:1,slidesToScroll:1}}]})},reinitArtworkCarousel:function(e){a.handleorderArtworkCounterResposition(),a.initorderArtworkCarousel()},$orderPrevItemCarousel:".order-previous-item-carousel",handleorderPrevItemCounterResposition:function(){e(".order-previous-item-carousel").each((function(){e(this).on("init afterChange breakpoint",(function(t){var i=e(this).parent(".order-prev-order-item-carousel"),o=i.find(".slick-next"),a=i.find(".slick-dots");o.insertAfter(a)}))}))},initorderPrevItemCarousel:function(){e(".order-previous-item-carousel").each((function(){var i=e(this),o=e(this).parent(".order-prev-order-item-carousel");o.find(".slick-pagination");i.slick({infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,dots:!0,appendDots:o.find(".slick-pagination"),arrows:!0,prevArrow:'<a href="#" class="slick-prev" aria-label="Click on icon to go previous slide"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>',nextArrow:'<a href="#" class="slick-next" aria-label="Click on icon to go next slide"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>',appendArrows:o.find(".slick-pagination"),customPaging:function(e,i){return t.largeDesktop.matches?6:t.desktop.matches?4:t.tablet.matches&&2,i+1+" of "+Math.ceil(e.slideCount)}})}))},reinitPrevItemCarousel:function(e){a.handleorderPrevItemCounterResposition(),a.initorderPrevItemCarousel()},handleorderPrevOrderCounterResposition:function(){e(".previous-list-carousel").each((function(){e(this).on("init afterChange breakpoint",(function(t){var i=e(this).parent(".order-prev-order-carousel"),o=i.find(".slick-next"),a=i.find(".slick-dots");o.insertAfter(a)}))}))},initOrderPrevOrderCarousel:function(){e(".previous-list-carousel").each((function(){var i=e(this),o=e(this).parent(".order-prev-order-carousel");o.find(".slick-pagination");i.slick({infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,dots:!0,appendDots:o.find(".slick-pagination"),arrows:!0,prevArrow:'<a href="#" class="slick-prev" aria-label="Click on icon to go previous slide"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>',nextArrow:'<a href="#" class="slick-next" aria-label="Click on icon to go next slide"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>',appendArrows:o.find(".slick-pagination"),customPaging:function(e,i){return t.largeDesktop.matches?6:t.desktop.matches?4:t.tablet.matches&&2,i+1+" of "+Math.ceil(e.slideCount)}})}))},reinitPrevOrderCarousel:function(e){a.handleorderPrevOrderCounterResposition(),a.initOrderPrevOrderCarousel()},slidesFade:function(){a.$slidesSlidesFade.each((function(){var t=e(this);t.slick({autoplay:t.data("autoplay"),arrows:!1,pauseOnFocus:t.data("pauseOnFocus"),pauseOnHover:t.data("pauseOnHover"),touchMove:t.data("touchMove"),fade:t.data("fade"),swipe:t.data("swipe"),autoplaySpeed:t.data("autoplaySpeed"),speed:t.data("speed"),cssEase:t.data("cssEase"),dots:t.data("dots"),responsive:t.data("responsive")})}))},slidesClickable:function(){e(".slides.slides-fade").on("click",(function(t){!0===e(this).data("click-next-slide")&&(t.target.classList.contains("slick-active")||e(this).slick("slickNext"))}))}};return{handleTabDisplay:function(){a.handleTabDisplay()},toggleProductCarousel:function(e){a.toggleProductCarousel(e)},slickProducts:function(){a.slickProducts()},unslickProducts:function(){a.productCarouselContainer.each((function(){e(this).slick("unslick")}))},handleSlideVideo:function(){var i;e(".slides").each((function(){var o,n=e(this),r=n.find(".slide-video"),s=n.find('.slide-video[data-popup="true"]');if(r.length){e("#videoModal").length||e("body").prepend('<div class="modal fade" id="videoModal" tabindex="-1" role="dialog" aria-labelledby="videoModalLabel">\n\t<div class="modal-dialog" role="document">\n\t\t<div class="modal-content">\n\t\t\t<div class="modal-header">\n\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n\t\t\t</div>\n\t\t\t<div class="modal-body">\n\t\t\t\t<iframe width="100%" height="100%" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'),s.each((function(){var t=e(this),i=e(this).closest(".slides"),o=i.data("carousel").autoplay;if(t.data("video-type")==="youtube".toLowerCase()){"iphone"===window.cssua.ua.mobile&&t.find("video").remove();var a=e(this).data("video-src"),n=e("#videoModal");n.on("show.bs.modal",(function(){n.find("iframe").attr("src",a),"iphone"!==window.cssua.ua.mobile&&t.find("video").get(0).pause(),i.slick("slickPause")})),n.on("hide.bs.modal",(function(){n.find("iframe").attr("src",""),"iphone"!==window.cssua.ua.mobile&&t.find("video").get(0).play(),o&&i.slick("slickPlay")}))}})),s.data("popup")||r.find('a[href="#videoModal"]').attr("href","javascript:void(0)"),t.tablet.matches?n.find(".slide-image").length?((o=n.find(".slide-image").eq(0).find("img")).get(0).complete?(o.off("load error"),i=o.height()):o.on("load",(function(){e(this).off("load error"),i=e(this).height(),r.height(i),a.OneTileSpot.setVideoDimension(r)})),r.height(i),a.OneTileSpot.setVideoDimension(r)):n.find("video").css({position:"relative",transform:"translate(0,0)",left:0,top:0,width:"100%"}):r.height("auto")}}))},autoPlayOneTileSpot:function(){a.autoPlayOneTileSpot()},handleOneTileCarouselRefresh:function(){a.handleOneTileCarouselRefresh()},reInitOneTileSpot:function(e){a.OneTileSpot.reInitOneTileSpot(e)},reInitContentCarousel:function(e){a.ContentCarousel.reInitContentCarousel(e)},reinitYmalCarousel:function(e){a.YMAL.reinitYmalCarousel(e)},reinitCrossCellCarsousel:function(){a.CrossCellCarsousel.handleCounterPosition(),a.CrossCellCarsousel.initCrossCellCarsousel()},reinitArtworkCarousel:function(e){a.reinitArtworkCarousel(e)},reinitPrevItemCarousel:function(e){a.reinitPrevItemCarousel(e)},reinitPrevOrderCarousel:function(e){a.reinitPrevOrderCarousel(e)},init:function(){a.initJquerySelector(),e(".one-tile-spot").length&&(e(".page-shop-by-style").length?a.initShopByStyleSpot():a.initOneTileSpot()),e(".comp-product-carousel").length&&(this.toggleProductCarousel("0"),a.initProductCarouselEvents(),this.slickProducts(),this.handleTabDisplay(),i.prefetchFavoriteStatus("Product Carousel",a.productCarousel)),a.contentCarousel.length&&a.ContentCarousel.slickContentCarousel(a.contentCarousel),a.YMAL.$ymalCarousel.length&&(a.YMAL.initYMALCarouselEvents(),a.YMAL.initYMALCarousel(),window.dfdYmal&&window.dfdYmal.resolve()),e(".cross-upsell-container.cross-upsell-carousel .product-tiles-container").length&&(a.CrossCellCarsousel.handleCounterPosition(),a.CrossCellCarsousel.initCrossCellCarsousel()),a.$orderArtworkCarousel.length,a.$orderPrevItemCarousel.length,a.$orderPrevOrderCarousel.length,a.rimlessLensCarousel.length,a.$slidesSlidesFade.length&&(a.slidesFade(),a.slidesClickable())},refreshProductCarousel:function(){a.refreshProductCarousel()},refreshContentCarousel:function(){a.ContentCarousel.refreshContentCarousel()},pdpRimlessLensCarousel:a.pdpRimlessLensCarousel}}(jQuery,zennir2.mq,zennir2.favorites,zennir2.utilities),$(document).ready((function(){"use strict";var e=!1;zennir2.carousels.init(),$(".slide-video").length&&setTimeout((function(){zennir2.carousels.handleSlideVideo()}),1e3),$(window).winresize((function(){$("#comp-pdp-rimless-lenses").length,$(".comp-product-carousel").length&&(!window.cssua.ua.ios||window.cssua.ua.ios&&e)&&(e=!1,zennir2.carousels.unslickProducts(),zennir2.carousels.slickProducts(),zennir2.carousels.handleTabDisplay()),zennir2.carousels.autoPlayOneTileSpot(),$(".slide-video").length&&zennir2.carousels.handleSlideVideo()}),300),$(window).on("orientationchange",(function(){window.cssua.ua.ios&&(e=!0),zennir2.carousels.toggleProductCarousel("0",$(".tab-pane.active").find(".carousel-container"))}))})),(zennir2=window.zennir2||{}).validateForm=function(e){"use strict";var t={parsleyCustomValidators:function(){window.Parsley.addValidator("checkEmoji",{requirementType:"string",validateString:function(e,t,i){return zennir2.utilities.checkEmoji(e)},messages:{en:"Emoji is not allowed."}}),e('input[type="text"], textarea').parsley({checkEmoji:""}),e(document).ready((function(){e("div.no-glasses>a").attr("tabindex","-1").find("p").attr("aria-disabled","true");var t=e("li a .fa-home").parent();void 0===t.attr("aria-label")&&void 0===t.attr("title")&&""===t.text()&&"/"===t.attr("href")&&t.attr("aria-label","zenni home page"),e('.slick-list .slick-track[role="listbox"]').attr("aria-label","Banner Image");let i=e("#filter-accordions li");for(var o=0;o<i.length;o++)e(i[o]).hasClass("disabled")&&e(i[o]).find("a.filter-accordion-heading").attr({"aria-disabled":!0,tabindex:-1});e(".order-steps.disabled").attr("aria-disabled",!0),e(".step.step01, .step.step02, .step.step03").attr("aria-disabled",!0),e("body").on("keyup",".product-item, .product-main",(function(t){9==t.which&&(e(".item-top").removeClass("addopacity"),e(this).find(".item-top").addClass("addopacity"))})),e("body").on("keyup",".comp-filter , #bottom-section",(function(t){9==t.which&&e(".item-top").removeClass("addopacity")})),e(".filter-option , .disabled > span").attr("aria-disabled",!0),e("button.dropdown-toggle").attr("aria-label","select a combo box"),e(".dualPdDropdown.disabled button.dropdown-toggle , .singlePdDropdown.disabled button.dropdown-toggle").attr("tabindex","-1"),e(".dropdown-dual-right.disabled button.dropdown-toggle , .dropdown-dual-left.disabled button.dropdown-toggle, .pd-dropdown-single.disabled button.dropdown-toggle").attr("disabled",!0),e(".prescription-form .bootstrap-select.disabled button.dropdown-toggle").attr("tabindex","-1"),e("input[type=radio][name=pdRadio]").on("change",(function(){var t=e(this).val();e(".dropdown-dual-right button.dropdown-toggle , .dropdown-dual-left button.dropdown-toggle, .pd-dropdown-single button.dropdown-toggle").attr("disabled",!1),"single"===t?(e(".dualPdDropdown.disabled button.dropdown-toggle").attr("tabindex","-1"),e(".singlePdDropdown button.dropdown-toggle").attr("tabindex","0")):(e(".dualPdDropdown button.dropdown-toggle").attr("tabindex","0"),e(".singlePdDropdown.disabled button.dropdown-toggle").attr("tabindex","-1")),"true"===t?(e(".dropdown-dual-right.disabled button.dropdown-toggle , .dropdown-dual-left.disabled button.dropdown-toggle").attr("tabindex","-1"),e(".pd-dropdown-single button.dropdown-toggle").attr("tabindex","0")):(e(".dropdown-dual-right button.dropdown-toggle , .dropdown-dual-left button.dropdown-toggle").attr("tabindex","0"),e(".pd-dropdown-single.disabled button.dropdown-toggle").attr("tabindex","-1"))}));for(var a=e("form [required]"),n=0;n<a.length;n++){var r=e(a[n]);if(e(r).attr("aria-invalid"))"true"===e(r).attr("aria-invalid")&&e(r).attr("aria-invalid","true")}e('[type="submit"]').click((function(){var t=e(this).closest("form"),i=t.find(".form-group"),o=t.find("#input-login-email"),a=t.find("#input-login-pswd"),n=e(o).attr("aria-errormessage"),r=e(a).attr("aria-errormessage");e(o).parsley({errorTemplate:'<li id="'+n+'" aria-live="assertive" role="alert"></li>'}),e(a).parsley({errorTemplate:'<li id="'+r+'" aria-live="assertive" role="alert"></li>'});var s=null;if(t.find(".selectpicker").length)for(var d=0;d<i.length;d++){s=e(i[d]).find("[required]");var c=e(s).attr("aria-errormessage");e(s).parsley({errorTemplate:'<li id="'+c+'" aria-live="assertive" role="alert"></li>'}),e(s).siblings("ul").find("li").attr({id:c,"aria-live":"assertive",role:"alert"}),s.hasClass("parsley-error")||s.hasClass("parsley-success")?e(s).hasClass("parsley-error")?e(s).attr("aria-invalid","true"):e(s).attr("aria-invalid","false"):e(s).val()?e(s).attr("aria-invalid","false"):e(s).attr("aria-invalid","true")}else for(var l=0;l<i.length;l++){s=e(i[l]).find("[required]");c=e(s).attr("aria-errormessage");e(s).parsley({errorTemplate:'<li id="'+c+'" aria-live="assertive" role="alert"></li>'}),s.hasClass("parsley-error")||s.hasClass("parsley-success")?e(s).hasClass("parsley-error")?e(s).attr("aria-invalid","true"):e(s).attr("aria-invalid","false"):e(s).val()?e(s).attr("aria-invalid","false"):e(s).attr("aria-invalid","true")}if("saveAddress"===e(this).attr("id")){var u=t.find("#address1");e(u).siblings("#avsList").attr("tabindex","0").focus()}if("save"===e(this).attr("id")){u=t.find("#address-first");e(u).siblings("#avsError").focus(),e(u).siblings("#avsList").attr("tabindex","0")}})),e("form input").keyup((function(){e(this).hasClass("parsley-error")?e(this).attr("aria-invalid","true"):e(this).attr("aria-invalid","false")}))})),window.Parsley.addValidator("engraveText",{validateString:function(e){return new RegExp(/^[A-Za-z--\d\s-!$%^&*()_+|~=`{}\[\]:\\/;<>?,.@#"']*$/).test(e)},messages:{en:"This is invalid..."}})},verify:function(){e("form").each((function(){var t=e(this);t.find(".selectpicker").length&&(t.parsley().on("field:validated",(function(){t.find(".selectpicker").each((function(){e(this).parsley().isValid()?e(this).siblings(".dropdown-toggle").removeClass("parsley-error"):e(this).siblings(".dropdown-toggle").addClass("parsley-error")}))})),t.find(".selectpicker").on("changed.bs.select",(function(){e(this).siblings(".dropdown-toggle").removeClass("parsley-error").siblings("ul").find(".parsley-required").remove()})))}))},validateEmailSignUp:function(t){var i="",o=t.attr("action"),a=t.prev("div.server-message").length?t.prev("div.server-message"):t.next("div.server-message"),n=t.find('input[type="email"]'),r=t.find('input[type="submit"]'),s=null,d=null;return t.hasClass("form-collection-product-tile")?((s=e("form#outOfStockReminderForm")).find("#outOfStockSkuId").val(t.find(".hdn-sku-id").val()),s.find("#txtPdpOosEmailId").val(t.find(".txt-email-id").val()),i=s.serialize(),o=s.attr("action")):t.hasClass("form-favorites-product-tile")?((s=e("form#outOfStockReminderForm")).find("#outOfStockSkuId").val(t.find(".hdn-sku-id").val()),s.find("#txtOosEmailId").val(t.find(".txt-email-id").val()),i=s.serialize(),o=s.attr("action")):i=t.serialize(),r.prop("disabled",!0),zennir2.windsorCircle.fnIdentifyViaEmail(n.get(0)),(d=e.ajax({url:o,cache:!1,method:"POST",dataType:"json",data:i,beforeSend:function(){zennir2.utilities.handleAjaxLoaderDisplay("add")}})).done((function(e,t,i){a.addClass("active").removeClass("hidden"),e.message&&a.find("span").text(e.message),e.errorMessage&&a.find("span").text(e.errorMessage)})),d.fail((function(e,t,i){a.addClass("active").removeClass("hidden"),a.find("span").text(t)})),d.always((function(){zennir2.utilities.handleAjaxLoaderDisplay("remove"),r.prop("disabled",!1),n.attr("placeholder",n.data("placeholder")).val("")})),d},injectErrorMessage:function(t,i,o){var a=['<div class="well well-danger">',"<h5>{errorHeading}</h5>","<p>{errorMessage}</p>","</div>"].join("");a=a.replace("{errorHeading}",i).replace("{errorMessage}",o),e(a).insertBefore(e(t))},injectInputMessage:function(t,i){var o='<div class="color-danger">{errorMessage}</div>';o=o.replace("{errorMessage}",i),e(t).addClass("parsley-error").after(o)}};return{init:function(){t.parsleyCustomValidators(),t.verify()},validateEmailSignUp:function(e){return t.validateEmailSignUp(e)},validateHeaderLogin:function(e){return t.validateHeaderLogin(e)},injectErrorMessage:function(e,i,o){t.injectErrorMessage(e,i,o)},injectInputMessage:function(e,i){t.injectInputMessage(e,i)}}}(jQuery),$(document).ready((function(){"use strict";zennir2.validateForm.init()})),(zennir2=window.zennir2||{}).config=function(e,t,i){"use strict";var _this_widthConfig=function(){t("[data-width]").each((function(){var e=t(this).data("width");t(this).css("width",e)})),t("[data-width-desktop]").each((function(){if(i.desktop.matches){var e=t(this).data("width-desktop");t(this).css("width",e)}else t(this).css("width","auto")})),t("[data-width-mobile]").each((function(){if(t(this).css("width","auto"),!i.desktop.matches){var e=t(this).data("width-mobile");t(this).css("width",e)}}))},_this_bgImageConfig=function(){t("[data-background-image]").each((function(){if(i.desktop.matches){var e=t(this).data("background-image");t(this).css("background-image","url("+e+")")}else t(this).css("background-image","none")}))},_this_bgMenuOverlayConfig=function(){t("a.menu-overlay-background-image").each((function(){t(this).css({width:t(this).data("width"),height:t(this).data("height")})}))};return{init:function(){_this_widthConfig(),_this_bgImageConfig(),_this_bgMenuOverlayConfig()}}}(window,jQuery,zennir2.mq),$(document).ready((function(){"use strict";zennir2.config.init()})),$(window).winresize((function(){"use strict";zennir2.config.init()}),100),(zennir2=window.zennir2||{}).products=function(e,t,i,o){"use strict";var a={getFrameFitPngUrl:function(e){return"//static.zennioptical.com/images/product/"+(e=e.toString()).substr(0,2)+"/"+e.substr(2,2)+"/"+e+"_ff.png"},openFrameFitImage:function(e){e=e.toString(),window.open(a.getFrameFitPngUrl(e),"FrameFit "+e,"resizable")},getFrameImageSrc:function(e,t,i){return e=e.toString(),"accessories-01"===t?o.productImagePath()+"/"+e.substr(0,2)+"/"+e.substr(2,2)+"/"+e+"-"+t+".jpg":"clipon"===t&&"side"===i?o.productImagePath()+"/"+e.substr(0,2)+"/"+e.substr(2,2)+"/"+e+"-eyeglasses-front-view.jpg":o.productImagePath()+"/"+e.substr(0,2)+"/"+e.substr(2,2)+"/"+e+"-"+t+"-"+i+"-view.jpg"},openEyeglassesImage:function(e,t){e=e.toString(),window.open(a.getFrameImageSrc(e,"eyeglasses",t),t+" view eyeglasses "+e,"resizable")},getImagePath:function(e,t,i){return'<img class="img-responsive padding-top-10 padding-bottom-10" src="'+a.getFrameImageSrc(e,t,i)},getColorPath:function(t,i,n,r){for(var s,d="",c="",l="",u=0;u<t.length;u++){c=void 0===n?"":a.getColorName(n[u]),s=void 0===r||0===r.length?"front":!0===r[u]?"angle":"front",l=e.pdpProductData.skus[u].imageAltValue;var p=t[u];d+='<a href="#" onclick="return false;"><div class="framefit-change-sku color-thumbnail animated-bar" data-sku-id="'+p+'">'+a.getImagePath(p,i,s)+"?"+o.imgApi.quality.med+"&"+o.imgApi.size.sm+'" alt="'+l+'">'+c+"</div></a>"}return d},getColorName:function(e){return'<div class="padding-bottom-15-xs color-name font-medium font-small-xs font-italic color-gray-dark">'+e+"</div>"},addFrameImages:function(i,n,r){var s,d,c="?"+o.imgApi.size.lg+"&"+o.imgApi.quality.med+'"',l=i.attr("data-sku-color")+" "+e.pdpProductData.productName;i.find('[data-image-type="product"]').each((function(){s=t(this).data("view"),d=s?a.getImagePath(n,r,s)+c+' alt="'+l+" "+s+'-view">':a.getImagePath(n,r,s)+c+' alt="'+l+'">',t(this).empty().append(d)}))},addColorSwatches:function(e,t,i,o,n,r){e.empty().append('<div class="text-center text-nowrap-xs">'+a.getColorPath(t,i,n,r)+"</div>"),e.find("a").eq(o).find(".color-thumbnail").addClass("active")},instagramImage:function(e,t,i){e=e.toString();var a=i||"https://static.zennioptical.com/marketing/common/squareimage.jpg",n="?resize="+(600-2*(t?parseInt(t):0))+":*&output-quality=90",r=o.productImagePath()+"/"+e.substr(0,2)+"/"+e.substr(2,2)+"/"+e+"-eyeglasses-front-view.jpg",s=o.productImagePath()+"/"+e.substr(0,2)+"/"+e.substr(2,2)+"/"+e+"-eyeglasses-side-view.jpg",d=o.productImagePath()+"/"+e.substr(0,2)+"/"+e.substr(2,2)+"/"+e+"-eyeglasses-angle-view.jpg";window.open("https:"+r+n+"&composite-to=*,*|"+a,"InstaGram front Square Image","width=650, height=650, resizable=yes, location=yes"),window.open("https:"+s+n+"&composite-to=*,*|"+a,"InstaGram side Square Image","width=650, height=650, resizable=yes, location=yes"),window.open("https:"+d+n+"&composite-to=*,*|"+a,"InstaGram angle Square Image","width=650, height=650, resizable=yes, location=yes")},squareImage:function(){var e,t,i;-1!==location.search.indexOf("squareimage")&&(t=0,-1!==(e=new URLSearchParams(location.search.substr(1)).get("squareimage")).indexOf("-")&&(i=e.indexOf("-"),t=e.substr(i+1),e=e.substr(0,i)),a.instagramImage(e,t))}};return{squareImage:function(){return a.squareImage()},instagramImage:function(e,t,i){a.instagramImage(e,t,i)},getFrameFitPngUrl:function(e){return a.getFrameFitPngUrl(e)},openFrameFitImage:function(e){return a.openFrameFitImage(e)},getFrameImageSrc:function(e,t,i){return a.getFrameImageSrc(e,t,i)},openEyeglassesImage:function(e,t){return a.openEyeglassesImage(e,t)},getImagePath:function(e,t,i){return a.getImagePath(e,t,i)},getColorPath:function(e,t){return a.getColorPath(e,t)},addFrameImages:function(e,t,i){a.addFrameImages(e,t,i)},addColorSwatches:function(e,t,i,o,n,r){a.addColorSwatches(e,t,i,o,n,r)},getEyeGlassesUrl:{front:function(e){e=e.toString();return o.productImagePath()+"/"+e.substr(0,2)+"/"+e.substr(2,2)+"/"+e+"-eyeglasses-front-view.jpg"},side:function(e){e=e.toString();return o.productImagePath()+"/"+e.substr(0,2)+"/"+e.substr(2,2)+"/"+e+"-eyeglasses-side-view.jpg"},angle:function(e){e=e.toString();return o.productImagePath()+"/"+e.substr(0,2)+"/"+e.substr(2,2)+"/"+e+"-eyeglasses-angle-view.jpg"}},init:function(){a.squareImage()}}}(window,jQuery,zennir2.mq,zennir2.global),$(document).ready((function(){"use strict";zennir2.products.init()}));var DragDropTouch,zennir2,dataLayer=dataLayer||[];(zennir2=window.zennir2||{}).gtm=function(e,t){"use strict";return{gtmNewProducts:function(e){var i,o=0,a={event:"loadImpression",ecommerce:{impressions:[]}},n={};t.each(e,(function(t,r){for(o=e[t].skus.length,i=0;i<o;i++)if(e[t].defaultSku===e[t].skus[i].skuId){n={id:e[t].skus[i].skuId,position:e[t].skus[i].position,list:e[t].skus[i].list,dimension16:e[t].skus[i].isInStock},e[t].skus[i].searchType&&(n.dimension20=e[t].skus[i].searchType),a.ecommerce.impressions.push(n);break}})),dataLayer.push(a)},gtmBanners:function(e,i){var o;if((o=e?t('[data-gtm-info]:not("[type], select")'):i.find('[data-gtm-info]:not("[type], select")')).length&&o.data("gtmInfo").event.match(/staticBanner|promotionClick/)){for(var a=o.length,n={event:"staticBanner",ecommerce:{promoView:{promotions:[]}}},r=0;r<a;r++)String(o.eq(r).data("gtmInfo").event).match(/staticBanner/)&&(n.ecommerce.promoView.promotions[r]={},n.ecommerce.promoView.promotions[r].id=o.eq(r).data("gtmInfo").id,n.ecommerce.promoView.promotions[r].name=o.eq(r).data("gtmInfo").name,n.ecommerce.promoView.promotions[r].creative=o.eq(r).data("gtmInfo").creative,n.ecommerce.promoView.promotions[r].position=o.eq(r).data("gtmInfo").position);dataLayer.push(n),o.on("click",(function(){String(t(this).data("gtmInfo").event).match(/promotionClick/)&&dataLayer.push({event:"promotionClick",ecommerce:{promoClick:{promotions:[{id:t(this).data("gtmInfo").id,name:t(this).data("gtmInfo").name,creative:t(this).data("gtmInfo").creative,position:t(this).data("gtmInfo").position}]}}})}))}},removeCartItem:function(e){t.ajax({dataType:"json",async:!1,data:{commerceId:e},url:zennir2.global.removeCartItem}).done((function(e){e&&e.result&&dataLayer.push(e.result)})).fail((function(){window.console.log("Fail to remove item!")}))},sendInviteToTrustPilot:function(e){var i=zennir2.global.rest.sendTrustpilot+"?orderId="+e;t.ajax({url:i,cache:!1,method:"GET",dataType:"json",data:{}}).done((function(e,t,i){})).fail((function(e,t,i){}))},sendInviteToConsumerAffairs:function(e){var i=zennir2.global.rest.consumerAffairs+"?orderId="+e;t.ajax({url:i,cache:!1,method:"GET",dataType:"json",data:{}}).done((function(e,t,i){})).fail((function(e,t,i){}))}}}(window,jQuery),$(document).ready((function(){"use strict";zennir2.gtm.gtmBanners(!0,null);var e={event:"productClick",ecommerce:{click:{actionField:{list:""},products:[]}}};$("body").on("click",".product-item .item-image > a",(function(){var t=$(this).closest(".product-item").find(".color-swatch > a.active");e.ecommerce.click.actionField.list=t.data("list"),e.ecommerce.click.products[0]={},e.ecommerce.click.products[0].id=t.data("skuId"),e.ecommerce.click.products[0].dimension16=t.data("instock"),t.data("searchType")&&(e.ecommerce.click.products[0].dimension20=t.data("searchType")),dataLayer.push(e)})),$("a[data-gtm-info]").on("click",(function(){"trackEvent"===$(this).data("gtmInfo").event&&dataLayer.push($(this).data("gtmInfo")),$(this).attr("id")&&$(this).attr("id").match(/(prescriptionNext|modalConfirmPresc|lensNext|orderAddToCart)/)&&(dataLayer[dataLayer.length-1].id=window.initialSummaryJSON.orderSummary.skuId)})),$(".order-help-tip > .fa-question-circle").on("click",(function(){dataLayer.push({event:"trackEvent",eventCategory:"Checkout Interaction",eventAction:$("#comp-order-step1").length?"Step 1 RX":$("#comp-order-step2").length?"Step 2 Lenses":$("#comp-order-step3").length?"Step 3 Add-Ons":"",eventLabel:"Hover"+$(this).parent().data("helptip")})})),$(".page-pdp").on("click",".product-colors a",(function(){var e=$(this).index();window.pdpProductData&&dataLayer.push({ecommerce:{event:"detailVariantView",detail:{products:[{id:window.pdpProductData.skus[e].skuId,price:JSON.parse(window.pdpProductData.skus[e].isOnSale)?window.pdpProductData.skus[e].salePrice:window.pdpProductData.skus[e].listPrice,dimension16:JSON.parse(window.pdpProductData.skus[e].isInStock)}]}}})})),$(".page-pdp").on("click",".pdp-actions button.btn-cta",(function(){dataLayer.push({event:"trackEvent",eventCategory:"Order Glasses PDP",eventAction:"Click",eventLabel:$(".color-thumbnail.active").data("skuId")})})),$(".page-shopping-cart").on("click",".btn-checkout",(function(){$.isFunction(window.checkoutClick)&&window.checkoutClick("1","4","false")})),$("#comp-accounts-login-and-register #login").on("click",(function(){$.isFunction(window.checkoutClick)&&window.checkoutClick("1","5","false")})),$("#comp-accounts-login-and-register #btn_register").on("click",(function(){$.isFunction(window.checkoutClick)&&window.checkoutClick("1","5","false")})),$(".page-checkout #review-order").on("click",(function(){$.isFunction(window.checkoutClick)&&window.checkoutClick("2","6","true")}))})),(zennir2=window.zennir2||{}).mpulse=function(e,t,i,o){"use strict";var a={mPulseInstance:null,deviceReadyTime:e.now(),deviceInitTime:null,getFrontalFrameCount:0,metricCounter:{},initialize:function(){if(!i.mPulseConfig.enableMPulse)return a.mPulseInstance=!1,!1;a.mPulseInstance=window.mPulse.init(i.mPulseConfig.mpulseAPIKey,i.mPulseConfig.mpulseRESTAPIKey),a.bindEvents(),this.setPageGroup()},bindEvents:function(){document.addEventListener("deviceready",a.onDeviceReady,!1)},onDeviceReady:function(){a.deviceInitTime=e.now(),a.mPulseInstance.sendTimer("deviceReady",a.deviceReadyTime-a.deviceInitTime)},trackDitto:function(){if(!a.mPulseInstance)return!1},setPageGroup:function(){o.isPLPPage?this.mPulseInstance.setPageGroup("PLP Page"):o.isVisualSearchPlp?this.mPulseInstance.setPageGroup("Visual Search Page"):o.isPDPPage?this.mPulseInstance.setPageGroup("PDP Page"):o.isAccountsDashboardPage?this.mPulseInstance.setPageGroup("My Account Dashboard Page"):o.isAccountsMyTryonPage?this.mPulseInstance.setPageGroup("My Account My TryOn Page"):(o.isAccountsFavoritesPage||o.isAccountsAnonymousFavoritesPage)&&this.mPulseInstance.setPageGroup("My Account My Favorites Page")},startTimer:function(e){return!!a.mPulseInstance&&a.mPulseInstance.startTimer(e+"Tmr")},stopTimer:function(e){if(!a.mPulseInstance)return!1;a.mPulseInstance.stopTimer(e)},sendMetric:function(e){if(!a.mPulseInstance)return!1;a.metricCounter[e]||(a.metricCounter[e]=0),a.metricCounter[e]++,a.mPulseInstance.sendMetric(e+"Mt",1)}};return{initialize:function(){return a.initialize()},trackDitto:function(){return a.trackDitto()},startTimer:function(e){return a.startTimer(e)},stopTimer:function(e){a.stopTimer(e)},sendMetric:function(e){a.sendMetric(e)}}}(jQuery,window,zennir2.global,zennir2.utilities),$(document).ready((function(){"use strict";zennir2.mpulse.initialize(),zennir2.mpulse.trackDitto()})),(zennir2=window.zennir2||{}).windsorCircle=function(e,t,i,o){"use strict";return{fnTrackCompletedOrder:function(){o.enableWindsorCircle&&window.arrProductsCompletedOrder&&window.analytics.track("Completed Order",{products:window.arrProductsCompletedOrder},{wcapiVersion:"1.0"})},fnTrackViewedCart:function(){o.enableWindsorCircle&&window.arrProductsViewedCart&&window.analytics.track("Viewed Cart",{products:window.arrProductsViewedCart},{wcapiVersion:"1.0"})},fnTrackSearchedProduct:function(e){o.enableWindsorCircle&&window.analytics.track("Searched Product",{query:e},{wcapiVersion:"1.0"})},fnViewedProductCategory:function(e){o.enableWindsorCircle&&window.analytics.track("Viewed Product Category",{category:e},{wcapiVersion:"1.0"})},fnTrackAddedProduct:function(e){o.enableWindsorCircle&&window.analytics.track("Added Product",{id:e.skuId,vsku:e.skuId,name:e.productName,price:e.listPrice,available:e.isInStock,cartLink:window.location.protocol+zennir2.global.cartPageUrl,quantity:e.quantity},{wcapiVersion:"1.0"})},fnTrackViewedProduct:function(e){o.enableWindsorCircle&&window.analytics.track("Viewed Product",{id:e.skuId,vsku:e.skuId,name:window.pdpProductData.productName,price:e.listPrice,available:e.isInStock},{wcapiVersion:"1.0"})},fnIdentifyViaEmail:function(e){o.enableWindsorCircle&&window.analytics.identify(null,{email:e.value,source:"email-input"},{wcapiVersion:"1.0"})},fnIdentifyViaAccount:function(){o.enableWindsorCircle&&zennir2.utilities.isLoggedIn()&&window.analytics.identify(window.userProfileObject.profile.customerId,{name:window.userProfileObject.profile.fullName,firstName:window.userProfileObject.profile.firstName,lastName:window.userProfileObject.profile.lastName,email:window.userProfileObject.profile.email,shippingAddress:{street:window.userProfileObject.profile.shippingAddress.street,city:window.userProfileObject.profile.shippingAddress.city,state:window.userProfileObject.profile.shippingAddress.state,postalCode:window.userProfileObject.profile.shippingAddress.postalCode,country:window.userProfileObject.profile.shippingAddress.country},billingAddress:{street:window.userProfileObject.profile.billingAddress.street,city:window.userProfileObject.profile.billingAddress.city,state:window.userProfileObject.profile.billingAddress.state,postalCode:window.userProfileObject.profile.billingAddress.postalCode,country:window.userProfileObject.profile.billingAddress.country}},{wcapiVersion:"1.0"})},init:function(){this.fnIdentifyViaAccount(),i.isOrderConfirmationPage&&this.fnTrackCompletedOrder()}}}(window,jQuery,zennir2.utilities,zennir2.global),$(document).ready((function(){"use strict";zennir2.global.enableWindsorCircle&&zennir2.windsorCircle.init()})),(zennir2=window.zennir2||{}).sticky=function(e,t,i){"use strict";var o={leftSection:"",rightSection:"",framefitContainer:"",initSelectors:function(){o.leftSection=t(".frame-left-container"),o.rightSection=t(".frame-right-container"),o.framefitContainer=t("#framefit-root")},checkVisualSearchPage:function(){!0===t("main").hasClass("page-visual-search")&&t(".framefit-tab-head").addClass("border-left")},stickyHeaderHeight:function(){var e=0,i=0,o=0;if(!0===t("#main-section").hasClass("page-checkout")){t("#comp-checkout-steps-top").outerHeight();t("#comp-navigation").find(".navbar").hasClass("navbar-fixed-top")&&(e=t("#comp-navigation").outerHeight()),t("#comp-quickstart").hasClass("navbar-fixed-top")&&(i=t("#comp-quickstart").outerHeight()),o=e+i-20}else t("#comp-navigation").find(".navbar.navbar-fixed-top").hasClass("slide-up")?e=0:t("#comp-navigation").find(".navbar").hasClass("navbar-fixed-top")&&(e=t("#comp-navigation").outerHeight()),t("#comp-quickstart").hasClass("slide-up")?i=0:t("#comp-quickstart").hasClass("navbar-fixed-top")&&(i=t("#comp-quickstart").outerHeight()),o=e+i;return o},stickyInit:function(){!0===zennir2.mq.desktop.matches&&t(window).on("scroll",(function(){var e=o.rightSection.outerHeight(),i=o.leftSection.outerHeight(),a=o.leftSection.offset().top,n=t(this).scrollTop(),r=o.stickyHeaderHeight(),s=o.stickyHeaderHeight()+"px";if(!0===t("#main-section").hasClass("page-checkout")&&(i-=100,r+=100),n+r>=a&&i+a>=e+n)o.rightSection.css({position:"fixed",right:"0",top:"0","margin-top":""+s}),o.tabHeightCalc(),o.tileHover();else if(n+r>=a&&i+a<e+n){var d=i-e+"px";!0===t("#main-section").hasClass("page-checkout")&&(d=i-e+182+"px"),o.rightSection.css({position:"static",right:"0",top:"0","margin-top":""+d}),!0!==t("#main-section").hasClass("page-order")&&zennir2.filter&&zennir2.filter.unstickFilter()}else o.rightSection.css({position:"static",right:"0",top:"0","margin-top":"0"})}))},tabHeightCalc:function(){o.initSelectors();var e,i=o.stickyHeaderHeight(),a=o.framefitContainer.outerHeight(),n=window.innerHeight,r=o.framefitContainer.find(".tab-pane-framefit.active").outerHeight()||0,s=t(".framefit-tab-head").find(".tab-pane-framefit.active");e=n-(i+(a-r)),s.addClass("scroll-enable"),s.css({"max-height":e+"px"}),o.checkVisualSearchPage()},tileHover:function(){var e=!1,i=!0;t(".framefit-tab-head").hover((function(){!0===i&&(e=!1,o.framefitContainer.find(".framefit-head").slideUp("100",(function(){e=!0,o.tabHeightCalc()})))}),(function(){!0===e&&(i=!1,o.framefitContainer.find(".framefit-head").slideDown("100",(function(){i=!0,o.tabHeightCalc()})))}))}};return{init:function(){o.stickyInit(),o.tabHeightCalc()},tabHeightCalc:function(){o.tabHeightCalc()}}}(window,jQuery,zennir2.mq),$(document).ready((function(){"use strict";!0===$(".frame-right-container").data("sticky-frame")&&(zennir2.sticky.init(),$(".framefit-tab").on("click",(function(){setTimeout((function(){zennir2.sticky.tabHeightCalc()}),150)})),$("#main-section").delegate("#framefit-recently-viewed","click",(function(){setTimeout((function(){zennir2.sticky.tabHeightCalc()}),150)})),$(window).winresize((function(){zennir2.sticky.init()}),200),$(window).scroll())})),(zennir2=window.zennir2||{}).ditto=function(e,t,i,o,a){"use strict";var n={dittoIdSignatures:{},arrTryOnViews:{},dittoData:{},initialSignature:"",$dittoThumbnails:null,$dittoScrollLeft:null,$dittoScrollRight:null,$formSetDefaultDitto:null,$hdnDefaultDittoId:null,initjQueryObjects:function(){n.$dittoThumbnails=e(".ditto-thumbnails"),n.$dittoScrollLeft=e(".ditto-thumbnails-scroll.scroll-left"),n.$dittoScrollRight=e(".ditto-thumbnails-scroll.scroll-right"),n.$formSetDefaultDitto=e("#setDefaultDittoForm"),n.$hdnDefaultDittoId=e("#defaultDittoId")},displayPageLoader:function(e,t){"add"===e?zennir2.utilities.handleAjaxLoaderDisplay("add",t):"remove"===e&&zennir2.utilities.handleAjaxLoaderDisplay("remove",t)},setDittoSignature:function(t,i){n.dittoData[t]={dittoIdSignature:i,timestamp:e.now()}},getDittoSignature:function(e){return n.dittoData[e].dittoIdSignature},getDittoData:function(e){return n.dittoData[e]},resetDittoData:function(){n.dittoData={}},getInitalSignature:function(){var i=e.ajax({url:t.dittoConfig.clientSignatureUrl,cache:!1,method:"GET",dataType:"json"});return i.done((function(e){n.initialSignature=e.initialSignature})).fail((function(){n.initialSignature=""})),i},getDittoIdSignature:function(i){var o=e.ajax({url:t.dittoConfig.dittoIdSignatureUrl+i,cache:!1,method:"GET",dataType:"json"});return o.done((function(e){n.dittoIdSignatures[i]=e.dittoIdSignature})),o},getSignatureForDittoIds:function(t){for(var i=0,o=e.Deferred(),a=0;a<t;a++)!function(a){n.getDittoIdSignature(window.dittoData.list[a].dittoId).done((function(t){n.dittoData[window.dittoData.list[a].dittoId]={dittoIdSignature:t.dittoIdSignature,timestamp:e.now()}})).fail((function(){n.dittoData[window.dittoData.list[a].dittoId]={dittoIdSignature:""}})).always((function(){++i===t&&o.resolve(n.dittoData)}))}(a);return o},getFrontalFrame:function(i,o){var a,n=JSON.stringify(!1),r=new XMLHttpRequest,s=t.dittoConfig.frontalFrameUrl,d=[],c=e.Deferred();return a=zennir2.mpulse.startTimer("FrontFrame"),zennir2.mpulse.sendMetric("FrontFrame"),d.push(i.skuId?"product_id="+i.skuId:""),d.push(i.size?"size="+i.size:""),s=(s=s.replace("{dittoId}",i.dittoId))+"?"+d.join("&"),r.open("GET",s,!0),r.responseType="arraybuffer",r.setRequestHeader("X-Ditto-Access-Key-Id",t.dittoConfig.accessKeyId),r.setRequestHeader("X-Ditto-Signature",i.signature),r.addEventListener("readystatechange",(function(){if(this.readyState===this.DONE){if(200===this.status){var e=new Uint8Array(this.response),t=new Blob([e],{type:"image/jpeg"}),n=(window.URL||window.webkitURL).createObjectURL(t);c.resolve(n)}else i.status=this.status,i.invoker=o,zennir2.mpulse.sendMetric("FrontFrameFl"),zennir2.ditto.dittoLogzioTrackFailure("frontal-frame",i),c.reject(this.status);zennir2.mpulse.stopTimer(a)}})),r.send(n),c},deleteDittoData:function(i){var o=e.Deferred();return n.getDittoIdSignature(i).done((function(e){var a=t.dittoConfig.dittoDataUrl,n=new XMLHttpRequest;a=a.replace("{dittoId}",i),n.addEventListener("readystatechange",(function(){this.readyState===this.DONE&&o.resolve(this.responseText)})),n.open("DELETE",a),n.setRequestHeader("x-ditto-access-key-id",t.dittoConfig.accessKeyId),n.setRequestHeader("x-ditto-signature",e.dittoIdSignature),n.send(null)})).fail((function(){o.reject("Error: Get ditto id signature call failure.")})),o},createTryOn:function(e,i,o,a){new window.ditto.api.TryOn({serverNetloc:t.dittoConfig.vtoServerUrl,selector:"#"+o,thumbnailSelector:"#"+a,dittoId:e.dittoId,sku:i,accessKeyId:t.dittoConfig.accessKeyId,signature:e.signature},{initialized:function(){},success:function(){},failure:function(){},onclick:function(){}})},createTryOnViewForDittoId:function(e,i,o){var a,r,s,d;d=zennir2.mpulse.startTimer("TryOnView"),zennir2.mpulse.sendMetric("TryOnView"),e.lensId&&e.skuId?(a="#hero-"+e.skuId+"-"+e.dittoId+"-"+e.lensId,r=e.skuId+e.lensId.toUpperCase()):e.skuId?(a="#hero-"+e.skuId+"-"+e.dittoId,r=e.skuId):(a="#hero-"+e.dittoId,r=""),s=new window.ditto.api.TryOn({serverNetloc:t.dittoConfig.vtoServerUrl,selector:a,dittoId:e.dittoId,sku:r,accessKeyId:t.dittoConfig.accessKeyId,signature:e.dittoIdSignature,partnerId:t.dittoConfig.partnerId,disablePreview:t.dittoConfig.disablePreview},{success:function(){zennir2.mpulse.stopTimer(d),i&&i()},failure:function(){zennir2.mpulse.sendMetric("TryOnViewFl"),zennir2.ditto.dittoLogzioTrackFailure("tryon-view",e),o&&o()}}),n.arrTryOnViews[e.dittoId]=s},createTryonDOM:function(t,i,o,a,n){var r,s,d;r=e("<div />",{id:"hero-"+t+"-"+i+(d=o?"-"+o:""),class:"ditto-hero hidden","data-ditto-id":i,"data-tryon-processed":!1}),"after"===n?a.append(r):(s="hero-"+t+"-"+i+d,(a=e('.ditto-sku-container[data-sku-id="'+t+'"][data-lens-id="'+o+'"]').find(".ditto-hero-images")).prepend(r),e("#"+s).removeClass("hidden").siblings().addClass("hidden"))},createThumbnailDOM:function(t,i,o,a,r){var s,d;s=e("<div />",{id:"thumbnail-"+t,class:"ditto-thumbnail","data-ditto-id":t,"data-is-model":i,"data-show-pd-warning":!(i||a||r)}),d=e("<img />",{class:"ditto-loader",src:"/dev/image/site/common/global-search-loading.gif",alt:"Ditto"}),s.append(d),"after"===o?n.$dittoThumbnails.append(s):(n.$dittoThumbnails.prepend(s),s.addClass("active").siblings().removeClass("active"))},createThumbnailSet:function(e){for(var t=0;t<e;t++)this.createThumbnailDOM(window.dittoData.list[t].dittoId,window.dittoData.list[t].isModelDitto,"after",window.dittoData.list[t].isRealScale,window.dittoData.list[t].dittoUserPd)},createDitto:function(i,r){var s,d=jQuery.Deferred();s=zennir2.mpulse.startTimer("createDitto"),zennir2.mpulse.sendMetric("createDitto"),(r.data("bs.modal")||{}).isShown&&r.data("deferred",d);var c=null;return window.dittoObj=new window.ditto.api.DittoCreation({serverNetloc:t.dittoConfig.vtoServerUrl,selector:i,accessKeyId:t.dittoConfig.accessKeyId,clientSignature:n.initialSignature,partnerId:t.dittoConfig.partnerId,disableScale:t.dittoConfig.disableScale,forceScale:t.dittoConfig.forceScale,enableClose:!1,enableFaceAnalysis:t.dittoConfig.enableFaceAnalysis},{success:function(e){zennir2.mpulse.stopTimer(s),(e=e||{}).faceIQ=c,d.resolve(e)},failure:function(e){var t=e.status;zennir2.mpulse.stopTimer(s),zennir2.mpulse.sendMetric("createDittoFl"),zennir2.ditto.dittoLogzioTrackFailure("create-ditto",{reason:t}),"access-denied"===t&&window.alert("Access Denied. Please check your credentials and try again."),d.reject(e)},progress:function(t){var i=t.sessionId;i&&e("#session").text(i),a.isPLPPage&&o.mobile.matches&&!(e("#modal-create-ditto").data("bs.modal")||{}).isShown&&e("#modal-create-ditto").modal("show")},close:function(e){d.reject(e)},faceiq_result:function(e){c=e}}),d},createThumbnailImage:function(t,i,o){var a,n=e.Deferred();return a={dittoId:t,size:i,signature:o},zennir2.ditto.getFrontalFrame(a,"Ditto - createThumbnailImage").done((function(i){e("#thumbnail-"+t).find("img").removeClass("ditto-loader").get(0).src=i,n.resolve()})).fail((function(i){e("#thumbnail-"+t).find("img").removeClass("ditto-loader").get(0).src="/dev/image/site/ditto/placeholder.png",n.reject(i)})),n},createDittoCookie:function(e){var o=i.get("ditto_data")||[];e.pd=e.pd||0,o.unshift(e),i.set("ditto_data",o,{expires:t.dittoConfig.cookieExpiry})},deleteDittoCookie:function(){i.remove("ditto_data")},refreshDittoCookie:function(){var e=i.get("ditto_data")||[];e.length&&i.set("ditto_data",e,{expires:t.dittoConfig.cookieExpiry})},saveTryOn:function(t){var i,o,a;(a=e("#saveDittoForm")).find('input[name="hdnDittoId"]').val(t.dittoId),a.find('input[name="hdnRealScale"]').val(t.realScale),a.find('input[name="hdnPD"]').val(t.pd);var r=t.faceIQ?JSON.stringify(t.faceIQ):"";a.find('input[name="hdnFaceIQ"]').val(r),i=a.serialize(),o=a.attr("action"),e.ajax({url:o,data:i,cache:!1,method:"POST",dataType:"json"}).done((function(e){e.success&&n.deleteDittoCookie()}))},deleteDittoDefaultCookie:function(){i.remove("ditto_default")},saveDittoSelectionToCookie:function(e){i.set("ditto_default",e)},chooseDefaultDittoId:function(){var t;return t=i.get("ditto_default"),e.map(window.dittoData.list,(function(e,i){if(e.dittoId===t)return i})).length||(t=window.dittoData.defaultDittoId||window.dittoData.list[0].dittoId),this.saveDittoSelectionToCookie(t),t},eraseDeletedDittoData:function(t){var i=e.map(window.dittoData.list,(function(e,i){if(e.dittoId===t)return i}));window.dittoData.list.splice(i,1),delete n.dittoData[t]},centerAlignDittoThumbnail:function(t){var i,o,a,r,s,d,c,l,u,p,f,h=e(".ditto-thumbnail.active"),m=e(".ditto-thumbnail").length;(f=n.$dittoThumbnails.get(0).scrollWidth)===(a=Math.round(n.$dittoThumbnails.outerWidth()))?(c=d="addClass",u=l="addClass"):(s=(i=h.index())+1===m,r=i*(o=h.outerWidth(!0)+(s?t:0))-(a/2-o/2)-(s?t:t/2),n.$dittoThumbnails.scrollLeft(r),0===(p=n.$dittoThumbnails.scrollLeft())?(l="addClass",u="removeClass"):p+a===f?(l="removeClass",u="addClass"):u=l="removeClass",c=d="removeClass"),n.$dittoScrollLeft[d]("hidden")[l]("disabled"),n.$dittoScrollRight[c]("hidden")[u]("disabled")},hoverToScrollThumbnails:function(){var e,t=0;function fnScroll(t){var i,o,a,r,s,d="right"===t?5:-5;e=n.$dittoThumbnails.scrollLeft(),n.$dittoThumbnails.scrollLeft(e+d),a=n.$dittoThumbnails.scrollLeft(),r=n.$dittoThumbnails.get(0).scrollWidth,s=Math.round(n.$dittoThumbnails.outerWidth()),0===a?(i="addClass",o="removeClass"):a+s===r?(i="removeClass",o="addClass"):(i="removeClass",o="removeClass"),n.$dittoScrollLeft[i]("disabled"),n.$dittoScrollRight[o]("disabled")}n.$dittoScrollRight.add(n.$dittoScrollLeft).on("click",(function(){return!1})),n.$dittoScrollRight.on("mouseenter.ditto",(function(){fnScroll("right"),t=window.setInterval((function(){fnScroll("right")}),25)})).on("mouseleave.ditto",(function(){window.clearInterval(t)})),n.$dittoScrollLeft.on("mouseenter.ditto",(function(){fnScroll("left"),t=window.setInterval((function(){fnScroll("left")}),25)})).on("mouseleave.ditto",(function(){window.clearInterval(t)}))},makeProfileDefault:function(t){n.$hdnDefaultDittoId.val(t),e.ajax({url:zennir2.global.dittoConfig.setDefaultDittoUrl,method:"POST",data:n.$formSetDefaultDitto.serialize(),dataType:"json"})},checkDittoService:function(e){return n.getDittoIdSignature(e).then((function(t,i,o){return n.getFrontalFrame({dittoId:e,signature:t.dittoIdSignature},"Ditto - checkDittoService")}),(function(e,t,i){return e}))},dittoSoftLaunch:function(){var e=a.getUrlQueryObject();window.localStorage&&(zennir2.global.dittoConfig.dittoEnabled||(window.localStorage.getItem("softLaunch")||"on"===e.ditto)&&(zennir2.global.dittoConfig.dittoEnabled=!0,window.localStorage.setItem("softLaunch","on"),i.set("dittoSoftCookie","on",{expires:20})))},updatePD:function(i){var o=t.dittoConfig.dittoDataUrl,a=new XMLHttpRequest,n=e.Deferred();return o=(o=o.replace("{dittoId}",i.dittoId))+"?pd="+i.pd,a.addEventListener("readystatechange",(function(){this.readyState===this.DONE&&(204===this.status?n.resolve():n.reject(this.status))})),a.open("PUT",o),a.setRequestHeader("X-Ditto-Access-Key-Id",t.dittoConfig.accessKeyId),a.setRequestHeader("X-Ditto-Signature",i.signature),a.send(null),n}};return{dittoErrorCodes:[403,500,503],initjQueryObjects:function(){n.initjQueryObjects()},displayPageLoader:function(e,t){n.displayPageLoader(e,t)},setDittoSignature:function(e,t){n.setDittoSignature(e,t)},getDittoSignature:function(e){return n.getDittoSignature(e)},getDittoData:function(e){return n.getDittoData(e)},resetDittoData:function(){n.resetDittoData()},getInitalSignature:function(){return n.getInitalSignature()},getDittoIdSignature:function(e){return n.getDittoIdSignature(e)},getSignatureForDittoIds:function(e){return n.getSignatureForDittoIds(e)},getFrontalFrame:function(e,t){return n.getFrontalFrame(e,t)},getDittoModels:function(){return n.getDittoModels()},deleteDittoData:function(e){return n.deleteDittoData(e)},createTryOn:function(e,t,i,o){return n.createTryOn(e,t,i,o)},createTryOnViewForDittoId:function(e,t,i){return n.createTryOnViewForDittoId(e,t,i)},createTryonDOM:function(e,t,i,o,a){n.createTryonDOM(e,t,i,o,a)},createThumbnailDOM:function(e,t,i,o,a){n.createThumbnailDOM(e,t,i,o,a)},createThumbnailSet:function(e){n.createThumbnailSet(e)},createDitto:function(e,t){return n.createDitto(e,t)},createDittoCookie:function(e){n.createDittoCookie(e)},deleteDittoCookie:function(){n.deleteDittoCookie()},refreshDittoCookie:function(){n.refreshDittoCookie()},createThumbnailImage:function(e,t,i){return n.createThumbnailImage(e,t,i)},deleteDittoDefaultCookie:function(){n.deleteDittoDefaultCookie()},saveDittoSelectionToCookie:function(e){n.saveDittoSelectionToCookie(e)},chooseDefaultDittoId:function(){return n.chooseDefaultDittoId()},centerAlignDittoThumbnail:function(e){n.centerAlignDittoThumbnail(e)},hoverToScrollThumbnails:function(){n.hoverToScrollThumbnails()},saveTryOn:function(e){n.saveTryOn(e)},makeProfileDefault:function(e){n.makeProfileDefault(e)},checkDittoService:function(e){return n.checkDittoService(e)},dittoSoftLaunch:function(){n.dittoSoftLaunch()},updatePD:function(e){return n.updatePD(e)},dittoLogzioTrackFailure:function(e,t){return""}}}(jQuery,zennir2.global,zennir2.cookies,zennir2.mq,zennir2.utilities),$(document).ready((function(){"use strict";zennir2.ditto.initjQueryObjects(),zennir2.ditto.refreshDittoCookie(),zennir2.ditto.dittoSoftLaunch()})),(zennir2=window.zennir2||{}).siteMigration=function(e,t,i,o){"use strict";var a={$modalCrossSiteConfirm:null,$modalSiteMigrationAcknowledgement:null,crossSiteData:{cookieExpiry:365,siteHomeUrl:"",siteId:"",siteOrderId:"",siteProfileId:""},domain:"",prmAcknowledgement:null,checkCrossSiteUserSummaryCookie:function(){return!!t.get("cross-site-user-summary-cookie",{domain:a.domain})},checkSiteMigrationAcknowledgement:function(){var t;a.prmAcknowledgement=e.Deferred();var o="";return e.ajax({url:i.rest.findUserAssociatedDetails,cache:!1,method:"GET",dataType:"json",data:{}}).done((function(e,i,n){1===e.hasAcknowledged?a.prmAcknowledgement.resolve(!0):0===e.hasAcknowledged&&("CA"===e.billingCountry&&"CA"===e.shippingCountry&&(t=!1,o="setA"),"setA"!==o&&"NONCA"!==e.billingCountry&&(t=!0,o="setB"),o?(t?(a.$modalSiteMigrationAcknowledgement.find(".modal-title").html(e.OptInOptOutTitle),a.$modalSiteMigrationAcknowledgement.find(".modal-body").html(e.OptInOptOutMsg),a.$modalSiteMigrationAcknowledgement.find("#btn-site-migration-acknowledgement-optin").html(e.OptCACTA),a.$modalSiteMigrationAcknowledgement.find("#btn-site-migration-acknowledgement-optout").html(e.OptUSCTA),a.$modalSiteMigrationAcknowledgement.find("#btn-site-migration-acknowledgement-optin, #btn-site-migration-acknowledgement-optout").show()):(a.$modalSiteMigrationAcknowledgement.find(".modal-title").html(e.ConfirmTitle),a.$modalSiteMigrationAcknowledgement.find(".modal-body").html(e.ConfirmMsg),a.$modalSiteMigrationAcknowledgement.find("#btn-site-migration-acknowledgement-optin").html(e.ConfirmCTA),a.$modalSiteMigrationAcknowledgement.find("#btn-site-migration-acknowledgement-optin").show(),a.$modalSiteMigrationAcknowledgement.find("#btn-site-migration-acknowledgement-optout").hide()),a.$modalSiteMigrationAcknowledgement.modal("show")):a.prmAcknowledgement.resolve(!0))})).fail((function(e,t,i){a.prmAcknowledgement.resolve(!0)})),a.prmAcknowledgement},copyAffinitySiteUserData:function(){var o={},n=e.Deferred();return a.checkCrossSiteUserSummaryCookie()?(o=t.get("cross-site-user-summary-cookie",{domain:a.domain}),e.ajax({url:i.rest.copyAffinitySiteUserDataWithGuestSite,cache:!1,method:"GET",dataType:"json",data:{currentSiteOrderId:o.orderId,currentSiteProfileId:o.profileId}}).done((function(e,i,o){t.remove("cross-site-user-summary-cookie",{domain:a.domain}),n.resolve(e)})).fail((function(e,t,i){n.resolve({success:!0})})),n):n.resolve({success:!0})},createCrossSiteConfirmationModal:function(){e('<div class="modal fade in" id="modal-cross-site-confirm" tabindex="-1" role="dialog" aria-labelledby="crossSiteConfirmModalLabel" data-keyboard="false" data-backdrop="static"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><div class="modal-title h4" id="crossSiteConfirmModalLabel"></div></div><div class="modal-body"></div><div class="modal-footer"><div class="footer-cross-site-confirm"><div><button type="button" id="btn-cross-site-optout" class="btn btn-secondary" data-dismiss="modal"></button></div><div><button type="button" id="btn-cross-site-optin" class="btn btn-primary"></button></div></div></div></div></div>').insertBefore("body > .container-fluid")},createSiteMigrationAcknowledgementModal:function(){e('<div class="modal fade in" id="modal-site-migration-acknowledgement" tabindex="-1" role="dialog" aria-labelledby="siteMigrationAcknowledgementModalLabel" data-keyboard="false" data-backdrop="static"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><div class="modal-title h4" id="siteMigrationAcknowledgementModalLabel">OPT-OUT?</div></div><div class="modal-body"></div><div class="modal-footer"><div class="footer-site-migration-acknowledgement"><div><button type="button" id="btn-site-migration-acknowledgement-optout" class="btn btn-secondary">OPT OUT</button></div><div><button type="button" id="btn-site-migration-acknowledgement-optin" class="btn btn-primary">OPT IN</button></div></div></div></div></div></div>').insertBefore("body > .container-fluid")},getCrossSiteData:function(){return a.crossSiteData},getCrossSiteUserSummaryCookieData:function(){return t.get("cross-site-user-summary-cookie",{domain:a.domain})},handleCrossSiteOptIn:function(){a.$btnCrossSiteOptIn.on("click",(function(){var e=o.getDomain(),n=e.domain+"."+e.type;t.set("cross-site-user-summary-cookie",JSON.stringify({orderId:a.crossSiteData.siteOrderId,profileId:a.crossSiteData.siteProfileId}),{domain:n}),t.set("forced-site-cookie",a.crossSiteData.siteId,{domain:n,expires:a.crossSiteData.cookieExpiry}),window.location.href=a.crossSiteData.siteHomeUrl+i.siteMigration.loginUrl}))},handleCrossSiteOptOut:function(){a.$btnCrossSiteOptOut.on("click",(function(){window.location.href=zennir2.global.siteURL()+i.siteMigration.registrationUrl}))},handleSiteMigrationAcknowledgementOptIn:function(){a.$btnSiteMigrationAcknowledgementOptIn.on("click",(function(){e.ajax({url:i.rest.migratedUserOptIn,cache:!1,method:"GET",dataType:"json",data:{}}).done((function(e,t,i){e.success&&(window.userProfileObject.cartCount=e.cartCount,zennir2.userprofile.updateCartCountInHeader())})),a.$modalSiteMigrationAcknowledgement.modal("hide"),a.prmAcknowledgement.resolve(!0)}))},handleSiteMigrationAcknowledgementOptOut:function(){a.$btnSiteMigrationAcknowledgementOptOut.on("click",(function(){e.ajax({url:i.rest.migratedUserOptOut,cache:!1,method:"GET",dataType:"json",data:{}}).done((function(e,a,n){var r=o.getDomain(),s=r.domain+"."+r.type;t.set("forced-site-cookie",e.OptUSSiteId,{domain:s,expires:e.cookieExpiry}),window.location.href=e.redirectUrl+i.siteMigration.loginUrl})).fail((function(e,t,i){a.$modalSiteMigrationAcknowledgement.modal("hide"),a.prmAcknowledgement.resolve(!0)}))}))},initjQueryObjects:function(){a.$modalCrossSiteConfirm=e("#modal-cross-site-confirm"),a.$modalSiteMigrationAcknowledgement=e("#modal-site-migration-acknowledgement"),a.$btnCrossSiteOptIn=a.$modalCrossSiteConfirm.find("#btn-cross-site-optin"),a.$btnCrossSiteOptOut=a.$modalCrossSiteConfirm.find("#btn-cross-site-optout"),a.$btnSiteMigrationAcknowledgementOptIn=a.$modalSiteMigrationAcknowledgement.find("#btn-site-migration-acknowledgement-optin"),a.$btnSiteMigrationAcknowledgementOptOut=a.$modalSiteMigrationAcknowledgement.find("#btn-site-migration-acknowledgement-optout")},removeCrossSiteUserSummaryCookieData:function(){t.remove("cross-site-user-summary-cookie",{domain:a.domain})},setCookieDomain:function(){var e=o.getDomain();a.domain=e.domain+"."+e.type},setCrossSiteData:function(e){a.crossSiteData={cookieExpiry:e.cookieExpiry?parseInt(e.cookieExpiry,10):a.crossSiteData.cookieExpiry,siteHomeUrl:e.affinitySiteURL,siteId:e.siteId,siteOrderId:e.currentSiteOrderId,siteProfileId:e.currentSiteProfileId}},showCrossSiteConfirmModal:function(e){a.$modalCrossSiteConfirm.find(".modal-title").html(e.title),a.$modalCrossSiteConfirm.find("#btn-cross-site-optin").html(e.optInCTA),a.$modalCrossSiteConfirm.find("#btn-cross-site-optout").html(e.optOutCTA),a.$modalCrossSiteConfirm.find(".modal-body").html(e.message),a.$modalCrossSiteConfirm.modal("show")}};return{checkCrossSiteUserSummaryCookie:function(){return a.checkCrossSiteUserSummaryCookie()},checkSiteMigrationAcknowledgement:function(){return a.checkSiteMigrationAcknowledgement()},copyAffinitySiteUserData:function(){return a.copyAffinitySiteUserData()},getCrossSiteUserSummaryCookieData:function(){return a.getCrossSiteUserSummaryCookieData()},init:function(){a.createCrossSiteConfirmationModal(),a.createSiteMigrationAcknowledgementModal(),a.setCookieDomain(),a.initjQueryObjects(),a.handleCrossSiteOptIn(),a.handleCrossSiteOptOut(),a.handleSiteMigrationAcknowledgementOptIn(),a.handleSiteMigrationAcknowledgementOptOut()},removeCrossSiteUserSummaryCookieData:function(){a.removeCrossSiteUserSummaryCookieData()},setCrossSiteData:function(e){a.setCrossSiteData(e)},showCrossSiteConfirmModal:function(e){a.showCrossSiteConfirmModal(e)}}}(jQuery,zennir2.cookies,zennir2.global,zennir2.utilities),$(document).ready((function(){"use strict";zennir2.siteMigration.init()})),(zennir2=window.zennir2||{}).quickstart=function(e,t,i,o){"use strict";var a={navMenu:"",navBar:"",navHeight:"",messageBar:"",quickstartMenuComp:"",quickstartHead:"",quickstartOpen:"",mainSection:"",bottomSection:"",navSiteSearch:"",navSearchBox:"",breadcrumbComp:"",filterComp:"",document:"",allEmpty:0,notAllEmpty:0,initjQueryObjects:function(){a.$compQuickstart=t("#comp-quickstart"),a.navMenu=t("#comp-navigation"),a.navBar=t("nav.navbar"),a.navHeight=t(".nav-logo").height()+2,a.messageBar=t(".comp-message-bar"),a.quickstartMenuComp=t(".comp-quickstart"),a.quickstartHead=t(".comp-quickstart .quickstart-head"),a.quickstartOpen=t(".quickstart-open"),a.mainSection=t("#main-section"),a.bottomSection=t("#bottom-section"),a.navSiteSearch=t(".nav-search"),a.navSearchBox=t(".nav-site-search"),a.compBreadcrumbWrapper=t("#comp-breadcrumb-wrapper"),a.compFilter=t("#comp-filter"),a.document=t(document)},quickstartContentChk:function(){var e=[],i=[];t("#comp-quickstart .quickstart-open ul li").each((function(i){e[i]=t(this).find(".font-regular").text().length})),t("#comp-quickstart .quickstart-open div.border-top").each((function(e){i[e]=t(this).find(".font-bold").text().length})),-1!==(e=e.concat(i)).indexOf(0)?e.every((function(e){return 0===e}))?a.allEmpty=1:a.notAllEmpty=1:a.allEmpty=0},handleContainerClass:function(e){"mobile"===e?a.quickstartOpen.hasClass("hidden")?t("body > div.container-fluid").css("overflow-x",""):t("body > div.container-fluid").css("overflow-x","visible"):t("body > div.container-fluid").css("overflow-x","")},desktopAccordion:function(){0===a.notAllEmpty&&0===a.allEmpty?(t(".quick-close").keypress((function(e){13==e.which&&t(a.quickstartHead).click()})),a.quickstartHead.on("click",(function(e){t(this).addClass("pointer-enable"),t(this).toggleClass("active"),t(this).find(".quick-icon, .quick-close").toggleClass("active"),t(this).find(".quick-close").hasClass("active")?t(this).find(".quick-close").attr("tabindex","0"):t(this).find(".quick-close").attr("tabindex","-1"),a.quickstartOpen.toggleClass("hidden absolute"),i.desktop.matches||(a.handleContainerClass("mobile"),a.mainContentHide()),a.quickstartScroll(),a.quickstartActive(),e.stopPropagation(),t(".menu-right").hasClass("active")&&i.desktop.matches&&t(".menu-right.active").trigger("click")})),a.quickstartOpen.on("click",(function(e){e.stopPropagation()})),a.document.on("click",(function(){a.quickstartOpen.hasClass("absolute")&&a.quickstartHead.trigger("click")})),t(".quickstart-txt").on("keypress",(function(e){13===e.which&&a.quickstartHead.trigger("click")}))):1===a.allEmpty&&(t("#comp-quickstart").addClass("hidden"),t("nav.navbar-fixed-top").addClass("top"))},quickstartActive:function(){setTimeout((function(){a.quickstartHead.removeClass("pointer-enable")}),500)},mobileQuickstart:function(){o.hasQuickStartGuide&&(i.desktop.matches?(a.handleContainerClass("desktop"),a.quickstartMenuComp.removeClass("visible-md").insertAfter(a.navMenu),a.mainSection.removeClass("hidden"),a.bottomSection.removeClass("hidden")):(a.handleContainerClass("mobile"),0===a.quickstartMenuComp.next(a.navMenu).length&&(a.quickstartMenuComp.removeClass("visible-md").insertBefore(a.navMenu).css("top",""),null===zennir2.quickstart.$QSGPlaceholder&&(zennir2.quickstart.$QSGPlaceholder=t("<div />",{id:"comp-quickstart-placeholder"}).insertBefore(a.quickstartMenuComp)),a.quickstartOpen.hasClass("absolute")&&a.mainContentHide())))},quickstartScroll:function(){if(o.hasQuickStartGuide)if(i.desktop.matches){t(window).height(),t("#comp-navigation").height(),t("#comp-message-bar").height(),t(".quickstart-head").outerHeight();var e=t(window).height()-(t("#comp-navigation").height()+t(".quickstart-head").outerHeight());a.quickstartMenuComp.position().top>140?a.quickstartOpen.css({overflow:"visible"}):(a.quickstartOpen.css({height:""+e}),a.quickstartOpen.css({overflow:"auto"})),a.quickstartHead.hasClass("active")&&(a.mainSection.removeClass("hidden"),a.bottomSection.removeClass("hidden"),a.navMenu.removeClass("hidden")),a.quickstartOpen.addClass("quickstart-scroll")}else a.quickstartOpen.css({height:""}),a.quickstartOpen.removeClass("quickstart-scroll")},mainContentHide:function(){a.mainSection.hasClass("hidden")?(a.mainSection.removeClass("hidden"),a.bottomSection.removeClass("hidden"),a.navMenu.removeClass("hidden"),zennir2.carousels.handleOneTileCarouselRefresh(),zennir2.carousels.refreshProductCarousel()):(a.mainSection.addClass("hidden"),a.bottomSection.addClass("hidden"),a.navMenu.addClass("hidden")),a.quickstartMenuComp.hasClass("navbar-fixed-top")&&(a.quickstartMenuComp.removeClass("navbar-fixed-top"),zennir2.quickstart.$QSGPlaceholder&&zennir2.quickstart.$QSGPlaceholder.css("height",""),a.navBar.removeClass("navbar-fixed-top"),a.navSearchBox.removeClass("navbar-fixed-top-mobile"),a.navSearchBox.removeClass("navbar-fixed-top"),zennir2.nav.unsetNavSticky(),window.scrollTo(0,0))},quickstartOrientation:function(){o.hasQuickStartGuide&&(i.desktop.matches||setTimeout((function(){t("#comp-quickstart").removeClass("hidden")}),300))},refreshCarousels:function(){i.desktop.matches&&(zennir2.carousels.handleOneTileCarouselRefresh(),zennir2.carousels.refreshContentCarousel())},hideQuickstart:function(){o.isCheckoutPage&&(o.hasQuickStartGuide&&(a.$compQuickstart.remove(),o.hasQuickStartGuide=!1),zennir2.quickstart.$QSGPlaceholder&&zennir2.quickstart.$QSGPlaceholder.remove()),o.hasQuickStartGuide&&(a.navBar.addClass("has-qsg"),a.compBreadcrumbWrapper.addClass("has-qsg"),a.compFilter.addClass("has-qsg"))}};return{$QSGPlaceholder:null,init:function(){a.initjQueryObjects(),a.hideQuickstart(),o.hasQuickStartGuide&&(a.quickstartContentChk(),a.desktopAccordion(),a.mobileQuickstart())},mobileQuickstart:function(){a.mobileQuickstart()},quickstartScroll:function(){a.quickstartScroll()},quickstartOrient:function(){a.quickstartOrientation()},refreshCarousels:function(){a.refreshCarousels()}}}(window,jQuery,zennir2.mq,zennir2.utilities),$(document).ready((function(){"use strict";$("#comp-navigation").length&&(zennir2.quickstart.init(),$(window).winresize((function(){zennir2.quickstart.mobileQuickstart(),zennir2.quickstart.refreshCarousels(),zennir2.quickstart.quickstartScroll()}),200),$(".alert").on("closed.bs.alert",(function(){zennir2.quickstart.mobileQuickstart()})),$(window).on("orientationchange",(function(){zennir2.quickstart.quickstartOrient()})))})),(zennir2=window.zennir2||{}).nav=function(e,t,i,o,a,n,r,s,d,c){"use strict";var l={$body:"",navAccount:"",navMenu:"",navHeight:"",navRight:"",menuRight:"",menuleft:"",dropDown:"",scrollPosition:0,loginBox:"",loginXsBox:"",loginMdBox:"",menuLogin:"",miniLogin:"",loginClose:".fa-close",loginLink:"#menu-login-link",body:"",loginView:"",noLoginView:"",loginBtn:"",logoutBtn:"",loginUser:"",frmHeaderLogin:"",instanceHeaderLogin:null,isLoginCallOn:!1,isLogoutCallOn:!1,$header:null,$loginLarge:null,$accountUserName:null,loginIcon:"#login-fa",loginEmailTextBox:"#input-login-email",loginPopupSuccessMessage:"",document:"",navShopping:"",navSiteSearch:"",searchBtn:"",quickstartHead:"",activeNav:{data:""},pdpMainSection:".pdp-main",rememberPswd:".remember-pswd",passwordInput:"#input-login-pswd",checkForRememberCheckbox:function(){t(l.rememberPswd).is(":checked")||t(l.passwordInput).val("")},initjQueryObjects:function(){l.$body=t("body"),l.navAccount=t(".comp-navigation .nav-account > ul > li"),l.navMenu=t(".comp-navigation .navbar-nav"),l.navHeight=t("header .nav-logo").height()+2,l.navRight=t(".comp-navigation .nav-account > ul"),l.menuRight=t(".menu-right"),l.menuleft=t(".menu-left"),l.dropDown=t("ul.nav li.dropdown"),l.loginBox=t("#login-dd"),l.loginXsBox=t("#mini-account"),l.loginMdBox=t("#login-box"),l.menuLogin=t("#nav-menu li#menu-login"),l.miniLogin=t(".mini-login"),l.body=t("body"),l.loginView=t(".login-view"),l.noLoginView=t(".no-login-view"),l.loginBtn=t(".login-btn"),l.logoutBtn=t(".logout-btn"),l.loginUser=t("#menu-login-user"),l.frmHeaderLogin=t("#frmHeaderLogin"),l.$header=t("header"),l.$loginLarge=t("#login-large"),l.$accountUserName=t(".account-user-name"),l.$frmHeaderLogin=t(l.frmHeaderLogin),l.$quickstartSec=t(".comp-quickstart"),l.$breadcrumbWrapper=t("#comp-breadcrumb-wrapper"),l.$breadcrumb=t("#comp-breadcrumb-wrapper > ol"),l.document=t(document),l.navShopping=t("#nav-shopping > ul"),l.navSiteSearch=t("#nav-site-search"),l.searchBtn=t("#nav-shopping .fa-search"),l.quickstartHead=t(".comp-quickstart .quickstart-head"),l.$navSection=t(".comp-navigation"),l.$navbar=t(".comp-navigation nav.navbar"),l.$navMenu=t("#nav-menu"),l.loginPopupSuccessMessage=t(".login-popup-success-message")},$overlayElement:function(){t("<div/>",{id:"overlay"}).appendTo("body > div.container-fluid")},openSearchDesktop:function(){l.navSiteSearch.removeAttr("style"),t("#top-section").addClass("search-open"),t("html").addClass("global-search-open"),l.$overlayElement(),t(".nav-search").addClass("active"),t("#overlay").removeClass("hidden"),l.navSiteSearch.slideDown().addClass("active").find("input").val("").focus(),t("html").addClass("global-search-focus")},openSearchMobile:function(){l.navSiteSearch.removeAttr("style"),t("#top-section").addClass("search-open"),t("html").addClass("global-search-open"),l.$overlayElement(),t("#nav-menu").collapse("hide"),l.navSiteSearch.slideDown().addClass("active").find("input").val("").focus(),t("html").addClass("global-search-focus")},closeSearch:function(){t("#top-section").removeClass("search-open"),t("html").removeClass("global-search-open global-search-focus"),l.navSiteSearch.slideUp().removeClass("active"),t(".nav-search").removeClass("active"),t("#overlay").remove(),t("#clear-text-search").addClass("hidden")},showQuickStart:function(){t("#comp-quickstart").removeClass("hidden")},hideQuickStart:function(){t("#comp-quickstart").addClass("hidden")},showHelp:function(){t(".nav-help").removeClass("hidden-xs hidden-sm")},inActiveNav:function(){t("body").on("click","#close-site-search",(function(){l.closeSearch(),l.navRight.find(".active").removeClass("active")})),t("body").on("click","#overlay",(function(){l.closeSearch(),l.navRight.find(".active").removeClass("active")}))},layout:function(){i.desktop.matches?this.navAccount.prependTo(this.navRight):(this.navAccount.appendTo(this.navMenu),l.showHelp())},toggleLogin:function(){i.desktop.matches?this.loginBox.appendTo(this.loginMdBox):this.loginXsBox.find("#login-dd").length||this.loginBox.appendTo(this.loginXsBox)},loginFocusEmail:function(){l.$loginLarge.on("shown.bs.dropdown",(function(){t(this).find('input[type="email"]').focus()}))},activeMenu:function(){l.menuRight.on("click",(function(e){t(this).hasClass("active")?t(this).removeClass("active"):(l.menuRight.removeClass("active"),t(this).addClass("active")),l.activeNav.data=t(this).attr("data-nav"),"search"===l.activeNav.data?l.navSiteSearch.hasClass("active")?l.closeSearch():i.desktop.matches?l.openSearchDesktop():l.openSearchMobile():"loginLarge"!==l.activeNav.data&&"help"!==l.activeNav.data||(l.quickstartHead.hasClass("active")&&l.quickstartHead.trigger("click"),l.closeSearch())})),l.navSiteSearch.find("input").on("focus",(function(){t("html").addClass("global-search-focus")})),l.navSiteSearch.find("input").on("blur",(function(){t("html").removeClass("global-search-focus")}))},highlightActiveMenu:function(){t("main.page-women").length?t("li.menu-left").eq(1).addClass("active"):t("main.page-men").length?t("li.menu-left").eq(2).addClass("active"):t("main.page-kids").length?t("li.menu-left").eq(3).addClass("active"):t("main.page-featured").length&&t("li.menu-left").eq(4).addClass("active")},navOnClick:function(){i.desktop.matches&&l.dropDown.find(".dropdown-toggle").on("click",(function(e){(e.ctrlKey||e.metaKey)&&"javascript:void(0)"!==t(this).attr("href")&&"#"!==t(this).attr("href")&&window.open(t(this).attr("href"),"_blank")}))},navOnHover:function(){var e;i.desktop.matches?l.dropDown.hover((function(){l.document.trigger("click"),t(this).find(".dropdown-menu").first().stop(!0,!0).delay(150).slideDown().addClass("open").find(".dropdown-toggle").attr("aria-expanded","true"),clearTimeout(e),e=window.setTimeout((function(){l.closeSearch()}),400),t('[data-nav="'+l.activeNav.data+'"]').removeClass("active")}),(function(){clearTimeout(e),t(this).find(".dropdown-menu").first().stop(!0,!0).slideUp().removeClass("open").find(".dropdown-toggle").attr("aria-expanded","false"),t(this).removeClass("open")})):l.dropDown.off("hover mouseenter mouseover mouseout mouseleave")},slideAnimateDropdown:function(){t(".dropdown").on("show.bs.dropdown",(function(){t(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()})),t(".dropdown").on("hide.bs.dropdown",(function(){t(this).removeClass("open").removeClass("active"),i.desktop.matches?t(this).find(".dropdown-menu").first().stop(!0,!0).slideUp():t(this).find(".dropdown-menu").first().stop(!0,!0).hide()}))},isValidHeaderSearch:function(e){var i=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,o=/[\&\%\<\>\^\{\}\[\]\;\/]/g;return e.replace(o,""),e=t.trim(e),d.isRFK?!(e.match(i)||!(e.length>=1)||e.match(o)):!(e.match(i)||!(e.length>=3)||e.match(o))},search:function(){var e=l.navSiteSearch.find("input");!d.isRFK&&e.length&&(e.autocomplete({minLength:3,appendTo:".nav-site-search",source:function(e,i){var o=t.trim(e.term);o.match(/%/g)||t.ajax({dataType:"json",data:"D="+o+"*",url:zennir2.global.typeaheadurl}).done((function(e,o,a){var n=[];t.each(e.typeahead,(function(e,t){n.push(t)})),i(n)})).fail((function(e,t,i){})).always((function(){}))},focus:function(e,i){var o=t.isEmptyObject(i.item)?"":i.item.label,a=t.isEmptyObject(i.item)?"":i.item.link;return o&&t(this).val(o),a&&t(this).attr("data-url",a),!1},select:function(e,t){window.location.href=t.item.link},open:function(e,i){"ipad"!==cssua.ua.mobile&&"iphone"!==cssua.ua.mobile||t(".nav-site-search").find(".ui-autocomplete").off("menufocus hover mouseover mouseenter")}}).autocomplete("instance")._renderMenu=function(e,i){var o=this,a="";t.each(i,(function(t,i){var n;i.category!==a&&(e.append("<li class='ui-autocomplete-category' aria-label='"+i.category+"'>"+i.category+"</li>"),a=i.category),n=o._renderItemData(e,i),i.category&&n.attr("aria-label",i.category+" : "+i.label)}))});l.navSiteSearch.on("keypress","#site-search, #search-mobile",(function(e){13==e.which&&t(this).click()})),l.navSiteSearch.on("click","#site-search, #search-mobile",(function(){var i=t.trim(e.val());l.isValidHeaderSearch(i)&&(l.closeSearch(),d.isRFK?zennir2.utilities.search(i):i.match(/%/g)?window.location.href=zennir2.global.searchurl+"?onclick=true":window.location.href=zennir2.global.searchurl+"?Ntt="+i+"&onclick=true")})),e.on("keyup keypress paste blur change",(function(i){e.val()?t("#clear-text-search").removeClass("hidden"):t("#clear-text-search").addClass("hidden"),13===i.which&&t("#site-search").trigger("click")})),l.navSiteSearch.on("keypress","#clear-text-search",(function(e){13==e.which&&t(this).click()})),l.navSiteSearch.on("click","#clear-text-search",(function(){e.val("");var i=document.createElement("input");i.setAttribute("type","text"),document.body.appendChild(i),i.focus(),e.focus(),i.remove(),t("#clear-text-search").addClass("hidden")})),l.navSiteSearch.on("click","#cancel-mobile",(function(){l.closeSearch()}))},quickstartBarTogglePosition:function(){i.desktop.matches&&l.$quickstartSec.insertAfter("#comp-navigation")},toggleQuickStartDesktop:function(){},$navSection:"",$navbar:"",$navMenu:"",$quickstartSec:null,$breadcrumbWrapper:null,$breadcrumb:null,scrollOn:!1,configHeaderSticky:null,isNavExpanded:!1,isHeaderSticky:!1,setNavSticky:function(){var e=window.cssua.ua.edge?l.$navSection.get(0).offsetTop:l.$navSection.offset().top,o=t("header .nav-logo").height()+2,a=l.$quickstartSec.length?l.$quickstartSec.height():0,n=l.$breadcrumbWrapper.length?l.$breadcrumbWrapper.height():0;t(window).scrollTop()>e+0?(l.isHeaderSticky=!0,l.$navSection.css("height",o),zennir2.quickstart.$QSGPlaceholder&&zennir2.quickstart.$QSGPlaceholder.css("height",a),l.$breadcrumbWrapper.css("height",n),l.$navbar.addClass("navbar-fixed-top"),l.$quickstartSec.addClass("navbar-fixed-top"),l.$breadcrumb.addClass("navbar-fixed-top"),i.desktop.matches?(l.$quickstartSec.css("top",o),l.navSiteSearch.removeClass("absolute").addClass("navbar-fixed-top")):(l.$quickstartSec.css("top",""),l.navSiteSearch.removeClass("absolute").addClass("navbar-fixed-top-mobile").addClass("navbar-fixed-top"))):(l.isHeaderSticky=!1,l.$navSection.css("height",""),zennir2.quickstart.$QSGPlaceholder&&zennir2.quickstart.$QSGPlaceholder.css("height",""),l.$breadcrumbWrapper.css("height",""),l.$navbar.removeClass("navbar-fixed-top"),l.$quickstartSec.removeClass("navbar-fixed-top"),l.$breadcrumb.removeClass("navbar-fixed-top"),i.desktop.matches?(l.$quickstartSec.css("top",""),l.navSiteSearch.addClass("absolute").removeClass("navbar-fixed-top")):l.navSiteSearch.addClass("absolute").removeClass("navbar-fixed-top-mobile").removeClass("navbar-fixed-top")),zennir2.quickstart.quickstartScroll(),l.scrollOn=!1},unsetNavSticky:function(e){l.isNavExpanded&&(!e||"resize"===e&&i.desktop.matches)&&l.$navMenu.collapse("hide")},stickyNavInit:function(){var e;l.configHeaderSticky=l.$navSection.length&&!!l.$navSection.data("sticky"),l.configHeaderSticky&&(l.setNavSticky(),e="scroll","android"===window.cssua.ua.mobile&&(e+=" touchmove"),t(window).on(e,(function(){0===l.$navSection.length||l.$navSection.hasClass("hidden")||l.isHeaderSticky&&l.isNavExpanded||l.isNavExpanded&&i.desktop.matches||l.scrollOn||(l.scrollOn=!0,l.setNavSticky())}))),this.$navMenu.on("show.bs.collapse",(function(){l.scrollPosition=t(document).scrollTop()})),this.$navMenu.on("shown.bs.collapse",(function(){l.isNavExpanded=!0,l.isHeaderSticky=!0,l.body.addClass("nav-open"),l.$navbar.addClass("navbar-fixed-top"),l.$quickstartSec.addClass("navbar-fixed-top"),l.closeSearch()})),this.$navMenu.on("hidden.bs.collapse",(function(){l.isNavExpanded=!1,l.isHeaderSticky=!1,l.body.removeClass("nav-open"),l.$navbar.removeClass("navbar-fixed-top"),l.$quickstartSec.removeClass("navbar-fixed-top"),l.$navSection.css("height",""),zennir2.quickstart.$QSGPlaceholder&&zennir2.quickstart.$QSGPlaceholder.css("height",""),zennir2.carousels.handleOneTileCarouselRefresh(),zennir2.carousels.refreshProductCarousel(),o.isPDPPage&&t(l.pdpMainSection).trigger("refreshImageCarousel"),o.hasDitto&&(o.isPDPPage||o.isPLPPage)&&zennir2.ditto.centerAlignDittoThumbnail(),t(document).scrollTop(l.scrollPosition)}))},loginLayout:function(){t(l.loginClose+","+l.loginLink).on("click",(function(){l.miniLogin.toggleClass("hidden-xs hidden-sm"),l.miniLogin.is(":visible")&&l.miniLogin.find('input[type="email"]').focus(),o.isLoggedIn()||l.loginUser.toggleClass("hidden-xs hidden-sm")}))},isLoggedIn:function(){return!!l.$loginLarge.data("login")},updateLoginView:function(){o.isLoggedIn()?(l.loginView.removeClass("hidden"),l.noLoginView.addClass("hidden"),l.$accountUserName.text(n.getUserName()),i.desktop.matches||l.$loginLarge.removeClass("hidden-xs hidden-sm"),l.$loginLarge.find(".sub-text").text("Account"),l.$loginLarge.find("#login-link").attr("aria-label","My Account"),l.$loginLarge.attr("data-login","true")):(l.loginView.addClass("hidden"),l.noLoginView.removeClass("hidden").find(".server-message").addClass("hidden"),l.$loginLarge.addClass("hidden-xs hidden-sm"),l.$loginLarge.find(".sub-text").text("Login"),l.$loginLarge.find("#login-link").attr("aria-label","Login"),l.$loginLarge.attr("data-login","false"))},prefetchLoginView:function(){var e=this;s.receivedServerData?e.updateLoginView():(e.updateLoginView(),s.prmServerData.done((function(){e.updateLoginView()})))},loginSubmit:function(){var e,a,s=null,u=null,p={},f="",h=document.querySelector("#login-large"),m=null,g={};l.$frmHeaderLogin.length&&(l.instanceHeaderLogin=l.$frmHeaderLogin.parsley(),l.instanceHeaderLogin.on("form:submit",(function(){return l.isLoginCallOn||(l.isLoginCallOn=!0,(u=this.$element).find('input[type="submit"]').prop("disabled",!0).addClass("disabled"),(m=t.ajax({url:zennir2.global.rest.checkCrossSiteUser,cache:!1,method:"GET",dataType:"json",data:{login:u.find(l.loginEmailTextBox).val()},beforeSend:function(){o.handleAjaxLoaderDisplay("add")}})).done((function(m,v,w){m&&m.crossSiteUserSummary&&m.crossSiteUserSummary.crossSiteUserExist?(l.$body.removeClass("preloader"),l.isLoginCallOn=!1,u.find('input[type="submit"]').prop("disabled",!1).removeClass("disabled"),c.setCrossSiteData(m.crossSiteUserSummary),c.showCrossSiteConfirmModal(m.crossSiteUserSummary)):((e=[]).push("faceImageSequenceFramefit="+(window.faceImageSequenceFramefit?window.faceImageSequenceFramefit:"")),e.push("faceImageSequenceDitto="+(window.faceImageSequenceDitto?window.faceImageSequenceDitto:"")),e.push("dittoData="+!(!window.displayDitto||"true"!==window.displayDitto)),e.push("framefitData="+!(!window.displayFrameFit||"true"!==window.displayFrameFit)),f=e.join("&"),a=zennir2.global.customerDataUrl+(f?"?"+f:zennir2.global.profileDataUrl),u.find(".loginSuccessUrl").val(a),c.checkCrossSiteUserSummaryCookie()&&(g=c.getCrossSiteUserSummaryCookieData(),u.find("#cross-site-user-order-id").val(g.orderId),u.find("#cross-site-user-profile-id").val(g.profileId),u.find("#cross-site-user-copy-data").val("1")),p=u.serialize(),(s=t.ajax({url:zennir2.global.profileDataUrl,cache:!1,method:"POST",dataType:"json",data:p,beforeSend:function(){o.handleAjaxLoaderDisplay("add")}})).done((function(e,a,s){400===e.status?(u.prev("div.server-message").removeClass("hidden").find("p").text(e.errorMessage),t.isEmptyObject(e.formException)||(e.formException[0].invalidAttempts>=e.formException[0].maxInvalidAttempts?window.location.href="/login":i.desktop.matches&&l.$loginLarge.find("a.dropdown-toggle").click())):200===e.profile.status&&5===e.profile.profile.securityStatus&&(l.loginPopupSuccessMessage.css("display","flex"),l.$loginLarge.find("a.dropdown-toggle").click(),window.setTimeout((function(){l.loginPopupSuccessMessage.css("display","none"),l.$loginLarge.find("a.dropdown-toggle").click(),c.removeCrossSiteUserSummaryCookieData(),c.checkSiteMigrationAcknowledgement().done((function(){zennir2.ditto.deleteDittoCookie(),zennir2.ditto.deleteDittoDefaultCookie(),o.isAccountsAnonymousFavoritesPage?(zennir2.cookies.set("recently_logged_in",!0),window.location.href="/myAccount/myFavorites"):t.isEmptyObject(e)||(u.prev("div.server-message").addClass("hidden").find("p").text(""),l.$loginLarge.data({login:!0,userName:e.profile.profile.firstName}),n.updateUserProfileData(e.profile),l.updateLoginView(),l.loginBox.addClass("hidden-xs hidden-sm"),l.loginUser.removeClass("hidden-xs hidden-sm"),t(l.loginIcon).addClass("color-primary"),zennir2.userprofile.setTrackingStatus(),zennir2.windsorCircle.fnIdentifyViaAccount(),n.updateCartCountInHeader(),r.updateFavoritesData(e.favoritesRecentView),r.updateFavCountInHeader(),r.updateFavLinkInHeader(d.favoritesUrl.registered),r.updateRecentlyViewedData(e.favoritesRecentView),r.ProductTile.setIsFavorite(t(".comp-product-carousel")),r.ProductTile.setIsFavorite(t(".ymal-carousel")),r.ProductTile.setIsFavorite(t(".comp-product-listing")),(o.hasFrameFit||o.hasDitto)&&zennir2.tryon.getTryOnData("login",e),o.hasFrameFit&&window.frameFitData.showRelated&&(zennir2.frameFitDom.ProductTiles("favorites",window.favoriteAndRecentlyViewedData.favorites,!1,!0),zennir2.frameFitDom.tabCountUpdate("favorites"),zennir2.frameFitDom.ProductTiles("recently-viewed",window.favoriteAndRecentlyViewedData.recentlyViewed,!1,!0),zennir2.frameFitDom.tabCountUpdate("recentlyViewed")),o.isPDPPage&&(window.loginEvent.detail.data=l.$loginLarge.data(),h.dispatchEvent(window.loginEvent),o.isPDPReviewPage||o.isPDPGiftCardPage||(r.PDP.setIsFavorite(),r.PDP.updateFavoritesDisplay()),o.isPDPReviewPage&&zennir2.writeReview.reloadReviewForm()),o.isShoppingCartPage&&zennir2.cart.setFormHtmlContent(),zennir2.utilities.displayPrescriptionUpdates())}))}),3e3))})),s.fail((function(e,t,i){})),s.always((function(){l.$body.removeClass("preloader"),l.isLoginCallOn=!1,u.find('input[type="submit"]').prop("disabled",!1).removeClass("disabled"),i.desktop.matches&&l.$loginLarge.find("a.dropdown-toggle").click()})))})),m.fail((function(e,t,o){l.$body.removeClass("preloader"),l.isLoginCallOn=!1,u.find('input[type="submit"]').prop("disabled",!1).removeClass("disabled"),i.desktop.matches&&l.$loginLarge.find("a.dropdown-toggle").click()})),m.always((function(){}))),!1})))},logoutSubmit:function(){var e,a,s,c=null,u=t("#frmHeaderLogout"),p="",f=document.querySelector("#login-large");u.length&&u.on("submit",(function(h){h.preventDefault(),l.isLogoutCallOn||(l.isLogoutCallOn=!0,(a=[]).push("faceImageSequenceFramefit="+(window.faceImageSequenceFramefit?window.faceImageSequenceFramefit:"")),a.push("faceImageSequenceDitto="+(window.faceImageSequenceDitto?window.faceImageSequenceDitto:"")),a.push("dittoData="+!(!window.displayDitto||"true"!==window.displayDitto)),a.push("framefitData="+!(!window.displayFrameFit||"true"!==window.displayFrameFit)),p=a.join("&"),s=zennir2.global.customerDataUrl+(p?"?"+p:zennir2.global.profileDataUrl),u.find(".logoutSuccessUrl").val(s),u.find('input[type="submit"]').prop("disabled",!0).addClass("disabled"),e=u.serialize(),(c=t.ajax({url:zennir2.global.profileDataUrl,cache:!1,method:"POST",dataType:"json",data:e,beforeSend:function(){l.$body.addClass("preloader")}})).done((function(e,a,s){zennir2.ditto.deleteDittoCookie(),zennir2.ditto.deleteDittoDefaultCookie(),o.isMyAccountPage||o.isShoppingCartPage||o.isOrderPage||o.isCheckoutPage?window.location.href="/":t.isEmptyObject(e)||(l.$loginLarge.data({login:!1,userName:e.profile.profile.firstName}),n.updateUserProfileData(e.profile),l.updateLoginView(),l.loginBox.removeClass("hidden-xs hidden-sm"),l.loginUser.addClass("hidden-xs hidden-sm"),t(l.loginIcon).removeClass("color-primary"),i.desktop.matches||l.$navMenu.scrollTop(0),zennir2.userprofile.setTrackingStatus(),n.updateCartCountInHeader(),r.updateFavoritesData(e.favoritesRecentView),r.updateFavCountInHeader(),r.updateFavLinkInHeader(d.favoritesUrl.anonymous),r.updateRecentlyViewedData(e.favoritesRecentView),r.ProductTile.setIsFavorite(t(".comp-product-carousel")),r.ProductTile.setIsFavorite(t(".ymal-carousel")),r.ProductTile.setIsFavorite(t(".comp-product-listing")),(o.hasFrameFit||o.hasDitto)&&zennir2.tryon.getTryOnData("logout",e),o.hasFrameFit&&window.frameFitData.showRelated&&(zennir2.frameFitDom.ProductTiles("favorites",window.favoriteAndRecentlyViewedData.favorites,!1,!0),zennir2.frameFitDom.tabCountUpdate("favorites"),zennir2.frameFitDom.ProductTiles("recently-viewed",window.favoriteAndRecentlyViewedData.recentlyViewed,!1,!0),zennir2.frameFitDom.tabCountUpdate("recentlyViewed")),o.isPDPPage&&(window.logoutEvent.detail.data=l.$loginLarge.data(),f.dispatchEvent(window.logoutEvent),o.isPDPReviewPage||o.isPDPGiftCardPage||(r.PDP.setIsFavorite(),r.PDP.updateFavoritesDisplay()),o.isPDPReviewPage&&zennir2.writeReview.reloadReviewForm()))}),(function(e,t,i){return e})),c.always((function(){l.$body.removeClass("preloader"),l.isLogoutCallOn=!1,u.find('input[type="submit"]').prop("disabled",!1).removeClass("disabled"),i.desktop.matches&&l.$loginLarge.find("a.dropdown-toggle").click()})))}))},handleAndroidTabletLogin:function(){t(".nav-right #login-link").click((function(e){window.userProfileObject.isLoggedIn&&"false"!==window.userProfileObject.isLoggedIn||(e.stopPropagation(),window.location.href="/login")}))}};return{init:function(){l.initjQueryObjects(),l.activeMenu(),l.highlightActiveMenu(),l.layout(),l.navOnClick(),l.navOnHover(),l.toggleLogin(),l.loginFocusEmail(),l.search(),l.stickyNavInit(),l.loginLayout(),l.loginSubmit(),l.logoutSubmit(),l.prefetchLoginView(),l.slideAnimateDropdown(),l.inActiveNav(),l.toggleQuickStartDesktop(),l.quickstartBarTogglePosition(),l.checkForRememberCheckbox()},reLayout:function(){l.layout()},navOnHover:function(){l.navOnHover()},toggleLogin:function(){l.toggleLogin()},isLoggedIn:function(){return l.isLoggedIn()},updateLoginView:function(){l.updateLoginView()},toggleQuickStartDesktop:function(){l.toggleQuickStartDesktop()},quickstartBarTogglePosition:function(){l.quickstartBarTogglePosition()},unsetNavSticky:function(e){l.unsetNavSticky(e)},handleAndroidTabletLogin:function(){l.handleAndroidTabletLogin()}}}(window,jQuery,zennir2.mq,zennir2.utilities,zennir2.validateForm,zennir2.userprofile,zennir2.favorites,zennir2.pageCache,zennir2.global,zennir2.siteMigration),$(document).ready((function(){"use strict";zennir2.nav.init(),"android"===window.cssua.ua.mobile&&zennir2.nav.handleAndroidTabletLogin(),$(window).winresize((function(){zennir2.nav.reLayout(),zennir2.nav.navOnHover(),zennir2.nav.toggleLogin(),zennir2.nav.updateLoginView(),zennir2.nav.unsetNavSticky("resize"),zennir2.nav.quickstartBarTogglePosition()}),100),$(window).winresize((function(){}),150)})),(zennir2=window.zennir2||{}).footer=function(e,t,i,o){"use strict";var a={adjustStandaloneFooter:function(){window.self!==window.top&&"function"==typeof window.sendDocHeightMsg&&window.sendDocHeightMsg()},initAccordian:function(){var e=this;t(".list-head").on("click",(function(o){var a=t(this);i.desktop.matches||(t(o.target).is("a")&&o.preventDefault(),a.hasClass("open")?a.next("ul.list").slideUp(300,(function(){a.removeClass("open"),a.find(".fa").removeClass("fa-times").addClass("fa-angle-down"),e.adjustStandaloneFooter()})):(t(".list-head").removeClass("open"),t(".list-head").find(".fa").removeClass("fa-times").addClass("fa-angle-down"),t("ul.list").slideUp(300),a.addClass("open").next("ul.list").slideDown(400,e.adjustStandaloneFooter),a.find(".fa").removeClass("fa-angle-down").addClass("fa-times")))}))},toggleAccordian:function(){var e=t(".comp-footer ul.list");i.desktop.matches&&(e.css("display",""),t(".list-head").removeClass("open").find(".fa").removeClass("fa-times").addClass("fa-angle-down"))},handleServerMessage:function(){var e=t("#comp-footer .server-message");e.find("i.fa").on("click",(function(){e.removeClass("active")}))},addBorder:function(){var e=t("div.customer-service");e.length&&e.prepend('<span class="border-faq absolute top hidden-xs hidden-sm"></span><span class="border-cs absolute top hidden-xs hidden-sm"></span>')},removeBorder:function(){(t('div[data-file="comp-product-carousel"]').is(":last-child")||t("#main-section > div:not([data-comp]) > div.product-carousel-wrapper").is(":last-child"))&&t("footer").css("border-top",0)},formValidate:function(){var e=t("#txtEmailId");t("#frmEmailSignUp").length&&(t("#frmEmailSignUp").parsley().on("form:submit",(function(){return o.validateEmailSignUp(this.$element),!1})),e.parsley().on("field:error",(function(){var e=this.$element;setTimeout((function(){e.attr("placeholder",e.data("parsleyErrorMessage"))}),10)})),e.data("placeholder",e.attr("placeholder")))}};return{toggleAccordian:function(){a.toggleAccordian()},init:function(){a.initAccordian(),a.toggleAccordian(),a.handleServerMessage(),a.addBorder(),a.removeBorder(),a.formValidate()}}}(window,jQuery,zennir2.mq,zennir2.validateForm),$(document).ready((function(){"use strict";$("#comp-footer").length&&(zennir2.footer.init(),$(window).winresize((function(){zennir2.footer.toggleAccordian()}),250))})),function(e){"use strict";window.footerFormStyle=function(){var t=document.getElementById("email-signup-section"),i=document.getElementById("comp-footer"),o=i.getElementsByClassName("social-icons")[0];t.classList.contains("ju_inpage_con")?e(i).addClass("formLive"):(e(o).removeClass("col-xs-12 col-md-5 col-lg-6"),e(o).addClass("col-xs-12 col-md-6 col-md-offset-3"),e(i).addClass("formGone"))},window.ju_init=function(){setTimeout((function(){window.footerFormStyle()}),2e3)}}(jQuery),(zennir2=window.zennir2||{}).Modal=function(e){"use strict";return{createModal:function(t){var i=t.heading||null,o=t.body||null,a=t.footer||null,n=t.styles||"",r=t.bodyStyles||"",s=t.id||"",d=t.backdrop?'data-backdrop="'+t.backdrop+'"':"",c=void 0===t.keyboard?"":'data-keyboard="'+t.keyboard+'"',l=null,u=void 0===t.isFrameFitModal||t.isFrameFitModal,p=void 0===t.displayHeader||t.displayHeader;return(l=e(['<div id="'+s+'" class="modal '+(u?"framefit-modal":"")+'" tabindex="-1" role="dialog" '+d+" "+c+">",'<div class="modal-dialog" role="document" style="'+n+'">','<div class="modal-content">','<div class="modal-header '+(p?"":"hidden")+'">','<button type="button" class="close" data-dismiss="modal" aria-label="Click on icon to close modal"><span aria-hidden="true">&times;</span></button>',"</div>",'<div class="modal-body" style="'+r+'">',"</div>",'<div class="modal-footer">',"</div>","</div>","</div>","</div>"].join("\n"))).find(".modal-header").append(i),l.find(".modal-body").append(o),l.find(".modal-footer").append(a),t.onClose&&(l.modal("hide"),l.find(".close").on("click",t.onClose)),t.onModalShow&&l.on("show.bs.modal",t.onModalShow),t.onModalShown&&l.on("shown.bs.modal",t.onModalShown),t.onModalHidden&&l.on("hidden.bs.modal",t.onModalHidden),l}}}(jQuery),(zennir2=window.zennir2||{}).breadcrumb=function(e,t,i){"use strict";var o={breadcrumbMenu:"",breadcrumbAttr:"",breadcrumbAppend:"",initJQuerySelectors:function(){o.breadcrumbMenu=t(".comp-breadcrumb"),o.breadcrumbAttr=t("#main-section").attr("data-breadcrumb"),o.breadcrumbAppend=t(".comp-breadcrumb ol")},breadcrumbStart:function(){if(t("#main-section").data("breadcrumb")){t(".comp-breadcrumb ol li:not(.trademark):not(.home)").remove();var e=JSON.parse(o.breadcrumbAttr),i=Object.keys(e).length,a=0;t.each(e,(function(e,t){++a<i?o.breadcrumbAppend.append('<li><a href="'+t+'" aria-label="breadcrumb value">'+e+"</a></li>"):o.breadcrumbAppend.append("<li><span>"+e+"</span></li>")}))}},breadcrumbWidthCalc:function(){var e=0,i=1,a=o.breadcrumbAppend.parent().width()-395-35;for(t(".comp-breadcrumb ol li").each((function(){var i=t(this);e+=i.outerWidth()}));e>a-46;)e-=t(".comp-breadcrumb ol li").eq(i).outerWidth(),t(".comp-breadcrumb ol li").eq(i).addClass("hidden"),i++;t(".comp-breadcrumb ol li").hasClass("hidden")&&o.placeEllipsis(i)},placeEllipsis:function(e){t(".comp-breadcrumb ol li").eq(e).prepend('<a class="breadCrumbEllipsis" aria-label="breadCrumbEllipsis">...</a>')},removeEllipsis:function(){t(".comp-breadcrumb ol li").removeClass("hidden"),t(".breadCrumbEllipsis").remove()}};return{init:function(){o.initJQuerySelectors(),o.breadcrumbStart(),o.breadcrumbWidthCalc()},initJQuerySelectors:function(){o.initJQuerySelectors()},breadcrumbResize:function(){o.removeEllipsis()},breadcrumbWidthCalc:function(){o.breadcrumbWidthCalc()}}}(window,jQuery,zennir2.mq),$(document).ready((function(){"use strict";$(".comp-breadcrumb").length&&$("#main-section").data("breadcrumb")?(zennir2.breadcrumb.init(),$(window).winresize((function(){zennir2.breadcrumb.breadcrumbResize(),zennir2.breadcrumb.breadcrumbWidthCalc()}),200)):$(".comp-breadcrumb").length&&!$("#main-section").data("breadcrumb")&&(zennir2.breadcrumb.initJQuerySelectors(),zennir2.breadcrumb.breadcrumbWidthCalc(),$(window).winresize((function(){zennir2.breadcrumb.breadcrumbResize(),zennir2.breadcrumb.breadcrumbWidthCalc()}),200))})),(zennir2=window.zennir2||{}).msgbar=function(e,t,i){"use strict";var _this_alertMessageDismissal=function(){t(".alert").length&&(t(".alert").each((function(){void 0!==typeof Storage&&("displayNone"!==localStorage.getItem(t(this).data("msg-name"))&&t(this).removeClass("hidden"))})),t('[data-dismiss="alert"]').on("click",(function(){void 0!==typeof Storage&&localStorage.setItem(t(this).parent(".alert").data("msg-name"),"displayNone")})))};return{init:function(){_this_alertMessageDismissal()}}}(window,jQuery,zennir2.mq),$(document).ready((function(){"use strict";zennir2.msgbar.init()})),function(e){"use strict";var t=function(){function DataTransfer(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(DataTransfer.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(DataTransfer.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(DataTransfer.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),DataTransfer.prototype.clearData=function(e){null!==e?delete this._data[e]:this._data=null},DataTransfer.prototype.getData=function(e){return this._data[e]||""},DataTransfer.prototype.setData=function(e,t){this._data[e]=t},DataTransfer.prototype.setDragImage=function(e,t,o){var a=i._instance;a._imgCustom=e,a._imgOffset={x:t,y:o}},DataTransfer}();e.DataTransfer=t;var i=function(){function DragDropTouch(){if(this._lastClick=0,DragDropTouch._instance)throw"DragDropTouch instance already created.";if("ontouchstart"in document){var e=document,t=this._touchstart.bind(this),i=this._touchmove.bind(this),o=this._touchend.bind(this);e.addEventListener("touchstart",t),e.addEventListener("touchmove",i),e.addEventListener("touchend",o),e.addEventListener("touchcancel",o)}}return DragDropTouch.getInstance=function(){return DragDropTouch._instance},DragDropTouch.prototype._touchstart=function(e){var t=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<DragDropTouch._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target))return e.preventDefault(),void this._reset();this._reset();var i=this._closestDraggable(e.target);i&&(this._dispatchEvent(e,"mousemove",e.target)||this._dispatchEvent(e,"mousedown",e.target)||(this._dragSource=i,this._ptDown=this._getPoint(e),this._lastTouch=e,e.preventDefault(),setTimeout((function(){t._dragSource==i&&null===t._img&&t._dispatchEvent(e,"contextmenu",i)&&t._reset()}),DragDropTouch._CTXMENU)))}},DragDropTouch.prototype._touchmove=function(e){if(this._shouldHandle(e)){var t=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",t))return this._lastTouch=e,void e.preventDefault();if(this._dragSource&&!this._img)this._getDelta(e)>DragDropTouch._THRESHOLD&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",t));this._img&&(this._lastTouch=e,e.preventDefault(),t!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",t),this._lastTarget=t),this._moveImage(e),this._dispatchEvent(e,"dragover",t))}},DragDropTouch.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target))return void e.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},DragDropTouch.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},DragDropTouch.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._dataTransfer=new t},DragDropTouch.prototype._getPoint=function(e,t){return e&&e.touches&&(e=e.touches[0]),{x:t?e.pageX:e.clientX,y:t?e.pageY:e.clientY}},DragDropTouch.prototype._getDelta=function(e){var t=this._getPoint(e);return Math.abs(t.x-this._ptDown.x)+Math.abs(t.y-this._ptDown.y)},DragDropTouch.prototype._getTarget=function(e){for(var t=this._getPoint(e),i=document.elementFromPoint(t.x,t.y);i&&"none"==getComputedStyle(i).pointerEvents;)i=i.parentElement;return i},DragDropTouch.prototype._createImage=function(e){this._img&&this._destroyImage();var t=this._imgCustom||this._dragSource;if(this._img=t.cloneNode(!0),this._copyStyle(t,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var i=t.getBoundingClientRect(),o=this._getPoint(e);this._imgOffset={x:o.x-i.left,y:o.y-i.top},this._img.style.opacity=DragDropTouch._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},DragDropTouch.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},DragDropTouch.prototype._moveImage=function(e){var t=this;requestAnimationFrame((function(){var i=t._getPoint(e,!0),o=t._img.style;o.position="absolute",o.pointerEvents="none",o.zIndex="999999",o.left=Math.round(i.x-t._imgOffset.x)+"px",o.top=Math.round(i.y-t._imgOffset.y)+"px"}))},DragDropTouch.prototype._copyProps=function(e,t,i){for(var o=0;o<i.length;o++){var a=i[o];e[a]=t[a]}},DragDropTouch.prototype._copyStyle=function(e,t){if(DragDropTouch._rmvAtts.forEach((function(e){t.removeAttribute(e)})),e instanceof HTMLCanvasElement){var i=e,o=t;o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0)}for(var a=getComputedStyle(e),n=0;n<a.length;n++){var r=a[n];t.style[r]=a[r]}t.style.pointerEvents="none";for(var s=0;s<e.children.length;s++)this._copyStyle(e.children[s],t.children[s])},DragDropTouch.prototype._dispatchEvent=function(e,t,i){if(e&&i){var o=document.createEvent("Event"),a=e.touches?e.touches[0]:e;return o.initEvent(t,!0,!0),o.button=0,o.which=o.buttons=1,this._copyProps(o,e,DragDropTouch._kbdProps),this._copyProps(o,a,DragDropTouch._ptProps),o.dataTransfer=this._dataTransfer,i.dispatchEvent(o),o.defaultPrevented}return!1},DragDropTouch.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable"))return e;return null},DragDropTouch._instance=new DragDropTouch,DragDropTouch._THRESHOLD=5,DragDropTouch._OPACITY=.5,DragDropTouch._DBLCLICK=500,DragDropTouch._CTXMENU=900,DragDropTouch._rmvAtts="id,class,style,draggable".split(","),DragDropTouch._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),DragDropTouch._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),DragDropTouch}();e.DragDropTouch=i}(DragDropTouch||(DragDropTouch={})),(zennir2=window.zennir2||{}).youtube=function(e,t){"use strict";var i={getYoutubeEmbedUrl:function(e){if(-1===e.indexOf("embed")){var t="";return t=-1!==e.indexOf("watch")?e.lastIndexOf("="):e.lastIndexOf("/"),"https://youtube.com/embed/"+e.substr(t+1)}return!1},youtubeInModal:function(){var e=t("a.youtube-modal");t("body").prepend('<div class="modal fade" id="videoModal" tabindex="-1" role="dialog" aria-labelledby="videoModalLabel">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span></button>\n      </div>\n      <div class="modal-body">        \n        <iframe width="100%" height="100%" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>\n      </div>\n    </div>\n  </div>\n</div>');var o=t("#videoModal");e.on("click",(function(){var e=t(this).data("src");o.find("iframe").attr("src",i.getYoutubeEmbedUrl(e))})),o.on("hide.bs.modal",(function(){t(this).find("iframe").attr("src","")}))}};return i}(window,jQuery),$(document).ready((function(){"use strict";$("a.youtube-modal").length&&zennir2.youtube.youtubeInModal()}));