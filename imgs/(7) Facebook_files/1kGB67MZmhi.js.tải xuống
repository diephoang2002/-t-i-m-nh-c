if (self.CavalryLogger) { CavalryLogger.start_js(["Ziq\/X"]); }

__d("MarketplaceDesktopAdsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MarketplaceDesktopAdsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MarketplaceDesktopAdsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MarketplaceDesktopAdsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setExtra=function(a){this.$1.extra=b("GeneratedLoggerUtils").serializeMap(a);return this};return a}();c={event_name:!0,extra:!0};e.exports=a}),null);
__d("MarketplaceErrorDebugTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MarketplaceErrorDebugLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MarketplaceErrorDebugLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MarketplaceErrorDebugLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientEventTime=function(a){this.$1.client_event_time=a;return this};c.setClientSessionID=function(a){this.$1.client_session_id=a;return this};c.setClientSessionReferral=function(a){this.$1.client_session_referral=a;return this};c.setComponentName=function(a){this.$1.component_name=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setErrorCode=function(a){this.$1.error_code=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setNotifCount=function(a){this.$1.notif_count=a;return this};c.setQuery=function(a){this.$1.query=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRouteName=function(a){this.$1.route_name=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setStackTrace=function(a){this.$1.stack_trace=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTimeSinceInitialNotifLoad=function(a){this.$1.time_since_initial_notif_load=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={client_event_time:!0,client_session_id:!0,client_session_referral:!0,component_name:!0,device_id:!0,error:!0,error_code:!0,event:!0,notif_count:!0,query:!0,referral_surface:!0,route_name:!0,session_id:!0,stack_trace:!0,surface:!0,time_since_initial_notif_load:!0};e.exports=a}),null);
__d("MWMSLeaveGroupMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerGroupThreadLeaveResponsePayload",kind:"LinkedField",name:"messenger_group_thread_leave",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWMSLeaveGroupMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWMSLeaveGroupMutation",selections:b},params:{id:"2660911760701657",metadata:{},name:"MWMSLeaveGroupMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWChatBusinessPageSettingQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"commerce_page_settings",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatBusinessPageSettingQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatBusinessPageSettingQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"2327950377254929",metadata:{},name:"MWChatBusinessPageSettingQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatContextBannerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"profileID"}],b=[{alias:null,args:[{kind:"Variable",name:"profile_id",variableName:"profileID"}],concreteType:"MessengerContextResult",kind:"LinkedField",name:"messenger_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connection_context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"context_items",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatContextBannerQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatContextBannerQuery",selections:b},params:{id:"2277567562297201",metadata:{},name:"MWChatContextBannerQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useMessengerLocalRemoveMessageMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerMessageLocalRemoveResponsePayload",kind:"LinkedField",name:"messenger_message_local_remove",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerLocalRemoveMessageMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerLocalRemoveMessageMutation",selections:b},params:{id:"2417147458399603",metadata:{},name:"useMessengerLocalRemoveMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWMSDeleteThreadMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessageThreadDeleteResponsePayload",kind:"LinkedField",name:"message_thread_delete",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"deleted_thread_timestamp",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWMSDeleteThreadMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWMSDeleteThreadMutation",selections:b},params:{id:"2847305268710142",metadata:{},name:"MWMSDeleteThreadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometC2CTransactionSurveyImpressionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null},d={alias:"should_show_txn_survey_on_mas",args:[{kind:"Literal",name:"action",value:"MARK_AS_SOLD"}],kind:"ScalarField",name:"should_show_txn_survey",storageKey:'should_show_txn_survey(action:"MARK_AS_SOLD")'},e={alias:"should_show_txn_survey_on_delete",args:[{kind:"Literal",name:"action",value:"DELETE"}],kind:"ScalarField",name:"should_show_txn_survey",storageKey:'should_show_txn_survey(action:"DELETE")'};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometC2CTransactionSurveyImpressionMutation",selections:[{alias:null,args:b,concreteType:"C2cTransactionSurveyImpressionResponsePayload",kind:"LinkedField",name:"c2c_transaction_survey_impression",plural:!1,selections:[c,{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[d,e],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometC2CTransactionSurveyImpressionMutation",selections:[{alias:null,args:b,concreteType:"C2cTransactionSurveyImpressionResponsePayload",kind:"LinkedField",name:"c2c_transaction_survey_impression",plural:!1,selections:[c,{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2901651289866572",metadata:{},name:"CometC2CTransactionSurveyImpressionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMessengerParticipantNicknameMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerNicknameUpdateResponsePayload",kind:"LinkedField",name:"messenger_nickname_update",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerParticipantNicknameMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerParticipantNicknameMutation",selections:b},params:{id:"2851503861529803",metadata:{},name:"useMessengerParticipantNicknameMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWChatMessageReactionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessageReactionResponsePayload",kind:"LinkedField",name:"message_reaction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMWChatMessageReactionMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMWChatMessageReactionMutation",selections:b},params:{id:"2601556119890180",metadata:{},name:"useMWChatMessageReactionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMessengerGlobalRemoveMessageMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerMessageGlobalRemoveResponsePayload",kind:"LinkedField",name:"messenger_message_global_remove",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerGlobalRemoveMessageMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerGlobalRemoveMessageMutation",selections:b},params:{id:"2664779376886490",metadata:{},name:"useMessengerGlobalRemoveMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ProductItemChangeAvailabilityMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{kind:"Literal",name:"if_style",value:"group_sell_product_item"}],e={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_sold",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"status_text",storageKey:null},i={alias:null,args:[{kind:"Literal",name:"create_consumer_ads_page",value:!0}],concreteType:"MarketplacePromotedListingInfo",kind:"LinkedField",name:"promoted_listing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"button_text",storageKey:null}],storageKey:"promoted_listing(create_consumer_ads_page:true)"},j={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_mark_as_available_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_mark_as_pending_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_mark_as_sold_enabled",storageKey:null}],type:"MarketplaceListingWithDeliveryOptions",abstractKey:"__isMarketplaceListingWithDeliveryOptions"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ProductItemChangeAvailabilityMutation",selections:[{alias:null,args:b,concreteType:"ProductItemChangeAvailabilityResponsePayload",kind:"LinkedField",name:"product_item_change_availability",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[c,{alias:null,args:d,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[e,f,g,h,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[i],storageKey:null},j],type:"GroupCommerceProductItem",abstractKey:null}],storageKey:null}],storageKey:'attachments(if_style:"group_sell_product_item")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ProductItemChangeAvailabilityMutation",selections:[{alias:null,args:b,concreteType:"ProductItemChangeAvailabilityResponsePayload",kind:"LinkedField",name:"product_item_change_availability",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[c,{alias:null,args:d,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{kind:"InlineFragment",selections:[e,f,g,h,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[i,c],storageKey:null},j],type:"GroupCommerceProductItem",abstractKey:null}],storageKey:null}],storageKey:'attachments(if_style:"group_sell_product_item")'}],storageKey:null}],storageKey:null}]},params:{id:"3451888774866572",metadata:{},name:"ProductItemChangeAvailabilityMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWMSAddParticipantsToGroup",["CometRelay","MWChatCanonicalGroupSearchQuery","MWMSCreateThread","React","useMWChatOpenTabForGroup"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;var g=b("React");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("MWMSCreateThread").useHook("add_participants"),d=b("useMWChatOpenTabForGroup")("add_participants"),e=d[0];return g.useCallback(function(d){var f=Array.from(d);b("MWChatCanonicalGroupSearchQuery").fetchCanonicalGroupThreadId(a,f,{error:function(a){throw a},next:function(a){if(a!=null){e(a);return}c(f).then(e)["catch"](function(a){throw a})}})},[c,e,a])}}),null);
__d("MWMSAddParticipantsToGroup.bs",["MWMSAddParticipantsToGroup"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MWMSAddParticipantsToGroup").useHook()}f.useHook=a}),null);
__d("MWMSLeaveGroup",["CometRelay","React","MWMSLeaveGroupMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;var g,h=b("React");function a(){var a=b("CometRelay").useMutation(g!==void 0?g:g=b("MWMSLeaveGroupMutation.graphql")),c=a[0];a[1];return h.useCallback(function(a,b){c({onCompleted:function(){},variables:{input:{can_be_added_back:b,thread_fbid:a}}})},[c])}}),null);
__d("MWMSLeaveGroup.bs",["MWMSLeaveGroup"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MWMSLeaveGroup").useHook()}f.useHook=a}),null);
__d("MWUIThreadFolder.bs",["requireCond","cr:1549236"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549236").useHook;f.$MWLSThreadFolder$OR$MWMSThreadFolder$requireCond=b("cr:1549236");f.useHook=a}),null);
__d("MWMSThreadIsMessageRequest.bs",["bs_curry","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWUIThreadFolder.bs","MWThread_DEPRECATED.bs","MWChatIsMessageRequest.bs","ThreadConnectivityStatusGraphQLType.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=c.threads;var d=b("bs_curry")._1(b("MWUIThreadFolder.bs").useHook,void 0),e=b("MWChatThreadId.bs").getMercuryID(a);c=b("bs_belt_Map").get(c,e);e=b("MWChatIsMessageRequest.bs").fn(d);d=b("bs_belt_Option").mapWithDefault(c,void 0,function(a){return b("bs_caml_option").nullable_to_opt(a.thread_connectivity_data)});if(typeof a==="string")c=void 0;else{var f=a.NAME;c=f==="User"||f==="Page"?b("bs_caml_option").some(a.VAL):void 0}f=d!==void 0&&c!==void 0?d.connectivity_status===b("ThreadConnectivityStatusGraphQLType.bs").unconnected&&d.first_sender_id===b("bs_caml_option").valFromOption(c):!1;d=a.NAME;if(d==="Group")return e;else if(d==="Page")return!1;else return f}f.useHook=a}),null);
__d("MWChatBusinessPageSettingQuery",["CometRelay","CometRelayEnvironment","promiseDone","MWChatBusinessPageSettingQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=function(a,c,d){a=b("CometRelay").fetchQuery(b("CometRelayEnvironment"),i,{pageID:a}).toPromise().then(function(a){a=(a=a==null?void 0:(a=a.page)==null?void 0:a.commerce_page_settings)!=null?a:[];d(a.indexOf(c)!==-1);return});b("promiseDone")(a)},i=g!==void 0?g:g=b("MWChatBusinessPageSettingQuery.graphql");a=function(a,b,c){h(a,b,function(a){return c(a)})};f.fetch=a}),null);
__d("MWChatBusinessPageSettingHook.bs",["bs_curry","React","MWChatBusinessPageSettingQuery"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=g.useState(function(){return!1}),e=d[1];g.useEffect(function(){var d=0;typeof a==="string"||a.NAME!=="Page"?d=1:b("MWChatBusinessPageSettingQuery").fetch(a.VAL,c,function(a){return b("bs_curry")._1(e,function(b){return a})});d===1&&b("bs_curry")._1(e,function(a){return!1})},[a,c,e]);return d[0]}f.useMessengerBusinessPageSetting=a}),null);
__d("MWChatBusinessNullStateCTAWrapper_DEPRECATED.bs",["React","JSResource","BootloaderResource"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("JSResource")("MWChatBusinessNullStateCTA.bs").__setRef("MWChatBusinessNullStateCTAWrapper_DEPRECATED.bs");function i(a,b,c,d){return{nullStateCTA:a,onSend:b,pageName:c}}function j(a){return g.createElement(b("BootloaderResource").read(h).make,a)}c={reasonResource:h,makeProps:i,make:j};function a(a){var b=a.nullStateCTA,c=a.onSend;a=a.pageName;return g.jsx(g.Suspense,{children:g.jsx(j,i(b,c,a,void 0)),fallback:null})}d=a;f.LazyMWChatBusinessNullStateCTA=c;f.make=d}),null);
__d("MWUIWorkStatus.bs",["requireCond","cr:1754941"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1754941").useIsTargetDeactivated;f.$MWLSWorkStatus$OR$MWMSWorkStatus$requireCond=b("cr:1754941");f.useIsTargetDeactivated=a}),null);
__d("MWChatTabContainer_DEPRECATED.bs",["fbt","ODS","bs_curry","React","gkx","bs_js_dict","MWTheme.bs","qex","bs_caml_obj","MWUITheme.bs","bs_caml_array","JSResource","MercuryIDs","stylex","bs_belt_Option","bs_caml_format","bs_caml_option","CurrentUser","requireCond","UserActivity","MWChatBlurTab.bs","MWChatOpenTab.bs","MWChatCloseTab.bs","MWChatFocusTab.bs","MWUILeaveGroup.bs","MWUIThreadName.bs","MWUIWorkStatus.bs","CometLink.react","MWUIBlockStatus.bs","MWUIDeleteThread.bs","bs_js_null_undefined","MWChatCollapseTab.bs","MessengerWebEvent","BootloaderResource","MWUIChatThreadHook.bs","MWUIInThreadBanner.bs","MWUIStartPhoneCall.bs","MWChatHasTabContent.bs","MWThread_DEPRECATED.bs","MWUILoadThreadTitle.bs","MWUISendTextMessage.bs","MWUIThreadHasThread.bs","MWUILoadParticipants.bs","MWUIMarkThreadAsRead.bs","MWUIRTCDisplayStatus.bs","MWUIRepliedToMessage.bs","MWUIWebUrlCtaHandler.bs","recoverableViolation","MWUIChatContextBanner.bs","MWUIFetchMessagesPage.bs","MWUILoadThreadPicture.bs","MWUISendCometPostback.bs","MWUIThreadProfileLink.bs","ZenonUserActionLogger","MWUIGetServerMessageID.bs","MWUILoadThreadMessages.bs","MWUIThreadHasLeftGroup.bs","MessengerWebEntryPoint","unrecoverableViolation","MWUIContactCapabilities.bs","MWChatTabContainerShared.bs","MWUIThreadReportingToken.bs","MWUIThreadHasMoreMessages.bs","MWChatPollXMAActionHandler.bs","MWUIAddParticipantsToGroup.bs","MWUIPresenceIsThreadActive.bs","MWUIThreadIsMessageRequest.bs","MWUIThreadMuteExpireTimeMs.bs","RTWebLoggingSurfaceConvert.bs","useCometConfirmationDialog","MWChatBlockMessagesMutation","MWChatConfirmTabCloseDialog.bs","MWChatTabGroupWarningPolicy.bs","CometLazyDialogTrigger.react","MWChatComposerViewStateStore.bs","MWUIThreadUnreadMessageCount.bs","RTWebLoggingComponentConvert.bs","MWChatBusinessPageSettingHook.bs","MWChatBusinessWelcomePageHook.bs","MWUIUpdateParticipantNickname.bs","MessengerWebStgTypedLoggerLite.bs","MWChatLoadMoreItemsIncrementally.bs","MWChatXmaThirdPartyActionHandler.bs","CometTransientDialogProvider.react","CometProgressRingIndeterminate.react","MWChatCalculateIsMutedFromExpireTime.bs","MWChatComposerMessageRequestInfoText.bs","MWUILoadIsDisabledComposerThreadLevel.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","cr:1378085","cr:1780085"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("JSResource")("MWChatBusinessIcebreaker.bs").__setRef("MWChatTabContainer_DEPRECATED.bs");function k(a,c,d,e,f,g,h,i){i={icebreakers:a,icebreakerCTAs:c,onSend:d,onSendIcebreakerCTA:e,pageID:f,threadTitle:g};h!==void 0&&(i.showWarning=b("bs_caml_option").valFromOption(h));return i}function aa(a){return i.createElement(b("BootloaderResource").read(j).make,a)}function a(a){var c=a.isTabFocused,d=a.hasContent,e=a.isMultitab,f=a.useSidebarChatStyles,j=a.searchResultMessages;a=a.isMainRegion;e=e!==void 0?e:!1;j=j!==void 0?b("bs_caml_option").valFromOption(j):null;a=a!==void 0?a:!1;var ba=i.useRef(!1),l=b("bs_curry")._1(b("MWUIMarkThreadAsRead.bs").useHook,void 0),m=b("bs_curry")._1(b("MWUIThreadReportingToken.bs").useHook,void 0),n=b("bs_curry")._1(b("MWUIThreadHasThread.bs").useHook,void 0),ca=b("bs_curry")._1(b("MWUIThreadHasLeftGroup.bs").useHook,void 0),o=b("bs_curry")._1(b("MWUIThreadUnreadMessageCount.bs").useHook,void 0),p=b("bs_curry")._1(b("MWUIThreadMuteExpireTimeMs.bs").useHook,void 0);p=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(p);var q=b("bs_curry")._1(b("MWUIThreadName.bs").useHook,void 0),da=b("bs_curry")._1(b("MWUIStartPhoneCall.bs").useMakeRTCCall,void 0),ea=da[0],fa=b("bs_curry")._1(b("MWUIAddParticipantsToGroup.bs").useHook,void 0),r=i.useState(function(){return!1}),ga=r[1];i.useEffect(function(){c&&o>0&&b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&b("bs_curry")._1(l,void 0)},[c,o,l]);var s=b("MWThread_DEPRECATED.bs").useIdExn(void 0),t;if(typeof s==="string")t=void 0;else{var u=s.NAME;t=u==="User"||u==="Page"?b("bs_caml_option").some(s.VAL):void 0}u=b("MWChatComposerViewStateStore.bs").getScrollPos(s);var v=u!==void 0?u:0,w=i.useRef(v),x=i.useRef(null);i.useEffect(function(){if(b("gkx")("1329969")){b("MWChatComposerViewStateStore.bs").setScrollPos(s,v);return function(c){c=w.current;var a=b("MWChatComposerViewStateStore.bs").getScrollPos(s);if(a!==void 0)return b("MWChatComposerViewStateStore.bs").setScrollPos(s,c)}}},[]);b("MWChatComposerViewStateStore.bs").useClearComposerViewStateOnMount(s);u=b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(a,v,b("bs_curry")._2(b("MWUILoadThreadMessages.bs").useMessageItems,void 0,0),b("bs_curry")._1(b("MWUIFetchMessagesPage.bs").useFetchMessagesPage,void 0),b("bs_curry")._1(b("MWUIThreadHasMoreMessages.bs").useThreadHasMoreMessages,void 0));var y=u[2],ha=u[1];u=[{NAME:"Messages",VAL:u[0]}];b("bs_curry")._1(b("MWUIChatThreadHook.bs").useThread,s);var z=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,s),ia=z[1];z=z[0];var A=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,void 0),B=b("bs_curry")._1(b("MWUIRepliedToMessage.bs").useCurrentlyRepliedToMessage,void 0),ja=B[2],ka=B[1];B=B[0];var la=b("bs_curry")._1(b("MWUITheme.bs").useTheme,void 0),ma=function(a,c){c=a!==void 0?a:!1;a=w.current;if(typeof a==="number")if(c)return b("bs_curry")._1(ha,void 0);else return;else if(a.TAG)return;else return b("bs_curry")._1(ha,void 0)},C=b("bs_curry")._1(b("MWUIBlockStatus.bs").useIsThreadBlocked,void 0),D=b("CurrentUser").isWorkUser()?b("bs_curry")._1(b("MWUIWorkStatus.bs").useIsTargetDeactivated,void 0):!1,na=typeof s==="string"||s.NAME!=="Group"?!1:b("bs_js_dict").entries(z).some(function(a){return b("bs_caml_obj").caml_equal(a[1].id,b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID()))}),E=b("bs_curry")._1(b("MWUILoadThreadPicture.bs").useHook,void 0),F=b("bs_curry")._1(b("MWUILoadThreadTitle.bs").useHook,void 0),oa=F[1],G=F[0],H=b("bs_curry")._1(b("MWUIThreadIsMessageRequest.bs").useHook,void 0);F=b("bs_curry")._1(b("MWUIThreadProfileLink.bs").useHook,void 0);var I=s.NAME;if(I==="Group")if(r[0])r=0;else if(G!==void 0&&E.length>0){var J=b("bs_belt_Option").getWithDefault(q,"");J={title:G,rawTitle:J,profileImages:E};r=H?{TAG:4,_0:J}:{TAG:3,_0:J}}else r=1;else if(I==="Page")r=q!==void 0&&G!==void 0&&E.length>0?{TAG:2,_0:{title:G,rawTitle:q,actorID:s.VAL,href:F,profileImage:b("bs_caml_array").get(E,0)}}:1;else if(G!==void 0&&E.length>0){J=b("bs_belt_Option").getWithDefault(q,"");I=s.VAL;q=b("bs_caml_array").get(E,0);J={title:G,rawTitle:J,actorID:I,href:F,profileImage:q};r=H?{TAG:1,_0:J}:{TAG:0,_0:J}}else r=1;if(n){if(u.length!==1)I=!1;else{F=u[0];I=F.VAL.length!==0?!1:!y}if(typeof s==="string")q=[!0,!y,I];else{J=s.NAME;q=J==="Page"||J==="Group"?[!0,!y,I]:[!0,!y,I]}}else q=[!1,!1,!0];n=q[2];F=b("bs_curry")._1(b("MWUIRTCDisplayStatus.bs").useHook,void 0);J=b("bs_curry")._4(b("MWUIChatContextBanner.bs").useContextBanner,s,E,q[1],G);var K=b("MWChatBusinessWelcomePageHook.bs").useMessengerBusinessWelcomePage(s,n);y=b("MWChatBusinessPageSettingHook.bs").useMessengerBusinessPageSetting(s,"STRUCTURED_MENU_ENABLED");var pa=b("bs_curry")._1(b("MWUILoadIsDisabledComposerThreadLevel.bs").useHook,s),qa=b("MWChatBusinessPageSettingHook.bs").useMessengerBusinessPageSetting(s,"COMPOSER_INPUT_DISABLED"),ra=b("gkx")("1277703");I=function(c){if(typeof s!=="string"){var a=s.NAME;if(a==="Group"){if(ca)return 2}else if(a==="Page"){var e=pa!==void 0?pa:qa,d;if(ra){if(c)return{TAG:1,otherUserFbid:s.VAL,reportingToken:m};d=2}else d=2;if(d===2){if(K===void 0)if(e)return 1;else return 0;d=b("bs_caml_option").valFromOption(K).null_state_cta;if(d!==void 0)return{TAG:2,nullStateCTA:b("bs_caml_option").valFromOption(d),pageName:G};else if(e===!0)return 1;else return 0}}else if(a==="User"&&c)return{TAG:0,otherUserFbid:s.VAL,reportingToken:m}}if(H&&b("gkx")("1217157"))return 3;else if(typeof s==="string"||!(s.NAME==="User"&&b("gkx")("1775407")))return 0;else return 5};E=C!==void 0?D!==void 0&&D?4:I(C):D!==void 0&&D?4:6;I=b("MWChatHasTabContent.bs").useHook(void 0);var L=b("MWChatCloseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),M=b("MWChatCollapseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),sa=b("MWChatOpenTab.bs").useHook_DEPRECATED(b("MessengerWebEntryPoint").UNKNOWN),ta=b("MWChatFocusTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),ua=b("MWChatBlurTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN);D=b("useCometConfirmationDialog")();var va=D[0],wa=b("bs_curry")._1(b("MWUILeaveGroup.bs").useHook,void 0),xa=function(a){typeof s==="string"||s.NAME!=="Group"?b("recoverableViolation")("Trying to leave non-group thread","messenger_comet"):b("bs_curry")._2(wa,s.VAL,a);return b("bs_curry")._1(L,s)};b("MWChatTabGroupWarningPolicy.bs").useGroupEntranceWarningEffect(s,xa,function(a){return b("bs_curry")._1(L,s)},function(a){return b("bs_curry")._1(sa,s)});var N=function(a){a=x.current;if(!(a==null))return a.scrollToBottom()},ya=b("bs_curry")._1(b("MWUIUpdateParticipantNickname.bs").useHook,void 0),za=b("MWChatXmaThirdPartyActionHandler.bs").useHandler(void 0),Aa=b("MWChatPollXMAActionHandler.bs").useHandler(void 0),Ba=b("bs_curry")._2(b("MWUISendTextMessage.bs").useSendTextMessage,void 0,void 0),Ca=b("bs_curry")._1(b("MWUIDeleteThread.bs").useDeleteThread,void 0),Da=b("bs_curry")._1(b("MWUIWebUrlCtaHandler.bs").useShowWebViewDialog,void 0),Ea=b("bs_curry")._1(b("MWUISendCometPostback.bs").useSendCometPostback,void 0),Fa=b("bs_curry")._1(I,s),O=s.VAL,Ga=function(a){if(o>0&&w.current===0)return b("bs_curry")._1(l,void 0)};D=function(a){b("bs_curry")._1(l,void 0);return N(void 0)};I=i.useCallback(function(a){if(Fa)return b("bs_curry")._3(va,b("MWChatConfirmTabCloseDialog.bs").content,function(a){return b("bs_curry")._1(L,s)},function(a){});else return b("bs_curry")._1(L,s)},[s,Fa,va,L]);var Ha=i.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","minimize");a=typeof s==="string"||s.NAME!=="Group"?null:s.VAL;b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").MINIMIZE_CHAT_TAB,other_user_fbid:b("bs_js_null_undefined").fromOption(t),thread_fbid:a});return b("bs_curry")._1(M,s)},[s,M]),Ia=i.useCallback(function(a){return b("bs_curry")._1(M,s)},[M,s]),P=function(d){if(typeof d==="string"){if(d==="ScrollToBottom")return Ga(void 0);if(d==="OpenTabFromPreview")return;if(d==="ClickAudio"){if(typeof s==="string")return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet");var c=s.NAME;if(c==="User"||c==="Page"||c==="Group"){b("ZenonUserActionLogger").logClick({component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,0),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,3)});return b("bs_curry")._3(ea,!1,s.VAL,"comet_chattab_audio_button")}else return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet")}if(d==="ContentDoesNotFillContainer")return ma(!0,void 0);if(d==="ToggleAddParticipants")return b("bs_curry")._1(ga,function(a){return!a});if(d!=="ClickVideo")if(d==="MarkTabBlur")return b("bs_curry")._1(ua,s);else if(d==="MarkTabFocused"){Ga(void 0);return b("bs_curry")._1(ta,s)}else if(d==="DeleteConversation"){b("ODS").bumpEntityKey(3185,"mwchat_settings","delete_conv");b("bs_curry")._1(Ca,s);return b("bs_curry")._1(L,s)}else return ma(void 0,void 0);if(typeof s==="string")return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet");c=s.NAME;if(c==="User"||c==="Page"||c==="Group"){b("ZenonUserActionLogger").logClick({component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,1),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,3)});return b("bs_curry")._3(ea,!0,s.VAL,"comet_chattab_video_button")}else return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet")}c=d.NAME;if(c==="ShowWebViewDialog")return b("bs_curry")._1(Da,d.VAL);if(c==="ClickReplyTo"){b("ODS").bumpEntityKey(3185,"mwchat_send","reply");return b("bs_curry")._1(ka,d.VAL)}if(c==="ShowPollDetails"){var a=d.VAL;return b("bs_curry")._2(Aa,a[0],a[1])}if(c==="AddParticipants"){b("bs_curry")._1(ga,function(a){return!a});return b("bs_curry")._1(fa,d.VAL)}if(c==="ScrollToElement"){a=d.VAL;var e=a[0];a=a[1];var f=x.current;if(!(f==null))return f.scrollToElement(e,a);else return}if(c==="UpdateBlock"){f=d.VAL;e=f[1];if(s.NAME==="Group")return b("unrecoverableViolation")("Can't block a group or local thread","messenger_comet");a=s.VAL;f[0]?b("MWChatBlockMessagesMutation").commitBlock(a,e,function(a){}):b("MWChatBlockMessagesMutation").commitUnblock(a,e,function(a){});return}if(c==="SetParticipantNickname"){f=d.VAL;a=f[1];var g=f[0];b("ODS").bumpEntityKey(3185,"mwchat_settings","change_nickname");if(typeof s==="string")return;e=s.NAME;if(!(e==="User"||e==="Group"))return;var h=b("bs_curry")._2(oa,g,a);f=function(a){};e=function(a){b("bs_curry")._2(oa,g,h)};return b("bs_curry")._5(ya,s.VAL,g,a,f,e)}if(c!=="SendCometPostback")if(c==="LeaveGroup"){b("ODS").bumpEntityKey(3185,"mwchat_settings","leave_group");return xa(d.VAL)}else return b("bs_curry")._1(za,d);a=d.VAL;b("ODS").bumpEntityKey(3185,"mwchat_send","postback");return b("bs_curry")._2(Ea,a[0],a[1])},Ja=i.jsx(b("MWUIInThreadBanner.bs").make,{}),Q;if(typeof s==="string"||s.NAME!=="Page")Q=[null,null];else{var R=s.VAL,S;if(K!==void 0){var T=b("bs_caml_option").valFromOption(K),U=T.icebreakers,V=T.icebreaker_ctas,W=0,X=0;U.length!==0||V.length!==0?X=2:S=null;X===2&&(V.length!==0||!n?W=1:S=i.jsx(i.Suspense,{children:i.jsx(aa,k(U,[],function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","text");b("bs_curry")._4(Ba,s,a,void 0,void 0);b("bs_curry")._1(l,void 0);return N(void 0)},function(a){},R,G,void 0,void 0)),fallback:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}));W===1&&(S=n?i.jsx(i.Suspense,{children:i.jsx(aa,k(T.icebreakers,V,function(a){},function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","postback");b("bs_curry")._2(Ea,a.title,{cta_id:a.id,prev_message_id:void 0,force_handle:!0,ref:void 0,postback_cta_ref_source:void 0});b("bs_curry")._1(l,void 0);return N(void 0)},R,G,void 0,void 0)),fallback:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}):null)}else S=null;Q=[i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBusinessManageMessagesDialogForJSResource.react").__setRef("MWChatTabContainer_DEPRECATED.bs"),dialogProps:{id:R,onClose:function(a){},dispatch:P},children:function(a,c){return i.jsx(b("CometLink.react"),{role:"button",style:{display:"block",fontWeight:"bold",paddingLeft:"4px"},children:g._("Qu\u1ea3n l\u00fd tin nh\u1eafn"),ref:c,onClick:function(c){return b("bs_curry")._1(a,void 0)}})}}),S]}X=Q[1];U=Q[0];W=b("bs_curry")._1(b("MWUIContactCapabilities.bs").useCapabilities,b("bs_caml_format").caml_int64_of_string(O));T=b("bs_curry")._1(b("MWUIContactCapabilities.bs").isVerified,W)?"BLUE_VERIFIED":void 0;V=typeof r==="number"||r.TAG!==2?void 0:r._0.href;R=function(a,c){var d=b("bs_curry")._1(b("MWUIGetServerMessageID.bs").getServerMessageID,a.message_id);if(c)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:a.photo_ids,fbid:a.fbid,message_id:d});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:O,attachment_id:a.fbid,message_id:d})};Q=i.useState(function(){});var Y=Q[1];W=Q[0];Q=i.useCallback(function(a){return b("bs_curry")._1(Y,function(a){})},[Y]);var Ka=i.useCallback(function(a){return b("bs_curry")._1(Y,function(b){return a})},[Y]),Z=b("qex")._("1586110");Z=Z==null?{}:{fontSize:String(Z)+"px"};var $;if(b("cr:1378085")==null)if(b("cr:1780085")==null)$=null;else{r={id:s,items:u,header:r,otherUserFbid:t,rtcButtonDisplayState:F,showSettings:q[0],isActiveNow:A,contextBannerData:J,welcomePageData:K,unreadCount:o,isBlocked:C,isMuted:p,isViewerInGroup:na,isTabFocused:c,isScrolledToBottomRef:w,scrollerRef:x,sheet:Ja,icebreakerUI:X,managePageMessagesLink:U,shouldShowMenu:y,composerType:E,dispatch:P,closeTab:I,minimizeTab:Ha,clickHeader:Ia,endFirstChatTabOpenLoggerRef:ba,hasContent:d,participants:z,nicknames:ia,pageVerificationBadge:T,reportingToken:m,repliedToMessage:B,isEmptyThread:n,openPageURL:V,buildSharedMediaViewerURL:R,messageRequestInfoText:i.jsx(b("MWChatComposerMessageRequestInfoText.bs").make,{closeTab:L}),closeReplyPreview:ja,onSendMessage:D};F=b("MWChatComposerViewStateStore.bs").get(s);F!==void 0&&(r.initialComposerViewState=b("bs_caml_option").valFromOption(F));q=da[1];q!==void 0&&(r.ongoingCallType=b("bs_caml_option").valFromOption(q));$=i.jsx(b("cr:1780085").make,r)}else{A={items:u,id:s,searchResultMessages:j,otherUserFbid:t,welcomePageData:K,unreadCount:o,isTabFocused:c,isScrolledToBottomRef:w,scrollerRef:x,sheet:Ja,icebreakerUI:X,managePageMessagesLink:U,shouldShowMenu:y,composerType:E,dispatch:P,closeTab:I,endFirstChatTabOpenLoggerRef:ba,hasContent:d,participants:z,nicknames:ia,repliedToMessage:B,buildSharedMediaViewerURL:R,closeReplyPreview:ja,onSendMessage:D};J=b("MWChatComposerViewStateStore.bs").get(s);J!==void 0&&(A.initialComposerViewState=b("bs_caml_option").valFromOption(J));$=i.jsx(b("cr:1378085").make,A)}C={children:$,key:O,"aria-label":b("bs_belt_Option").mapWithDefault(G,g._("\u0110ang t\u1ea3i cu\u1ed9c tr\u00f2 chuy\u1ec7n"),function(a){return g._("Chat v\u1edbi {thread_title}",[g._param("thread_title",a)])}),className:(h||(h=b("stylex")))(b("CurrentUser").isWorkUser()?b("MWChatTabContainerShared.bs").styles.workChatTab:b("MWChatTabContainerShared.bs").styles.chatTab,f?b("MWChatTabContainerShared.bs").styles.sidebarChatOverrides:!1,e?b("MWChatTabContainerShared.bs").styles.chatTabNoBottomRadius:!1,b("qex")._("1586109")?b("MWChatTabContainerShared.bs").styles.chatTabThin:!1),role:a?"main":"region",style:Z};return i.jsx(b("MWTheme.bs").provider,{theme:W!==void 0?W:la,setTheme:Ka,clearTheme:Q,children:i.jsx(b("CometTransientDialogProvider.react"),{children:i.jsx("div",(C["data-testid"]="mwchat-tab",C))})})}c=a;f.make=c}),null);
__d("MWChatBusinessPersistentMenuFullButton.bs",["ix","fbt","bs_curry","React","asset","IconSource","JSResource","stylex","bs_caml_option","MWUISendMenuItem.bs","TetraButton.react","MWThread_DEPRECATED.bs","CometLazyPopoverTrigger.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=b("bs_curry")._1(b("MWUISendMenuItem.bs").useSendMenuItem,void 0),d=b("MWThread_DEPRECATED.bs").useIdExn(void 0);if(typeof d==="string")a=void 0;else{var e=d.NAME;a=e==="User"||e==="Page"?b("bs_caml_option").some(d.VAL):void 0}var f=new(b("IconSource"))("FB",g("682268"),20);return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWChatBusinessPersistentMenuContainer.react").__setRef("MWChatBusinessPersistentMenuFullButton.bs"),popoverProps:{pageId:a,onSelect:function(a){return b("bs_curry")._3(c,d,a.title,a.id)}},align:"middle",children:function(a,c,d,e,g,j,k){return i.jsx("div",{children:i.jsx(b("TetraButton.react"),{icon:f,label:h._("Menu"),onPress:function(a){return b("bs_curry")._1(c,void 0)},reduceEmphasis:!0}),ref:a,className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya pcgkmkmd qzhwtbm6 j83agx80"})}},"tester")}c=a;f.make=c}),null);
__d("MWChatDisabledPageComposer.bs",["React","MWChatBusinessPersistentMenuFullButton.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("MWChatBusinessPersistentMenuFullButton.bs").make,{})}c=a;f.make=c}),null);
__d("MWChatTabContent_DEPRECATED.bs",["bs_curry","React","MWTheme.bs","JSResource","bs_caml_option","MWChatComposer.bs","MWUIThreadEmoji.bs","MessengerWebEvent","BootloaderResource","MWChatEmptyComposer.bs","MWChatSolidReaction.bs","MWChatTabContentStyles.bs","MWChatLeftGroupComposer.bs","MWChatThread_DEPRECATED.bs","MWChatDisabledPageComposer.bs","MWChatThreadAnimationWrapper.bs","MessengerWebStgTypedLoggerLite.bs","MWChatComposerP2PPopoverTrigger.bs","MWChatBusinessNullStateCTAWrapper_DEPRECATED.bs","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=(g=b("JSResource"))("MWChatBlockedComposer.bs").__setRef("MWChatTabContent_DEPRECATED.bs");function j(a,c,d,e){e={fbid:a,reportingToken:c};d!==void 0&&(e.size=b("bs_caml_option").valFromOption(d));return e}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}var l={reasonResource:i,makeProps:j,make:k},m=g("MWChatBlockedPageComposer.bs").__setRef("MWChatTabContent_DEPRECATED.bs");function a(a,b,c){return{fbid:a,reportingToken:b}}function n(a){return h.createElement(b("BootloaderResource").read(m).make,a)}a={reasonResource:m,makeProps:a,make:n};var o=g("MWChatWorkMessageRequestComposer.bs").__setRef("MWChatTabContent_DEPRECATED.bs");function c(a,b){return{closeTab:a}}function p(a){return h.createElement(b("BootloaderResource").read(o).make,a)}c={reasonResource:o,makeProps:c,make:p};var q=g("MWChatWorkDeactivatedComposer.bs").__setRef("MWChatTabContent_DEPRECATED.bs");function d(a){return{}}function r(a){return h.createElement(b("BootloaderResource").read(q).make,a)}d={reasonResource:q,makeProps:d,make:r};var s=g("InternalOnlyWorkChatComposerExtras.bs").__setRef("MWChatTabContent_DEPRECATED.bs");function e(a){return{}}function t(a){return h.createElement(b("BootloaderResource").read(s).make,a)}g={reasonResource:s,makeProps:e,make:t};function u(a){var c=a.id,d=a.items,e=a.otherUserFbid,f=a.contextBannerData,g=a.welcomePageData,i=a.isTabFocused,l=a.isScrolledToBottomRef,m=a.initialComposerViewState,o=a.scrollerRef,q=a.shouldShowMenu,s=a.composerType,u=a.dispatch,v=a.closeTab,w=a.endFirstChatTabOpenLoggerRef,x=a.icebreakerUI,y=a.managePageMessagesLink,z=a.hasContent,A=a.repliedToMessage,B=a.buildSharedMediaViewerURL,C=a.messageRequestInfoText,D=a.sendTypingIndicator,E=a.closeReplyPreview,F=a.onSendMessage,G=x!==void 0?b("bs_caml_option").valFromOption(x):null,H=b("MWTheme.bs").useTheme(void 0);a=b("MWChatSolidReaction.bs").useUook(void 0);var I=a[1],J;if(typeof s==="number")J=s===0?!0:!1;else switch(s.TAG|0){case 0:case 1:J=!1;break;default:J=!1}h.useEffect(function(){if(!w.current){w.current=!0;var a;if(typeof c==="string")a=null;else{var d=c.NAME;a=d==="User"||d==="Page"?c.VAL:null}b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").RENDER_FIRST_THREAD_CONTENT,other_user_fbid:a,thread_fbid:typeof c==="string"||c.NAME!=="Group"?null:c.VAL})}},[w,c]);var K=function(a){if(l.current!==0)return;a=o.current;if(!(a==null))return a.scrollToBottom()},L=function(a){return K(void 0)},M=function(a){return K(void 0)};return h.jsx(b("MWChatThreadAnimationWrapper.bs").make,{composer:function(a,d,f,g){var l=b("bs_curry")._1(b("MWUIThreadEmoji.bs").useEmoji,void 0);l={color:b("MWTheme.bs").bottom(H),otherUserFbid:e,customLikeEmoji:l,isTabFocused:i,shouldShowMenu:q,hasContent:z,repliedToMessage:A,actionTrayOpen:g,closeActionTray:d,onContentsChange:L,onFileUploadStart:M,openActionTray:a,fileUploadHandlerRef:f,closeReplyPreview:E,openTabFromPreview:function(a){return u("OpenTabFromPreview")},closeTab:v,onSendMessage:F};m!==void 0&&(l.initialComposerViewState=b("bs_caml_option").valFromOption(m));C!==void 0&&(l.messageRequestInfoText=b("bs_caml_option").valFromOption(C));D!==void 0&&(l.onTypingStateChanged=b("bs_caml_option").valFromOption(D));g=h.jsx(b("MWChatComposer.bs").make,l);if(typeof s==="number")switch(s){case 0:return g;case 1:return h.jsx(b("MWChatDisabledPageComposer.bs").make,{});case 2:return h.jsx(b("MWChatLeftGroupComposer.bs").make,{});case 3:return h.jsx(h.Suspense,{children:h.jsx(p,{closeTab:v}),fallback:null});case 4:return h.jsx(h.Suspense,{children:h.jsx(r,{}),fallback:null});case 5:return h.jsxs(h.Fragment,{children:[h.jsx(h.Suspense,{children:h.jsx(t,{}),fallback:null}),g]});case 6:return h.jsx(b("MWChatEmptyComposer.bs").make,{})}else switch(s.TAG|0){case 0:return h.jsx(h.Suspense,{children:h.jsx(k,j(s.otherUserFbid,s.reportingToken,void 0,void 0)),fallback:null});case 1:return h.jsx(h.Suspense,{children:h.jsx(n,{fbid:s.otherUserFbid,reportingToken:s.reportingToken}),fallback:null});case 2:var o=s.nullStateCTA;return h.jsx(b("MWChatBusinessNullStateCTAWrapper_DEPRECATED.bs").make,{nullStateCTA:o,onSend:function(a){u({NAME:"SendCometPostback",VAL:[o.action_title,{cta_id:o.id,prev_message_id:void 0,force_handle:!0,ref:void 0,postback_cta_ref_source:void 0}]});if(typeof c==="string")return;if(c.NAME!=="Page")return;var d=c.VAL;b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:d}}})},pageName:s.pageName})}},threadView:function(a){return h.jsx(b("MWChatThread_DEPRECATED.bs").make,{id:c,items:d,isScrolledToBottomRef:l,setCovidSheet:I,dispatch:u,icebreakerUI:G,contextBannerData:f,welcomePageData:g,managePageMessagesLink:y,spacerRef:a,scrollerRef:o,buildSharedMediaViewerURL:B})},animationEnabled:J,ensureScrolledToBottom:K,covidSheet:a[0],mediaDropDisabled:s!==0,id:c,contextBannerData:f,welcomePageData:g,shouldInitiallyOpenActionTray:b("MWChatComposerP2PPopoverTrigger.bs").shouldShowOnLoad(c)})}e=b("MWChatTabContentStyles.bs").styles;u=u;f.MWChatBlockedComposerLazy=l;f.MWChatBlockedPageComposerLazy=a;f.MWChatWorkMessageRequestComposerLazy=c;f.MWChatWorkDeactivatedComposerLazy=d;f.InternalOnlyWorkChatComposerExtrasLazy=g;f.styles=e;f.make=u}),null);
__d("MWChatTab_DEPRECATED.bs",["bs_curry","React","JSResource","stylex","bs_caml_option","MWChatPageHeader.bs","MWChatUserHeader.bs","MWChatGroupHeader.bs","BootloaderResource","MWChatLoadingHeader.bs","MWChatTabFocusHandler.bs","MWUISendTypingIndicator.bs","MWChatConnectionStatusCard.bs","MWChatFocusComposerContext.bs","MWChatTabContent_DEPRECATED.bs","MWChatUserMessageRequestHeader.bs","MWChatGroupMessageRequestHeader.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("JSResource")("MWChatAddParticipantsHeader.bs").__setRef("MWChatTab_DEPRECATED.bs");function j(a,c,d,e,f){f={dispatch:c,isTabFocused:d,participants:e};a!==void 0&&(f.backgroundColor=b("bs_caml_option").valFromOption(a));return f}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}c={reasonResource:i,makeProps:j,make:k};var l={root:{height:"datstx6m",display:"j83agx80",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",isolation:"fbhpx0h9"},header:{flexShrink:"pfnyh3mw",position:"l9j0dhe7",zIndex:"tkr6xdv7"}};function a(a){var c=a.id,d=a.items,e=a.header,f=a.otherUserFbid,i=a.rtcButtonDisplayState,m=a.showSettings,n=a.isActiveNow,o=a.contextBannerData,p=a.welcomePageData,q=a.unreadCount,r=a.isBlocked,s=a.isMuted,t=a.isViewerInGroup,u=a.isTabFocused,v=a.isScrolledToBottomRef,w=a.initialComposerViewState,x=a.scrollerRef,y=a.sheet,z=a.icebreakerUI,A=a.managePageMessagesLink,B=a.shouldShowMenu,C=a.composerType,D=a.dispatch,E=a.closeTab,F=a.minimizeTab,G=a.clickHeader,H=a.endFirstChatTabOpenLoggerRef,I=a.hasContent,J=a.participants,K=a.pageVerificationBadge,L=a.reportingToken,M=a.repliedToMessage,N=a.isEmptyThread,O=a.openPageURL,P=a.showConnectionStatus,Q=a.ongoingCallType,R=a.buildSharedMediaViewerURL,S=a.messageRequestInfoText,T=a.closeReplyPreview;a=a.onSendMessage;y=y!==void 0?b("bs_caml_option").valFromOption(y):null;z=z!==void 0?b("bs_caml_option").valFromOption(z):null;P=P!==void 0?P:!0;q=!u&&q>0;var U=b("bs_curry")._1(b("MWUISendTypingIndicator.bs").useHook,void 0),V;if(typeof e==="number")V=e===0?h.jsx(k,j(void 0,D,u,J,void 0)):h.jsx(b("MWChatLoadingHeader.bs").make,{closeTab:E,minimizeTab:F,clickHeader:G,isTabFocused:u});else switch(e.TAG|0){case 0:V=h.jsx(b("MWChatUserHeader.bs").make,{id:c,header:e._0,rtcButtonDisplayState:i,showSettings:m,isActiveNow:n,highlightHeader:q,isBlocked:r,isMuted:s,isTabFocused:u,dispatch:D,closeTab:E,minimizeTab:F,clickHeader:G,pageVerificationBadge:K,reportingToken:L,isEmptyThread:N});break;case 1:V=h.jsx(b("MWChatUserMessageRequestHeader.bs").make,{id:c,header:e._0,showSettings:m,isActiveNow:n,highlightHeader:q,isBlocked:r,isMuted:s,isTabFocused:u,dispatch:D,closeTab:E,minimizeTab:F,clickHeader:G,pageVerificationBadge:K,reportingToken:L,isEmptyThread:N});break;case 2:V=h.jsx(b("MWChatPageHeader.bs").make,{id:c,header:e._0,rtcButtonDisplayState:i,showSettings:m,isActiveNow:n,highlightHeader:q,isBlocked:r,isMuted:s,isTabFocused:u,dispatch:D,closeTab:E,minimizeTab:F,clickHeader:G,participants:J,pageVerificationBadge:K,reportingToken:L,isEmptyThread:N,openPageURL:O});break;case 3:V=h.jsx(b("MWChatGroupHeader.bs").make,{id:c,header:e._0,rtcButtonDisplayState:i,showSettings:m,isActiveNow:n,highlightHeader:q,isBlocked:r,isMuted:s,isViewerInGroup:t,isTabFocused:u,dispatch:D,closeTab:E,minimizeTab:F,clickHeader:G,reportingToken:L,isEmptyThread:N,ongoingCallType:Q});break;case 4:V=h.jsx(b("MWChatGroupMessageRequestHeader.bs").make,{id:c,header:e._0,showSettings:m,isActiveNow:n,highlightHeader:q,isBlocked:r,isMuted:s,isViewerInGroup:t,isTabFocused:u,dispatch:D,closeTab:E,minimizeTab:F,clickHeader:G,reportingToken:L,isEmptyThread:N});break}J={id:c,items:d,otherUserFbid:f,contextBannerData:o,welcomePageData:p,isTabFocused:u,isScrolledToBottomRef:v,scrollerRef:x,shouldShowMenu:B,composerType:C,dispatch:function(a){return D(a)},closeTab:E,endFirstChatTabOpenLoggerRef:H,icebreakerUI:z,managePageMessagesLink:A,hasContent:I,repliedToMessage:M,buildSharedMediaViewerURL:R,sendTypingIndicator:U,closeReplyPreview:T,onSendMessage:a};w!==void 0&&(J.initialComposerViewState=b("bs_caml_option").valFromOption(w));S!==void 0&&(J.messageRequestInfoText=b("bs_caml_option").valFromOption(S));return h.jsx(b("MWChatFocusComposerContext.bs").provider,{children:h.jsx(b("MWChatTabFocusHandler.bs").make,{onEscape:function(a){return b("bs_curry")._1(E,void 0)},onFocus:function(a){return D("MarkTabFocused")},onBlur:function(a){if(u)return D("MarkTabBlur")},children:h.jsxs("div",{children:[h.jsx("div",{children:V,className:(g||(g=b("stylex")))(l.header)}),P?h.jsx(b("MWChatConnectionStatusCard.bs").make,{}):null,y,h.jsx(b("MWChatTabContent_DEPRECATED.bs").make,J)],className:g(l.root)})})})}d=a;f.LazyMWChatAddParticipantsHeader=c;f.styles=l;f.make=d}),null);
__d("MWChatUploadingFilesStore.bs",["bs_curry","React","gkx","bs_belt_Array","bs_caml_option","usePrevious","MercuryLocalIDs","recoverableViolation","CometComposerViewState.bs","CometLocalVideoFileThumbnailSuspense.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,c){if(a.TAG)return{TAG:1,_0:b("bs_curry")._1(c,a._0),_1:a._1};else return{TAG:0,_0:a._0.map(b("bs_curry").__1(c)),_1:a._1}}c={map:h};var i=[];function j(a,c){c=b("bs_belt_Array").partition(c,function(a){return b("CometComposerViewState.bs").MediaAttachment.fileType(a)===0});var d=function(a,c,d,e){var f;switch(d){case 0:f={TAG:0,_0:URL.createObjectURL(c)};break;case 1:d=b("CometLocalVideoFileThumbnailSuspense.react").getFromCache(c,200,200);f=d!==void 0?{TAG:1,_0:d}:0;break;case 2:f=0;break}d=c.uploadID;if(d==null)return;c=c.name;a.push({name:c,uploadId:d,status:e,type_:f})},e=function(a,b){switch(b.TAG|0){case 0:case 1:break;case 2:return d(a,b._1,b._0,0);case 3:return d(a,b._1,b._0,{_0:b._2.id});case 4:return}return d(a,b._1,b._0,0)},f=[];c[0].forEach(function(a){return e(f,a)});if(f.length>0){var g=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);g=a.concat([{TAG:0,_0:f,_1:g}])}else g=a;var h=[];c[1].forEach(function(a){var c=[];e(c,a);a=b("bs_belt_Array").get(c,0);if(a===void 0)return;c=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);h.push({TAG:1,_0:a,_1:c})});if(h.length>0)return g.concat(h);else return g}function k(a,b){switch(b.TAG|0){case 0:return j(a,b._0);case 1:var c=b._0;return a.filter(function(a){return a!==c});case 2:var d=b._1,e=b._0,f=function(a){if(a.uploadId===e)return{name:a.name,uploadId:e,status:{_0:d},type_:a.type_};else return a},g=[];a.forEach(function(a){g.push(h(a,f))});return g}}function a(a,c){var d=g.useReducer(k,i),e=d[1],f=d[0],h=b("usePrevious")(f);g.useEffect(function(){var c=h==null?[]:h;b("gkx")("1268229")&&f.forEach(function(e){if(c.includes(e))return;if(e.TAG){var f=e._1,g=e._0,d=g.type_;if(typeof d==="number")return a({NAME:"SendFile",VAL:{TAG:2,_0:{filename:g.name,offline_threading_id:f}}});else return a({NAME:"SendVideo",VAL:{TAG:1,_0:{preview_urls:[d._0],offline_threading_id:f}}})}g=b("bs_belt_Array").keepMap(e._0,function(a){a=a.type_;if(typeof a==="number"){b("recoverableViolation")("Unsupported non-image file in a file batch!","messenger_comet");return}if(!a.TAG)return a._0;b("recoverableViolation")("Unsupported non-image file in a file batch!","messenger_comet")});return a({NAME:"SendImages",VAL:{TAG:1,_0:{preview_urls:g,offline_threading_id:e._1}}})})},[a,f,h]);g.useEffect(function(){f.forEach(function(f){if(f.TAG){var g=f._0,h=g.status;if(!h)return;h={TAG:0,_0:{media_attachment_ids:[h._0],offline_threading_id:b("bs_caml_option").some(f._1)}};var d=g.type_;typeof d==="number"?a({NAME:"SendFile",VAL:h}):d.TAG?a({NAME:"SendVideo",VAL:h}):a({NAME:"SendImages",VAL:h});b("bs_curry")._1(e,{TAG:1,_0:f});return b("bs_curry")._1(c,[g])}d=f._0;h=b("bs_belt_Array").keepMap(d,function(a){a=a.status;if(a)return b("bs_caml_option").some(a._0)});if(d.length===h.length){a({NAME:"SendImages",VAL:{TAG:0,_0:{media_attachment_ids:h,offline_threading_id:b("bs_caml_option").some(f._1)}}});b("bs_curry")._1(e,{TAG:1,_0:f});return b("bs_curry")._1(c,d)}})},[a,e,f]);return[f,e]}f.FileBatch=c;f.state=i;f.batchFiles=j;f.fileBatchReducer=k;f.useUploadingFiles=a}),null);
__d("MWMSChatComposerUserMessageRequestInfoText.bs",["fbt","bs_curry","React","JSResource","stylex","TetraText.react","CometPressable.react","MWMSParticipantDetails.bs","CometMenuSeparator.react","CometLazyDialogTrigger.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{paddingTop:"cxgpxx05",paddingEnd:"oj5qckz4",paddingBottom:"sj5x9vvc",paddingStart:"lb8aey2d"}};function a(a){var c=a.fbid;a=a.onDeleteConversation;var d=b("MWMSParticipantDetails.bs").useParticipantShortName(c),e=d!==void 0?d:g._("Ng\u01b0\u1eddi d\u00f9ng Facebook");return i.jsxs(i.Fragment,{children:[i.jsx(b("CometMenuSeparator.react"),{}),i.jsx("div",{children:i.jsxs(b("TetraText.react"),{color:"tertiary",type:"body4",children:[g._("N\u1ebfu b\u1ea1n tr\u1ea3 l\u1eddi, {name} s\u1ebd c\u00f3 th\u1ec3 g\u1ecdi \u0111i\u1ec7n cho b\u1ea1n v\u00e0 xem c\u00e1c th\u00f4ng tin nh\u01b0 Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng v\u00e0 th\u1eddi \u0111i\u1ec3m b\u1ea1n \u0111\u1ecdc tin nh\u1eafn.",[g._param("name",e)])," ",i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineUserMessageRequestDialogForJSResource.react").__setRef("MWMSChatComposerUserMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:a,otherUserFbid:c,otherUserShortName:e},children:function(a,c){return i.jsx(b("CometPressable.react"),{ref:c,onPress:function(c){return b("bs_curry")._1(a,void 0)},children:i.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink4",children:g._("T\u00f4i kh\u00f4ng mu\u1ed1n nh\u1eadn tin nh\u1eafn c\u1ee7a {name}",[g._param("name",e)])})})}})]}),className:(h||(h=b("stylex")))(j.root)})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWMSLoadIsDisabledComposerThreadLevel.bs",["bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));return b("bs_belt_Option").map(c,function(a){return b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.composer_input_disabled),!1)})}f.useHook=a}),null);
__d("MWMSOptimisticUpdate.bs",["bs_caml_option","MWChatThreadId.bs","MessengerState.bs","PhotosUploadID","MercurySourceType","MercuryMessageObject","MercuryPayloadSource"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j=b("MercuryMessageObject").getForFBID(a);if(e!==void 0){var k=j.constructAttachmentMessageObject(b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),h),l="upload_"+b("PhotosUploadID").getNewID();e=e.map(function(a){if(a.TAG)return{name:a.name,preview_height:void 0,preview_width:void 0,preview_url:void 0,preview_uploading:!0};else return{name:void 0,preview_height:a.height,preview_width:a.width,preview_url:a.url,preview_uploading:!0}});j.normalizeAddAttachmentPlaceholder(k,l,{preview_attachments:e});l=k}else l=f!==void 0?j.constructCTAConfirmationMessageObject(c,b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),f.quickReply,void 0,f.postback):g!==void 0?j.constructTextMessageObject(c,[],h,g,{},b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),void 0,void 0,void 0):j.constructUserGeneratedMessageObject(c,b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),[],void 0,void 0,h);e=i!==void 0?Object.assign(Object.assign({},l),{offline_threading_id:b("bs_caml_option").valFromOption(i)}):l;j.normalizeNewMessage(e);k={actions:[e],from_client:!0,payload_source:b("MercuryPayloadSource").CLIENT_SEND_MESSAGE,delivery_receipts:null,global_actions:null,message_blocked_ids:null,message_unblocked_ids:null,message_ignored_ids:null,participants:null,pending_folder_unseen_count:null,roger:null,threads:null,current_montage_thread:null,pinned_thread_ids:null,montage_delete_message_delta:null,montage_new_message_delta:null,montage_poll_sticker_vote:null,ordered_threadlists:null,end_of_history:null,unread_thread_fbids:null,newlyAddedClientIDs:null,message_counts:null};b("MessengerState.bs").sendJS(a,b("MessengerState.bs").processJSActions(k));return e}f.make=a}),null);
__d("MWMSQPLLogSendMessage.bs",["QuickPerformanceLogger","MessengerWebQuickLogModule"],(function(a,b,c,d,e,f){"use strict";function a(a){b("QuickPerformanceLogger").markerStart(b("MessengerWebQuickLogModule").SEND_MESSAGE,a)}f.log=a}),null);
__d("MWMSLogMessageSend.bs",["MessengerWebEvent","MWMSQPLLogSendMessage.bs","MessengerWebStgTypedLoggerLite.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(a==null)return;b("MWMSQPLLogSendMessage.bs").log(a);var e;if(typeof c==="string")e=null;else{var f=c.NAME;e=f==="User"||f==="Page"?c.VAL:null}return b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").SEND_MSG,offline_threading_id:a,other_user_fbid:e,thread_fbid:typeof c==="string"||c.NAME!=="Group"?null:c.VAL,extra_data:d})}f.log=a}),null);
__d("MWMSSendFilesMessage.bs",["Promise","gkx","bs_js_dict","bs_belt_Option","bs_caml_option","CurrentUser","FBMqttChannel","MessengerState.bs","MercuryLocalIDs","getTopMostRoute","MercuryActionType","MercurySourceType","MWMSLogMessageSend.bs","MercuryActionStatus","MWChatTabEntryPoints.bs","MWMSOptimisticUpdate.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){h=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;var i=b("CurrentUser").getID();a=f==null?null:b("getTopMostRoute")(f).tracePolicy;f=e!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(e).message_id):void 0;var j=c.NAME;if(!(j==="User"||j==="Page"||j==="Group"))return b("unrecoverableViolation")("Not supported","messenger_web_product");j=c.VAL;var k=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,j),b("MessengerWebEntryPoint").UNKNOWN),l;switch(d.TAG|0){case 0:var m=d._0,n=m.offline_threading_id;n=n!==void 0?b("bs_caml_option").valFromOption(n):b("MercuryLocalIDs").generateOfflineThreadingID(void 0);l=[b("MessengerStatePrinter.bs").jsonPrettyStringify({sender_fbid:i,to:j,msgid:n,generic_metadata:{platform_xmd:h},media:m.media_attachment_ids,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":k,tracePolicy:a},repliedToMessageId:f}),n,void 0];break;case 1:if(b("gkx")("1268229")){j=d._0;h=j.offline_threading_id;m=b("MWMSOptimisticUpdate.bs").make(i,"",c,j.preview_urls.map(function(a){return{TAG:0,height:void 0,width:void 0,url:a}}),void 0,void 0,e,b("bs_caml_option").some(h));l=["",h,b("bs_caml_option").some(m)]}else l=["",null,void 0];break;case 2:if(b("gkx")("1268229")){k=d._0;f=k.offline_threading_id;n=b("MWMSOptimisticUpdate.bs").make(i,"",c,[{TAG:1,name:k.filename}],void 0,void 0,e,b("bs_caml_option").some(f));l=["",f,b("bs_caml_option").some(n)]}else l=["",null,void 0];break}var o=l[2];b("MWMSLogMessageSend.bs").log(l[1],c,{tracePolicy:a,isActiveNow:g});b("FBMqttChannel").publish("/send_message2",l[0]).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){if(o!==void 0){a=Object.assign(b("bs_caml_option").valFromOption(o),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(i,b("MessengerState.bs").processJSActions(a))}return b("Promise").resolve(void 0)})}f.send=a}),null);
__d("MWMSSendMessageUtils.bs",["bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWChatMessageId.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_belt_Option").flatMap(c,function(c){var d=b("MWChatThreadId.bs").getMercuryID(a),e=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),d);d=c.content;var f;switch(d.TAG|0){case 0:case 1:case 2:f=d._0.messageID;break}return b("bs_belt_Option").flatMap(b("MWChatMessageId.bs").getMessageId(f),function(a){return b("bs_caml_option").undefined_to_opt(e.find(function(b){return b.message_id===a}))})})}f.getOriginalRepliedToMessage=a}),null);
__d("MWMSSendAttachments.bs",["ODS","bs_curry","React","bs_caml_obj","bs_belt_Array","MessengerWebEvent","MWThread_DEPRECATED.bs","MWUISendTextMessage.bs","useCometRouterState","MWMSSendFilesMessage.bs","MWMSSendMessageUtils.bs","recoverableViolation","unrecoverableViolation","MWChatUploadingFilesStore.bs","MWUIPresenceIsThreadActive.bs","MessengerWebStgTypedLoggerLite.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=g.useRef(void 0),e=b("MWThread_DEPRECATED.bs").useId(void 0),f=b("bs_curry")._2(b("MWUISendTextMessage.bs").useSendTextMessage,void 0,void 0),h=b("useCometRouterState")(),i=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,void 0),j=function(e){var f=d.current;if(f!==void 0&&!f.TAG){var g=e.NAME;f=f._0;if(g==="SendVideo"){b("ODS").bumpEntityKey(3185,"mwchat_send","video");var j=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(f,a);b("MWMSSendFilesMessage.bs").send(void 0,f,e.VAL,j,h,i,void 0);return b("bs_curry")._1(c,f)}if(g==="SendFile"){b("ODS").bumpEntityKey(3185,"mwchat_send","file");j=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(f,a);b("MWMSSendFilesMessage.bs").send(void 0,f,e.VAL,j,h,i,void 0);return b("bs_curry")._1(c,f)}b("ODS").bumpEntityKey(3185,"mwchat_send","images");g=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(f,a);b("MWMSSendFilesMessage.bs").send(void 0,f,e.VAL,g,h,i,void 0);return b("bs_curry")._1(c,f)}b("recoverableViolation")("Unexpected empty threadId","messenger_web_product");d.current={TAG:1,_0:"Unexpected state"}},k=function(a){if(e!==void 0&&typeof e!=="string"){var c=e.NAME;c=c==="User"||c==="Page"?e.VAL:null}else c=null;return b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").SEND_FILES,other_user_fbid:c,thread_fbid:e!==void 0&&!(typeof e==="string"||e.NAME!=="Group")?e.VAL:null,extra_data:{attachment_names:a.map(function(a){return a.name}),attachment_upload_ids:a.map(function(a){return a.uploadId}),attachment_fbids:b("bs_belt_Array").keepMap(a,function(a){a=a.status;if(a)return a._0})}})};j=b("MWChatUploadingFilesStore.bs").useUploadingFiles(j,k);var l=j[1];k=function(a,c){return b("bs_curry")._1(l,{TAG:2,_0:a,_1:c})};j=function(a,e,g,h){e!==void 0&&(b("bs_curry")._4(f,a,e,g,void 0),b("bs_curry")._1(c,a));e=d.current;e!==void 0?(e.TAG||!b("bs_caml_obj").caml_equal(e._0,a))&&b("unrecoverableViolation")("Hook cannot be used to send to more than one recipient. It tracks send progress internally this state cannot be shared amongst recipients","messenger_web_product"):d.current={TAG:0,_0:a};return b("bs_curry")._1(l,{TAG:0,_0:h})};return[j,k]}f.useSendFileMessage=a}),null);
__d("MWMSSendAudioMessage.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){return[function(a,c,d){return b("Promise").resolve(["",""])},function(a,b,c){}]}f.useMessage=a}),null);
__d("MWMSSendXMDMessage.bs",["Promise","bs_curry","bs_js_dict","bs_belt_Option","bs_caml_option","CurrentUser","FBMqttChannel","MessengerState.bs","getTopMostRoute","MercuryActionType","MercurySourceType","MWMSLogMessageSend.bs","MercuryActionStatus","useCometRouterState","MWChatTabEntryPoints.bs","MWMSOptimisticUpdate.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","unrecoverableViolation","MWUIPresenceIsThreadActive.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("useCometRouterState")(),d=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,void 0);return function(a,e,f){var g=b("CurrentUser").getID(),h=c==null?null:b("getTopMostRoute")(c).tracePolicy,i=f!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(f).message_id):void 0,j=a.NAME;if(!(j==="User"||j==="Page"||j==="Group"))return b("unrecoverableViolation")("Not supported","messenger_web_product");j=a.VAL;var k=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,j),b("MessengerWebEntryPoint").UNKNOWN),l=e.body;e=b("MWMSOptimisticUpdate.bs").make(g,l,a,void 0,e,void 0,f,void 0);f=e.offline_threading_id;l=b("MessengerStatePrinter.bs").jsonPrettyStringify({body:l,sender_fbid:g,to:j,msgid:f,generic_metadata:{platform_xmd:e.platform_xmd},client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":k,tracePolicy:h},repliedToMessageId:i});var m=b("bs_caml_option").some(e);b("MWMSLogMessageSend.bs").log(f,a,{tracePolicy:h,isActiveNow:d});b("FBMqttChannel").publish("/send_message2",l).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){a=Object.assign(b("bs_caml_option").valFromOption(m),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(g,b("MessengerState.bs").processJSActions(a));return b("Promise").resolve(void 0)})}}f.useSendXMDMessage=a}),null);
__d("MWMSSendCometPostback.bs",["bs_curry","React","bs_caml_option","MWMSSendXMDMessage.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0),d=b("MWMSSendXMDMessage.bs").useSendXMDMessage(void 0);return g.useCallback(function(a){return function(e){return b("bs_curry")._3(d,c,{body:a,quickReply:void 0,postback:b("bs_caml_option").some(e)},void 0)}},[d])}f.useSendCometPostback=a}),null);
__d("MWMSSendGIFMessage.bs",["Promise","bs_curry","React","bs_js_dict","bs_belt_Option","bs_caml_option","CurrentUser","FBMqttChannel","MessengerState.bs","getTopMostRoute","MercuryActionType","MercurySourceType","MWMSLogMessageSend.bs","MercuryActionStatus","useCometRouterState","MWChatTabEntryPoints.bs","MWMSOptimisticUpdate.bs","MWMSSendMessageUtils.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","unrecoverableViolation","MWUIPresenceIsThreadActive.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometRouterState")(),d=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,void 0);return g.useCallback(function(a){return function(e,f){var g=b("CurrentUser").getID(),h=c==null?null:b("getTopMostRoute")(c).tracePolicy;f=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(a,f);var i=f!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(f).message_id):void 0,j=a.NAME;if(!(j==="User"||j==="Page"||j==="Group"))return b("unrecoverableViolation")("Not supported","messenger_web_product");j=a.VAL;var k=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,j),b("MessengerWebEntryPoint").UNKNOWN),l=b("bs_belt_Option").flatMap(b("bs_js_dict").get(e.media,"preview"),function(a){return[{TAG:0,height:a.height,width:a.width,url:a.url}]});l=b("MWMSOptimisticUpdate.bs").make(g,"",a,l,void 0,void 0,f,void 0);f=l.offline_threading_id;j=b("MessengerStatePrinter.bs").jsonPrettyStringify({sender_fbid:g,to:j,msgid:f,externalAttachmentUrl:e.source.url,attribution_app_id:e.platformFBID,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":k,tracePolicy:h},repliedToMessageId:i});var m=b("bs_caml_option").some(l);b("MWMSLogMessageSend.bs").log(f,a,{tracePolicy:h,isActiveNow:d});b("FBMqttChannel").publish("/send_message2",j).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){a=Object.assign(b("bs_caml_option").valFromOption(m),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(g,b("MessengerState.bs").processJSActions(a));return b("Promise").resolve(void 0)})}},[c,d])}f.useSendGifMessage=a}),null);
__d("MWMSSendMenuItem.bs",["bs_curry","React","MWMSSendXMDMessage.bs","useCometRouterState","MWUIPresenceIsThreadActive.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("useCometRouterState")();var c=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,void 0),d=b("MWMSSendXMDMessage.bs").useSendXMDMessage(void 0);return g.useCallback(function(a){return function(c,e){return b("bs_curry")._3(d,a,{body:c,quickReply:void 0,postback:{cta_id:e,prev_message_id:void 0,force_handle:!0,ref:void 0,postback_cta_ref_source:void 0}},void 0)}},[a,c])}f.useSendMenuItem=a}),null);
__d("MWMSSendStickerMessage.bs",["Promise","bs_curry","React","bs_js_dict","bs_belt_Option","bs_caml_option","CurrentUser","FBMqttChannel","MessengerState.bs","MercuryLocalIDs","getTopMostRoute","MercuryActionType","MercurySourceType","MWMSLogMessageSend.bs","MercuryActionStatus","useCometRouterState","MWChatTabEntryPoints.bs","MWMSSendMessageUtils.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","unrecoverableViolation","MWUIPresenceIsThreadActive.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometRouterState")(),d=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,void 0);return g.useCallback(function(a){return function(e,f,g){b("CurrentUser").getID();g=c==null?null:b("getTopMostRoute")(c).tracePolicy;f=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(a,f);f=f!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(f).message_id):void 0;var h=a.NAME;if(!(h==="User"||h==="Page"||h==="Group"))return b("unrecoverableViolation")("Not supported","messenger_web_product");h=a.VAL;var i=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,h),b("MessengerWebEntryPoint").UNKNOWN),j=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);h=b("MessengerStatePrinter.bs").jsonPrettyStringify({sender_fbid:b("CurrentUser").getID(),to:h,msgid:j,object_attachment:e,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":i,tracePolicy:g},repliedToMessageId:f});b("MWMSLogMessageSend.bs").log(j,a,{tracePolicy:g,isActiveNow:d});b("FBMqttChannel").publish("/send_message2",h).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){return b("Promise").resolve(void 0)})}},[c,d])}f.useSendStickerMessage=a}),null);
__d("MWMSSendTextMessage.bs",["Promise","bs_curry","React","bs_js_dict","bs_belt_Option","bs_caml_option","CurrentUser","FBMqttChannel","MessengerState.bs","getTopMostRoute","MercuryActionType","MercurySourceType","MWMSLogMessageSend.bs","MercuryActionStatus","useCometRouterState","MWChatTabEntryPoints.bs","MWMSOptimisticUpdate.bs","MWMSSendMessageUtils.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","unrecoverableViolation","MWUIPresenceIsThreadActive.bs","MWChatBlockMessagesMutation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=b("useCometRouterState")(),e=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,void 0);return g.useCallback(function(a){return function(c,f,g){var h=b("CurrentUser").getID(),i=d==null?null:b("getTopMostRoute")(d).tracePolicy;g=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(a,g);var j=g!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(g).message_id):void 0,k=a.NAME;if(k==="User"||k==="Page"||k==="Group"){k=a.VAL;var l=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,k),b("MessengerWebEntryPoint").UNKNOWN),m=c.trim();g=b("MWMSOptimisticUpdate.bs").make(h,m,a,void 0,void 0,f,g,void 0);var n=g.offline_threading_id;f=f!==void 0?b("MessengerStatePrinter.bs").jsonPrettyStringify({body:m,sender_fbid:h,to:k,msgid:n,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,trigger:l,tracePolicy:i},generic_metadata:{prng:JSON.stringify(f.map(function(a){return{o:a.offset,l:a.length,i:a.id,t:a.type}}))},repliedToMessageId:j}):b("MessengerStatePrinter.bs").jsonPrettyStringify({body:m,sender_fbid:h,to:k,msgid:n,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":l,tracePolicy:i},repliedToMessageId:j});var o=b("bs_caml_option").some(g);b("MWMSLogMessageSend.bs").log(n,a,{tracePolicy:i,isActiveNow:e});b("FBMqttChannel").publish("/send_message2",f).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){a=Object.assign(b("bs_caml_option").valFromOption(o),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(h,b("MessengerState.bs").processJSActions(a));return b("Promise").resolve(void 0)})}else b("unrecoverableViolation")("Not supported","messenger_web_product");if(typeof a==="string")return;if(a.NAME!=="Page")return;m=c.trim();if(m.toLowerCase()==="unsubscribe"||m.toLowerCase()==="stop"){b("MWChatBlockMessagesMutation").commitBlock(a.VAL,function(a){},function(a){});return}}},[d,e])}f.useSendTextMessage=a}),null);
__d("MWChatContextBannerQuery",["CometRelay","promiseDone","MWChatContextBannerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(){var a=b("CometRelay").useRelayEnvironment();return function(c,d){c=b("CometRelay").fetchQuery(a,h,{profileID:c}).toPromise().then(function(a){a=a==null?void 0:a.messenger_context;var b=a==null?void 0:a.connection_context,c=a==null?void 0:a.context_items;b!=null&&c!=null&&d(a);return});b("promiseDone")(c)}}var h=g!==void 0?g:g=b("MWChatContextBannerQuery.graphql")}),null);
__d("MWMSChatContextBanner.bs",["bs_curry","React","MWChatContextBannerQuery"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d,e){var f=g.useState(function(){return 0}),h=f[1],i=c.length!==0?c[0]:void 0,j=b("MWChatContextBannerQuery")();g.useEffect(function(){var c=0,f=0;if(typeof a==="string")f=2;else{var g=a.NAME;(g==="User"||g==="Page")&&i!==void 0?d?j(a.VAL,function(a){return b("bs_curry")._1(h,function(b){return{_0:[i],_1:a.connection_context,_2:a.context_items,_3:e}})}):c=1:f=2}if(f===2)if(typeof a==="string")c=1;else{g=a.NAME;(g==="User"||g==="Page")&&!(i!==void 0||!d)?b("bs_curry")._1(h,function(a){return 0}):c=1}c===1&&b("bs_curry")._1(h,function(a){return 1})},[a,i,d,h]);if(d)return f[0]}f.useContextBanner=a}),null);
__d("MWMSCreateThread.bs",["MWMSCreateThread"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MWMSCreateThread").useHook(a)}f.useHook=a}),null);
__d("MWMSImagePostbackCtaHandler.bs",["Promise","URI","FBID.bs","bs_curry","React","ActorURI","bs_caml_array","bs_caml_option","promiseDone","MercuryConfig","MWChatThreadId.bs","MercuryLocalIDs","MWMSSendTextMessage.bs","MWThread_DEPRECATED.bs","useCometRouterState","MWMSSendFilesMessage.bs","XComposerPhotoUploader","MWUIPresenceIsThreadActive.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){var c=b("MWMSSendTextMessage.bs").useSendTextMessage(void 0,void 0),d=b("MWThread_DEPRECATED.bs").useIdExn(void 0),e=b("useCometRouterState")(),f=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,void 0);return h.useMemo(function(){return function(a,h,i){b("bs_curry")._4(c,d,h,void 0,void 0);h=b("MWChatThreadId.bs").getFBID(d);var j=b("MercuryLocalIDs").generateOfflineThreadingID(void 0),k=new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){},onUploadSuccess:function(c,g){c=b("bs_caml_array").get(g.response.payload.metadata,0);g=c.image_id;if(g!==void 0){c=b("bs_caml_option").valFromOption(g);return b("MWMSSendFilesMessage.bs").send(b("bs_caml_option").some(a),d,{TAG:0,_0:{media_attachment_ids:[b("FBID.bs").ofStringExn(c)],offline_threading_id:b("bs_caml_option").some(j)}},void 0,e,f,void 0)}},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(g||(g=b("URI")))(b("MercuryConfig").upload_url),h)});h=window.fetch(i).then(function(a){return a.blob()}).then(function(a){k.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})],void 0).send();return b("Promise").resolve(void 0)});b("promiseDone")(h,void 0,void 0)}},[d,c,e,f])}f.usePostbackCtaHandler=a}),null);
__d("MWMSPostbackCtaHandler.bs",["gkx","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(!b("gkx")("1463539")){b("recoverableViolation")("Unexpected Lightspeed CTA on non lightspeed chat","messenger_privacy_web");return}}f.usePostbackCtaHandler=a}),null);
__d("MWMSWebUrlCtaHandler.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(a){}}f.useShowWebViewDialog=a}),null);
__d("useMessengerLocalRemoveMessageMutation",["fbt","CometRelay","LogHistory","recoverableViolation","useCometAlertDialog","useMessengerLocalRemoveMessageMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h!==void 0?h:h=b("useMessengerLocalRemoveMessageMutation.graphql");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("useCometAlertDialog")(),d=c[0];return function(c){var e=c.messageID,f=c.onCompleted;b("LogHistory").getInstance("messenger-comet").log("local_remove_message_req");return b("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(a){b("LogHistory").getInstance("messenger-comet").log("local_remove_message_success"),f&&f(a)},onError:function(a){b("LogHistory").getInstance("messenger-comet").error("local_remove_message_error",a.toString()),b("recoverableViolation")("Local remove message failed","messenger_comet",{error:a}),d({body:g._("Kh\u00f4ng th\u1ec3 g\u1ee1 tin nh\u1eafn. H\u00e3y th\u1eed l\u1ea1i sau."),title:g._("L\u1ed7i")})},variables:{input:{message_id:e}}})}}}),null);
__d("MWMSDeleteMessage.bs",["ODS","bs_curry","React","CurrentUser","MessengerState.bs","useMessengerLocalRemoveMessageMutation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useMessengerLocalRemoveMessageMutation")();return g.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","remove_loc");a=b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a);b("bs_curry")._1(c,{messageID:a})},[c])}f.useDeleteMessage=a}),null);
__d("MWMSDeleteThread",["CometRelay","React","MWMSDeleteThreadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;var g,h=b("React");function a(){var a=b("CometRelay").useMutation(g!==void 0?g:g=b("MWMSDeleteThreadMutation.graphql")),c=a[0];a[1];return h.useCallback(function(a){c({variables:{input:{thread_fbid:a}}})},[c])}}),null);
__d("MWMSDeleteThread.bs",["bs_curry","React","MWMSDeleteThread"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWMSDeleteThread").useHook();return g.useCallback(function(a){return b("bs_curry")._1(c,a.VAL)},[c])}f.useDeleteThread=a}),null);
__d("MWMSActorHovercardContact.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){}f.useContact=a}),null);
__d("CometC2CTransactionSurveyImpressionMutation",["CometMarketplaceMeasurementGating","CometRelay","CometRelayEnvironment","CometC2CTransactionSurveyImpressionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("CometC2CTransactionSurveyImpressionMutation.graphql");function a(a){var c=a.action,d=a.for_sale_item_id,e=a.referral_surface;a=a.surface;c={action:c,for_sale_item_id:d,is_short_survey_holdout:b("CometMarketplaceMeasurementGating").shouldShowTxnSurveyOnly(),referral_surface:e,surface_new:a};return b("CometRelay").commitMutation(b("CometRelayEnvironment"),{mutation:h,variables:{input:c}})}}),null);
__d("AbstractActionList.react",["React","ReactFragment"],(function(a,b,c,d,e,f){var g=b("React"),h=g.jsx("span",{"aria-hidden":"true",children:" \xb7 "});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=!0,c=g.Children.map(this.props.children,function(c){if(!c)return c;if(a){a=!1;return c}return b("ReactFragment").create({BULLET:h,child:c})});return g.jsx("div",babelHelpers["extends"]({},this.props,{children:c}))};return c}(g.Component);e.exports=a}),null);
__d("ActionList.react",["AbstractActionList.react","React","joinClasses"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("AbstractActionList.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"fsm fwn fcg"),children:this.props.children}))};return c}(g.Component);e.exports=a}),null);
__d("ActionList.re",["ActionList.react"],(function(a,b,c,d,e,f){a=b("ActionList.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWMSMarketplaceSheetContent.bs",["React","stylex","ActionList.re","LineClamp.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={title:{fontSize:"sq6gx45u",color:"oo9gr5id"},price:{fontSize:"sq6gx45u",color:"g5o1ygfq"},location:{fontSize:"sq6gx45u",color:"oo9gr5id"}};function a(a){var c=a.title,d=a.price,e=a.location;a=a.status;return h.jsxs("div",{children:[h.jsx(b("LineClamp.react"),{lines:1,children:h.jsxs("div",{children:[a,c],className:(g||(g=b("stylex")))(i.title)})}),h.jsx(b("LineClamp.react"),{lines:1,children:h.jsxs(b("ActionList.re").make,{children:[h.jsx("span",{children:d,className:g(i.price)}),e!==void 0?h.jsx("span",{children:e,className:(g||(g=b("stylex")))(i.location)}):null]})})]})}c=a;f.styles=i;f.make=c}),null);
__d("ProductItemChangeAvailabilityMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","ProductItemChangeAvailabilityMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h={SOLD:"out_of_stock",AVAILABLE:"in_stock",PENDING:"pending"};f.AVAILABILITY=h;var i=g!==void 0?g:g=b("ProductItemChangeAvailabilityMutation.graphql");function j(a){return{input:{story_id:a.storyID,product_availability:a.productAvailability,surface:a.surface,marketplace_surface:a.marketplaceSurface,marketplace_referral_surface:a.marketplaceReferralSurface,actor_id:b("RelayAPIConfig").actorID}}}function k(a){var b=a.productAvailability===h.SOLD,c=a.productAvailability===h.PENDING,d=a.productAvailability===h.AVAILABLE;return{product_item_change_availability:{story:{attachments:[{target:{__typename:"GroupCommerceProductItem",id:null,is_expired:null,is_pending:c,is_sold:b,product_item:null,status_text:null,is_mark_as_available_enabled:b||c,is_mark_as_pending_enabled:d,is_mark_as_sold_enabled:c||d}}],id:a.storyID}}}}function a(a,c,d){var e=i;return b("RelayModern").commitMutation(b("RelayFBEnvironment"),{mutation:e,onCompleted:c,onError:d,variables:j(a),optimisticResponse:k(a)})}}),null);
__d("MarketplaceAvailabilityActionHandler",["ProductItemChangeAvailabilityMutation"],(function(a,b,c,d,e,f){"use strict";f.changeAvailability=g;f.togglePendingAvailability=a;f.toggleSoldAvailability=c;f.markAsAvailable=h;f.markAsPending=i;f.markAsSold=j;function g(a,c,d,e,f,g){g===void 0&&(g=null);d&&d(a);d=function(){c&&c(a)};b("ProductItemChangeAvailabilityMutation").commit({marketplaceSurface:f,marketplaceReferralSurface:g,productAvailability:a,storyID:e},d,function(){})}function a(a,b,c,d,e,f){f===void 0&&(f=null),a?h(b,c,d,e,f):i(b,c,d,e,f)}function c(a,b,c,d,e,f){f===void 0&&(f=null),a?h(b,c,d,e,f):j(b,c,d,e,f)}function h(a,c,d,e,f){f===void 0&&(f=null),g(b("ProductItemChangeAvailabilityMutation").AVAILABILITY.AVAILABLE,a,c,d,e,f)}function i(a,c,d,e,f){f===void 0&&(f=null),g(b("ProductItemChangeAvailabilityMutation").AVAILABILITY.PENDING,a,c,d,e,f)}function j(a,c,d,e,f){f===void 0&&(f=null),g(b("ProductItemChangeAvailabilityMutation").AVAILABILITY.SOLD,a,c,d,e,f)}}),null);
__d("MarketplaceLoggingSurface",[],(function(a,b,c,d,e,f){"use strict";f.getCurrentSurface=a;f.setCurrentSurface=b;f.getReferralSurface=c;f.setReferralSurface=d;var g=null,h=null;function a(){return g}function b(a){g=a}function c(){return h}function d(a){h=a}}),null);
__d("MarketplaceLogger",["FBLogger","MarketplaceClickFalcoEvent","MarketplaceDesktopAdsTypedLogger","MarketplaceErrorDebugTypedLogger","MarketplaceImpressionFalcoEvent","MarketplaceLoggingSurface","nullthrows"],(function(a,b,c,d,e,f){"use strict";f.logClick=a;f.logAdEvent=c;f.logImpression=d;f.logDebug=e;function a(a,c){var d="click",e=a==="feed_product_item";e&&!(c==null?void 0:c.storyType)?b("FBLogger")("marketplace").mustfix("story_type not set for %s on feed_product_item",d):e&&!(c==null?void 0:c.productItemID)&&b("FBLogger")("marketplace").mustfix("product_item_id not set for %s on feed_product_item",d);b("MarketplaceClickFalcoEvent").logImmediately(function(){return{otherUserID:Number(c==null?void 0:c.otherUserID),productItemID:c==null?void 0:c.productItemID,componentHierarchy:[{component:c==null?void 0:c.parentComponent}],referralCode:c==null?void 0:c.referralCode,referralStoryType:c==null?void 0:c.referralStoryType,referralSurface:b("MarketplaceLoggingSurface").getReferralSurface(),storyType:c==null?void 0:c.storyType,searchQuery:c==null?void 0:c.searchQuery,serverSessionID:c==null?void 0:c.serverSessionID,surface:b("MarketplaceLoggingSurface").getCurrentSurface(),themeID:c==null?void 0:c.themeID,tracking:c==null?void 0:c.tracking,uiComponent:a,componentID:(c==null?void 0:c.componentID)||(c==null?void 0:c.productItemID)}})}function c(a){new(b("MarketplaceDesktopAdsTypedLogger"))().setExtra(a.extra).setEventName(a.eventName).logVital()}function d(a,c){var d="impression",e=a==="feed_product_item";e&&!(c==null?void 0:c.storyType)?b("FBLogger")("marketplace").mustfix("story_type not set for %s on feed_product_item",d):e&&!(c==null?void 0:c.productItemID)&&b("FBLogger")("marketplace").mustfix("product_item_id not set for %s on feed_product_item",d);b("MarketplaceImpressionFalcoEvent").logImmediately(function(){return{otherUserID:Number(c==null?void 0:c.otherUserID),productItemID:c==null?void 0:c.productItemID,componentHierarchy:[{component:c==null?void 0:c.parentComponent}],referralCode:c==null?void 0:c.referralCode,referralStoryType:c==null?void 0:c.referralStoryType,referralSurface:b("MarketplaceLoggingSurface").getReferralSurface(),storyType:c==null?void 0:c.storyType,serverSessionID:c==null?void 0:c.serverSessionID,surface:b("MarketplaceLoggingSurface").getCurrentSurface(),themeID:c==null?void 0:c.themeID,tracking:c==null?void 0:c.tracking,uiComponent:a,componentID:(c==null?void 0:c.componentID)||(c==null?void 0:c.productItemID)}})}function e(a,c){a=new(b("MarketplaceErrorDebugTypedLogger"))().setEvent(a);c.extraData&&a.updateExtraData(b("nullthrows")(c==null?void 0:c.extraData));c.productItemID!=null&&a.addToExtraData("productID",b("nullthrows")(c.productItemID).toString());a.addToExtraData("clienttime",Date.now().toString()).setReferralSurface(b("MarketplaceLoggingSurface").getReferralSurface()).setSurface(b("MarketplaceLoggingSurface").getCurrentSurface()).setError(c.error).setComponentName(c.componentName).setRouteName(c.routeName).log()}}),null);
__d("MWMSMarketplaceSheetPopover.bs",["fbt","bs_curry","React","gkx","bs_caml_obj","JSResource","MarketplaceLogger","useCometLazyDialog","CometMenuItem.react","MarketplaceAvailabilityActionHandler","CometC2CTransactionSurveyImpressionMutation","XCometMarketplaceComposerEditControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.detailsLabel,d=a.status,e=a.setStatus,f=a.sellerID,i=a.buyerID,j=a.userID,k=a.storyID,l=a.threadID,m=a.url,n=a.listingID,o=a.isEligibleToRate,p=a.inventoryCount,q=a.deliveryTypes,r=a.productItemID,s=a.isSellerEligibleForShipping,t=a.isItemEligibleForShipping;a=a.isShippingOffered;var u=h.useState(function(){return!1}),v=u[1],w=b("useCometLazyDialog")(b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWMSMarketplaceSheetPopover.bs")),x=w[0],y=function(a){return b("bs_curry")._1(v,function(a){return!0})},z=function(a){b("bs_curry")._1(v,function(a){return!1});b("bs_curry")._1(e,function(a){if(a===0)return 2;else return 0});if(b("gkx")("1187427")){a={entryPoint:"MARK_AS_SOLD_BUTTON",id:l,location:"marketplace_c2c_transaction_survey"};if(d!==0){x(a,function(a){});b("CometC2CTransactionSurveyImpressionMutation").commit({action:"MARK_AS_SOLD",for_sale_item_id:n,surface:"MESSENGER_BANNER",referral_surface:"MESSENGER_THREAD_VIEW"});return}else return}},A=b("bs_caml_obj").caml_equal(f,j);j=b("gkx")("1581469");var B=b("useCometLazyDialog")(b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWMSMarketplaceSheetPopover.bs")),C=B[0],D=b("useCometLazyDialog")(b("JSResource")("MarketplaceRateUserDialog.react").__setRef("MWMSMarketplaceSheetPopover.bs")),E=D[0],F=function(a){a={userId:f,listingId:n,surface:"messaging_thread"};return E(a,function(a){})},G=function(a){a=A?[i,"marketplace_messenger_report_buyer"]:[f,"marketplace_messenger_report_seller"];a={entryPoint:"REPORT_BUTTON",id:a[0],location:a[1]};return C(a,function(a){})},H=function(a){b("MarketplaceLogger").logClick("messenger_popover_banner_offer_shipping_button",{productItemID:r})};p=p!==void 0&&(q!==void 0?q.indexOf(2)===-1:!0);q=b("XCometMarketplaceComposerEditControllerRouteBuilder").buildURL({listing_id:n,shipping:!0,step:"delivery"});if(A){var I=d===0;p=h.jsx(b("CometMenuItem.react"),{primaryText:d!==0?p?g._("\u0110\u00e1nh d\u1ea5u l\u00e0 H\u1ebft h\u00e0ng"):g._("\u0110\u00e1nh d\u1ea5u l\u00e0 \u0110\u00e3 b\u00e1n"):g._("\u0110\u00e1nh d\u1ea5u l\u00e0 C\u00f3 h\u00e0ng"),onClick:function(a){a.preventDefault(),a.stopPropagation(),b("MarketplaceAvailabilityActionHandler").toggleSoldAvailability(I,z,y,k,"messenger_banner")},ref:w[1],disabled:u[0]},"mark_status")}else p=null;return[h.jsx(b("CometMenuItem.react"),{primaryText:c,href:m},"see_detail"),p,A&&j&&s&&t&&a===!1?h.jsx(b("CometMenuItem.react"),{primaryText:g._("Cung c\u1ea5p d\u1ecbch v\u1ee5 giao h\u00e0ng"),href:q,onClick:H},"offer_shipping"):null,o&&A===!1?h.jsx(b("CometMenuItem.react"),{primaryText:g._("X\u1ebfp h\u1ea1ng ng\u01b0\u1eddi b\u00e1n"),onClick:F,ref:D[1]},"rate_participant"):null,h.jsx(b("CometMenuItem.react"),{primaryText:A?g._("B\u00e1o c\u00e1o ng\u01b0\u1eddi mua"):g._("B\u00e1o c\u00e1o ng\u01b0\u1eddi b\u00e1n"),onClick:G,ref:B[1]},"report")]}c=a;f.make=c}),null);
__d("MarketplaceTitlePrefixText.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.$1=function(){switch(this.props.type){case"draft":return h._("B\u1ea3n nh\u00e1p");case"pending":return h._("\u0110ang ch\u1edd");case"sold":return h._("\u0110\u00e3 b\u00e1n");case"unavailable":return h._("Kh\u00f4ng c\u00f3 s\u1eb5n");default:throw new Error("Unsupported type "+this.props.type)}};c.render=function(){return i.jsxs("span",{className:"_7r8p",children:[this.$1(),"\xa0"]})};return b}(i.PureComponent);e.exports=a}),null);
__d("MWMSMarketplaceSheet.bs",["ix","fbt","bs_curry","React","fbicon","JSResource","stylex","BaseRow.react","BaseRowItem.react","CometImageIcon.react","TetraCircleButton.react","MWMSMarketplaceSheetContent.bs","MWMSMarketplaceSheetPopover.bs","CometLazyPopoverTrigger.react","MarketplaceTitlePrefixText.react","CometUnstyledButton_DEPRECATED.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={container:{position:"l9j0dhe7"},optionsButton:{position:"pmk7jnqg",top:"kr520xx4",end:"n7fi1qx3",paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b"},sheet:{borderBottom:"s1tcr66n",lineHeight:"jiuqdcnw",":hover":{backgroundColor:"cywjgcmn"},":active":{backgroundColor:"hts5jg4c"}},sheetInner:{paddingTop:"cxgpxx05",paddingEnd:"tkv8g59h",paddingBottom:"iuny7tx3",paddingStart:"scb9dxdr"},image:{marginEnd:"oi9244e8"}};function a(a){var c=a.url,d=a.imageURI,e=a.title,f=a.price,l=a.location,m=a.status,n=a.sellerID,o=a.buyerID,p=a.userID,q=a.storyID,r=a.listingID,s=a.isEligibleToRate,t=a.threadID,u=a.inventoryCount,v=a.deliveryTypes,w=a.productItemID,x=a.isSellerEligibleForShipping,y=a.isItemEligibleForShipping;a=a.isShippingOffered;var z=j.useState(function(){return m}),A=z[0],B=h._("Xem chi ti\u1ebft"),C;switch(A){case 0:C=j.jsx(b("MarketplaceTitlePrefixText.react"),{type:"sold"});break;case 1:C=j.jsx(b("MarketplaceTitlePrefixText.react"),{type:"pending"});break;case 2:C=null;break}return j.jsxs("div",{children:[j.jsx("div",{children:j.jsx(b("CometUnstyledButton_DEPRECATED.react"),{expanded:!0,href:c,label:B,children:j.jsx("div",{children:j.jsxs(b("BaseRow.react"),{children:[d!==void 0?j.jsx(b("BaseRowItem.react"),{expanding:!1,children:j.jsx("div",{children:j.jsx(b("CometImageIcon.react"),{size:32,src:d,style:"roundedRect"}),className:(i||(i=b("stylex")))(k.image)})}):null,j.jsx(b("BaseRowItem.react"),{expanding:!0,children:j.jsx(b("MWMSMarketplaceSheetContent.bs").make,{title:e,price:f,location:l,status:C})})]}),className:(i||(i=b("stylex")))(k.sheetInner)})}),className:i(k.sheet)}),j.jsx("div",{children:j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("CometMenu.react").__setRef("MWMSMarketplaceSheet.bs"),popoverProps:{children:j.jsx(b("MWMSMarketplaceSheetPopover.bs").make,{detailsLabel:B,status:A,setStatus:z[1],sellerID:n,buyerID:o,userID:p,storyID:q,threadID:t,url:c,listingID:r,isEligibleToRate:s,inventoryCount:u,deliveryTypes:v,productItemID:w,isSellerEligibleForShipping:x,isItemEligibleForShipping:y,isShippingOffered:a}),withArrow:!0,size:"full"},align:"end",children:function(a,c,d,e,f,i,k){return j.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("484391"),24),label:h._("T\u00f9y ch\u1ecdn ni\u00eam y\u1ebft"),onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a,size:36,testid:"chat-marketplace-options-dropdown"})}}),className:i(k.optionsButton)})],className:i(k.container)})}c=a;f.styles=k;f.make=c}),null);
__d("MWMSParseMarketplaceBanner.bs",["bs_caml_option","CurrentUser"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return;var c=a.buyer_fbid,d=a.seller_fbid,e=a.for_sale_item,f=a.is_eligible_to_rate,g=a.thread_fbid;a=a.is_seller_eligible_for_shipping;if(c==null)return;if(d==null)return;if(e==null)return;if(f==null)return;if(g==null)return;var h=e.story_id,i=e.product_item_id;if(h==null)return;if(i==null)return;var j=e.title;j=j==null?"":j;var k=e.price;k=k==null?"":k;var l=e.location,m;if(l==null)m=void 0;else{l=l.reverse_geocode;if(l==null)m=void 0;else{var n=l.city;l=l.state;m=n==null||l==null?void 0:n+(", "+l)}}n=e.is_sold;l=e.is_pending;n=n?0:l?1:2;return{title:j,url:e.url,price:k,imageURI:b("bs_caml_option").nullable_to_opt(e.image_uri),location:m,status:n,sellerID:d,buyerID:c,userID:b("CurrentUser").getID(),storyID:h,listingID:e.id,isEligibleToRate:f,threadID:g,inventoryCount:b("bs_caml_option").nullable_to_opt(e.inventory_count),deliveryTypes:b("bs_caml_option").nullable_to_opt(e.delivery_types),productItemID:i,isSellerEligibleForShipping:a,isItemEligibleForShipping:e.c2c_shipping_eligible,isShippingOffered:e.is_shipping_offered}}f.parse=a}),null);
__d("MWMSInThreadBanner.bs",["React","bs_belt_Map","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs","MWMSMarketplaceSheet.bs","MWMSParseMarketplaceBanner.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));if(c===void 0)return null;a=b("MWMSParseMarketplaceBanner.bs").parse(b("bs_caml_option").valFromOption(c).marketplace_thread_data);if(a!==void 0)return g.jsx(b("MWMSMarketplaceSheet.bs").make,{url:a.url,imageURI:a.imageURI,title:a.title,price:a.price,location:a.location,status:a.status,sellerID:a.sellerID,buyerID:a.buyerID,userID:a.userID,storyID:a.storyID,listingID:a.listingID,isEligibleToRate:a.isEligibleToRate,threadID:a.threadID,inventoryCount:a.inventoryCount,deliveryTypes:a.deliveryTypes,productItemID:a.productItemID,isSellerEligibleForShipping:a.isSellerEligibleForShipping,isItemEligibleForShipping:a.isItemEligibleForShipping,isShippingOffered:a.isShippingOffered});else return null}c=a;f.make=c}),null);
__d("MWMSMediaSendManagerProvider.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.children}function b(a,b){return{children:a}}c=a;f.makeProps=b;f.make=c}),null);
__d("MWMSGetServerMessageID.bs",["CurrentUser","MessengerState.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a)}f.getServerMessageID=a}),null);
__d("MWChatXmaMessage.bs",["ix","fbt","URI","FBID.bs","MWXMA.bs","bs_string","gkx","bs_belt_Array","bs_caml_array","fbicon","bs_belt_Option","bs_caml_format","bs_caml_option","CurrentUser","MWChatMessageId.bs","bs_caml_splice_call","MWLSXmaIconParser.bs","recoverableViolation","XCometInstantGamesHubPlayControllerRouteBuilder"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){if(!b("gkx")("1251877"))return 34;a=a.subattachments;if(a==null)return 34;if(a.length===0)return 34;a=a[0].style_list;if(a==null)return 34;if(a.length===0)return 34;a=a[0];switch(a){case"video":case"video_autoplay":case"video_inline":return 0;default:return 34}}function a(a){var c=a.style_list;if(c==null)return;if(c.length===0)return;var d=0;while(!0){var e=d,f=b("bs_caml_array").get(c,e);switch(f){case"airline_boarding_pass":if(b("gkx")("1086307"))return 19;else return 33;case"airline_checkin_reminder":if(b("gkx")("1086307"))return 18;else return 33;case"airline_itinerary":if(b("gkx")("1086307"))return 22;else return 33;case"airline_update":if(b("gkx")("1086307"))return 17;else return 33;case"application_share_referral":return 24;case"attached_story":return j(a);case"business_message_items":return 2;case"fbpay_offer":return 23;case"in_thread_multiphoto_carousel":return 32;case"instant_games_custom_update":return 6;case"mentorship_curriculum_step":return 25;case"mentorship_xma":return 26;case"message_live_location":if(b("gkx")("1539348"))return 27;else return 33;case"message_location":if(b("gkx")("1597362"))return 30;else return 33;case"messenger_generic_template":return 35;case"messenger_platform_media_attachment":return 7;case"orion":return 21;case"orion_request":return 20;case"pages_platform_booking_message":return 5;case"messenger_platform_button_list":case"messenger_platform_compact_item":case"messenger_platform_cover_item":case"retail_item":return 3;case"retail_receipt":return 4;case"rooms_speakeasy_xma":return 16;case"share":return 34;case"shop_order_updates":case"shop_order_updates_collapsed":return 31;case"h_scroll":case"vertical_attachment_list":return 1;case"work_joinable_call_invite":return 28;case"work_meeting":return 29;default:if((e+1|0)>=c.length)return 33;d=e+1|0;continue}}}function k(a){switch(a){case 1:return 0;case 4:return 3;case 5:return 1;case 18:return 7;case 2:case 28:return 2;case 29:return 5;case 3:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 30:return 8;case 31:return 6;default:return 8}}function l(a){switch(a){case"OPEN_NATIVE":return 0;case"OPEN_URL":return 2;default:return 8}}function m(a){a=new(i||(i=b("URI")))(a).getQueryData();var c=a.game_id,d=a.payload,e=a.context_id,f=a.context_type;a=a.source;return b("XCometInstantGamesHubPlayControllerRouteBuilder").buildURL({context_source_id:e,context_type:f,gameorlink:c,payload:d,source:a})}function n(a,c,d){var e=d.title,f={pageId:d.page_id,ctaId:d.id},g=d.action_link;g=g==null?void 0:b("bs_caml_option").some(g);var h=k(d.action_type),j=0;switch(h){case 1:if(a===void 0)return;var l=b("bs_belt_Option").getWithDefault(b("MWChatMessageId.bs").getMessageId(a),"");return{TAG:4,_0:{TAG:2,_0:{ctaId:d.id,messageId:l}},_1:f};case 2:return b("bs_belt_Option").map(g,function(a){return{TAG:0,_0:a,_1:"_blank",_2:f}});case 3:if(a===void 0)return;l=b("bs_belt_Option").getWithDefault(b("MWChatMessageId.bs").getMessageId(a),"");return{TAG:2,_0:e,_1:{cta_id:d.id,prev_message_id:l,ref:void 0,force_handle:!0,postback_cta_ref_source:void 0},_2:f};case 5:a=d.cta_data;if(!(a==null))return{TAG:4,_0:{TAG:4,_0:{firstScreen:a.feedback_form_first_screen,privacy:a.feedback_form_privacy_policy,formId:a.feedback_form_id,pageId:d.page_id}},_1:f};else return;case 6:return b("bs_belt_Option").map(g,function(a){a=new(i||(i=b("URI")))(a).getQueryData();var c=a.page_id;a=a.guest_id;return{TAG:4,_0:{TAG:11,_0:{pageId:c,guestId:a}},_1:f}});case 7:l=d.cta_data;if(!(l==null))return{TAG:4,_0:{TAG:6,_0:{firstScreen:l.form_first_screen,formId:l.form_id,currentIndex:l.form_current_screen_index,numScreens:l.form_num_screens,color:l.form_color_theme}},_1:f};else return;case 0:case 4:case 8:j=2;break}j===2&&c!==void 0&&c!==6;if(b("bs_belt_Option").mapWithDefault(g,!1,function(a){return a.startsWith("fb-messenger://instant_games")}))return b("bs_belt_Option").map(g,function(a){return{TAG:0,_0:m(a),_1:"_self",_2:f}});else if(c!==void 0&&!(!(c===3||c===2)||h!==0))return b("bs_belt_Option").map(g,function(a){return{TAG:4,_0:{TAG:14,_0:{actionLink:a,pageID:d.page_id,userID:b("bs_caml_option").some(b("CurrentUser").getID()),sourceTitle:e}},_1:f}});else return}function o(a,c){var d=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.title),"");c=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.description),"");return{preview:void 0,title:d,description:c,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:{_0:[{title:h._("See Details"),action:{TAG:4,_0:{TAG:0,_0:{offerId:a.id,title:d}},_1:void 0}}]},canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function p(a,c){var d=c.media,e;if(d==null)e=void 0;else{d=d.image;e=d==null?void 0:{TAG:0,_0:d,_1:{expand:!1}}}return{preview:e,title:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.title),""),description:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.description),""),headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:{_0:[{title:h._("Quy \u0111\u1ed5i"),action:{TAG:0,_0:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.referral_offer_link),""),_1:"_blank",_2:void 0}}]},canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function q(a,c,d){var e=d.metalines;e=e==null?void 0:b("bs_caml_option").nullable_to_opt(e.metaline_1);var f=d.default_action,g;if(f==null)g=void 0;else{var h={pageId:f.page_id,ctaId:f.id},i=f.action_link;i=i==null?void 0:b("bs_caml_option").some(i);var j=f.action_open_type;j=j==null?8:l(j);if(j>=3)g=void 0;else switch(j){case 0:g=b("bs_belt_Option").map(i,function(a){return{_0:{TAG:4,_0:{TAG:14,_0:{actionLink:a,pageID:f.page_id,userID:b("bs_caml_option").some(b("CurrentUser").getID()),sourceTitle:f.title}},_1:h}}});break;case 1:g=void 0;break;case 2:g=b("bs_belt_Option").map(i,function(a){return{_0:{TAG:0,_0:a,_1:"_blank",_2:h}}});break}}j=d.call_to_actions;if(j==null)i=void 0;else{j=b("bs_belt_Array").keepMap(j.filter(function(a){return a.action_type!==12}),function(d){var e=a!==void 0?n(a,c,d):n(void 0,c,d);return b("bs_belt_Option").map(e,function(a){return{title:d.title,action:a}})});i={_0:j}}j=d.media_blob_attachments;var k;if(j==null||j.length===0)k=void 0;else{j=j[0];var m=j.__typename;if(m==null)k=void 0;else{var o=0;switch(m){case"MessageVideo":m=j.legacy_attachment_id;var p=j.original_dimensions,q=j.playable_url;if(m==null||p==null||q==null)k=void 0;else{var r=p.y;p=p.x;k=r==null||p==null?void 0:{TAG:1,_0:q,_1:b("FBID.bs").ofStringExn(m),_2:{height:r,width:p,expand:!1},_3:!1}}break;case"MessageAnimatedImage":case"Photo":o=1;break;case"Video":q=j.id;m=j.height;r=j.width;p=j.playable_url;k=q==null||m==null||r==null||p==null?void 0:{TAG:1,_0:p,_1:q,_2:{height:m,width:r,expand:!1},_3:!1};break;default:k=void 0}if(o===1){p=j.large_preview;if(p==null)k=void 0;else{q=p.uri;k=q==null?void 0:{TAG:0,_0:q,_1:{expand:!1}}}}}}return{preview:k!==void 0?k:b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(d.thumb_url),function(a){return{TAG:0,_0:a,_1:{expand:!1}}}),title:b("bs_caml_option").nullable_to_opt(d.title),description:e,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:g,action:i,canForward:i===void 0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function r(a,b,c){var d=b.items;if(d==null)return;if(d.length===0)return q(c,a,b);b=d[0];return q(c,a,b)}function s(a,b){var c=b.items;if(c==null)return;if(c.length===0)return q(void 0,a,b);b=c[0];return q(void 0,a,b)}function t(a,c,d){var e=c.media,f;if(e==null)f=void 0;else{e=e.image;f=e==null?void 0:{TAG:0,_0:e,_1:{expand:!1}}}var g=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.title),"");e=a.is_expired;a=!(e==null)&&!e?b("bs_belt_Option").map(b("MWChatMessageId.bs").getMessageId(d),function(a){return{_0:{TAG:4,_0:{TAG:8,_0:{titleString:g,messageId:a}},_1:void 0}}}):void 0;return{preview:f,title:g,description:b("bs_caml_option").nullable_to_opt(c.description),headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:a,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function c(a,c){var d=a.media,e;if(d==null)e=void 0;else{d=d.image;e=d==null?void 0:{TAG:0,_0:d,_1:{expand:!1}}}d=a.title;var f=b("bs_belt_Option").map(b("MWChatMessageId.bs").getMessageId(c),function(a){return{_0:{TAG:4,_0:{TAG:9,_0:{msgId:a}},_1:void 0}}});return{TAG:1,_0:{preview:e,title:d==null?void 0:b("bs_caml_option").some(d),description:b("bs_caml_option").nullable_to_opt(a.description),headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:f,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]},_1:void 0,_2:c}}function u(a,c){if(!b("gkx")("1251877"))return;a=c.subattachments;if(a==null)return;if(a.length===0)return;a=a[0];var d=a.target,e=a.media;if(d==null)return;if(e==null)return;d=d.video_id;var f=e.image_size;if(d==null)return;if(f==null)return;var g=f.height;f=f.width;if(g==null)return;if(f==null)return;var h=e.source;e=e.image;e=h==null?e==null?void 0:{TAG:0,_0:e,_1:{expand:!0}}:{TAG:1,_0:h,_1:d,_2:{height:g,width:f,expand:!0},_3:!1};h=a.title;d=h==null||h===""?b("bs_caml_option").nullable_to_opt(c.description):h==null?void 0:b("bs_caml_option").some(h);g=a.uri;return{preview:e,title:d,description:b("bs_caml_option").nullable_to_opt(c.source),headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:g==null?(b("recoverableViolation")("Shared video is missing a url","messenger"),void 0):{_0:{TAG:0,_0:g,_1:"_self",_2:void 0}},action:void 0,canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function v(a,c){var d=c.items;d=d==null?"0":String(d.length);var e=c.total_cost;e=e==null?"":e;var f=c.payment_method;f=f==null?"":f;var i="",j="",k="",l=c.structured_address;if(!(l==null)){var m=l.city;i=m==null?"":m;m=l.country;m==null?"":m;m=l.postal_code;j=m==null?"":m;m=l.state;k=m==null?"":m}l=b("bs_string").concat(" ",{hd:d,tl:{hd:"items",tl:{hd:e,tl:0}}});m=h._("{receipt_subtitle}",[h._param("receipt_subtitle",l)]);d=f;e=i.length!==0?b("bs_string").concat("",{hd:i,tl:{hd:", ",tl:{hd:k,tl:{hd:" ",tl:{hd:j,tl:0}}}}}):void 0;l=b("bs_belt_Array").keepMap([m,d,e],function(a){return a}).join("\n");return{preview:void 0,title:h._("X\u00e1c nh\u1eadn \u0111\u01a1n \u0111\u1eb7t h\u00e0ng"),description:l,headerIcon:void 0,headerTitle:void 0,icon:{TAG:0,_0:{icon:b("fbicon")._(g("498146"),20),color:"white"}},defaultAction:b("bs_belt_Option").map(b("MWChatMessageId.bs").getMessageId(a),function(a){return{_0:{TAG:4,_0:{TAG:1,_0:{receiptId:b("bs_caml_option").nullable_to_opt(c.receipt_id),messageId:a}},_1:void 0}}}),action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function w(a,b,c){var d=a.pageID;d=d==null?"":d;a=a.id;return{preview:void 0,title:b,description:c,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:{_0:[{title:h._("Xem chi ti\u1ebft"),action:{TAG:4,_0:{TAG:10,_0:{pageId:d,requestId:a}},_1:void 0}}]},canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}var x={TAG:0,_0:{icon:b("fbicon")._(g("571771"),20),color:"tomato"}};function y(a){var b=a.arrival_airport.airport_code,c=a.arrival_time_info.formatted_time_for_display,d=a.departure_airport.airport_code;a=a.departure_time_info.formatted_time_for_display;d=h._("Kh\u1edfi h\u00e0nh t\u1eeb {departure airport}{punctuation to separate airport and time}{departure time}",[h._param("departure airport",d),h._param("punctuation to separate airport and time"," \u2022 "),h._param("departure time",a)]);a=h._("\u0110\u1ebfn {arrival airport}{punctuation to separate airport and time}{arrival time}",[h._param("arrival airport",b),h._param("punctuation to separate airport and time"," \u2022 "),h._param("arrival time",c)]);return[d,a]}function z(a){var c=a.flight_infos,d;if(c==null)d=["","",""];else{var e=c.length;if(e!==0){e=y(b("bs_caml_array").get(c,0));d=[b("bs_caml_array").get(c,0).flight_number,e[0],e[1]]}else d=["","",""]}c=h._("Th\u1eddi gian l\u00e0m th\u1ee7 t\u1ee5c cho chuy\u1ebfn bay {flight number}",[h._param("flight number",d[0])]);return{preview:void 0,title:c,description:[d[1],d[2]].join("\n"),headerIcon:void 0,headerTitle:void 0,icon:x,defaultAction:void 0,action:{_0:[{title:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.checkin_cta_label),""),action:{TAG:0,_0:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.checkin_url),""),_1:"_blank",_2:void 0}}]},canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function A(a){var b=a.flight_info,c;if(b==null)c=["","","","","",""];else{var d=y(b);c=[b.flight_number,b.arrival_airport.airport_code,b.departure_airport.airport_code,b.departure_airport.gate,d[0],d[1]]}b=c[2];d=c[0];a=a.update_type;var e;if(a==null)e=[void 0,void 0,void 0];else switch(a){case"FLIGHT CANCELLATION":a=h._("Kh\u1edfi h\u00e0nh t\u1eeb {departure airport}{punctuation to separate airport and flight cancellation}\u0110\u00e3 h\u1ee7y",[h._param("departure airport",b),h._param("punctuation to separate airport and flight cancellation"," \u2022 ")]);var f=h._("\u0110\u1ebfn {arrival airport}{punctuation to separate airport and flight cancellation}\u0110\u00e3 h\u1ee7y",[h._param("arrival airport",c[1]),h._param("punctuation to separate airport and flight cancellation"," \u2022 ")]),g=h._("Chuy\u1ebfn bay {flight number} \u0111\u00e3 b\u1ecb h\u1ee7y",[h._param("flight number",d)]);e=[g,a,f];break;case"FLIGHT DELAY":g=h._("Chuy\u1ebfn bay {flight number} \u0111\u00e3 b\u1ecb ho\u00e3n",[h._param("flight number",d)]);e=[g,c[4],c[5]];break;case"GATE CHANGE":a=h._("Kh\u1edfi h\u00e0nh t\u1eeb {departure airport}{punctuation to separate airport and gate}C\u1ed5ng {gate}",[h._param("departure airport",b),h._param("punctuation to separate airport and gate"," \u2022 "),h._param("gate",c[3])]);e=[h._("Thay \u0111\u1ed5i c\u1ed5ng cho Chuy\u1ebfn bay {flight number}",[h._param("flight number",d)]),a,void 0];break;default:e=[void 0,void 0,void 0]}return{preview:void 0,title:e[0],description:[e[1],e[2]].join("\n"),headerIcon:void 0,headerTitle:void 0,icon:x,defaultAction:void 0,action:void 0,canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function B(a){var c=a.boarding_passes,d;if(c==null)d=["","","","",void 0,[]];else{c=c.nodes;var e=c.length,f=b("bs_caml_array").get(c,0).flight_info,g=y(f),i=g[1];g=g[0];d=e!==0?e!==1?[f.flight_number,g,i,h._("{passenger count} h\u00e0nh kh\u00e1ch",[h._param("passenger count",String(e))]),void 0,c]:[f.flight_number,g,i,b("bs_caml_array").get(c,0).passenger.passenger.name,b("bs_caml_array").get(c,0).qr_code_image_url,c]:["","","","",void 0,[]]}e=h._("Chuy\u1ebfn bay {flight number}",[h._param("flight number",d[0])]);return{preview:b("bs_belt_Option").map(d[4],function(a){return{TAG:0,_0:a,_1:{expand:!0}}}),title:e,description:[d[1],d[2],d[3]].filter(function(a){return a!==""}).join("\n"),headerIcon:void 0,headerTitle:void 0,icon:x,defaultAction:void 0,action:{_0:[{title:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.view_boarding_pass_cta_label),""),action:{TAG:4,_0:{TAG:7,_0:d[5]},_1:{pageId:"",ctaId:""}}}]},canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function C(a){var b=a.aircraft_type_label;b=b==null?"":b;var c=a.arrival_time_label;c=c==null?"":c;var d=a.base_price_label;d=d==null?"":d;var e=a.booking_number_label;e=e==null?"":e;var f=a.departure_time_label;f=f==null?"":f;var g=a.flight_confirmation_label;g=g==null?"":g;var h=a.flight_date_label;h=h==null?"":h;var i=a.flight_label;i=i==null?"":i;var j=a.flight_terminal_label;j=j==null?"":j;var k=a.itinerary_error_title_label;k=k==null?"":k;var l=a.itinerary_title_label;l=l==null?"":l;var m=a.passenger_name_label;m=m==null?"":m;var n=a.passenger_names_label;n=n==null?"":n;var o=a.passenger_seat_label;o=o==null?"":o;var p=a.purchase_summary_label;p=p==null?"":p;var q=a.taxes_label;q=q==null?"":q;a=a.total_label;a=a==null?"":a;return{aircraftTypeLabel:b,arrivalTimeLabel:c,basePriceLabel:d,bookingNumberLabel:e,departureTimeLabel:f,flightConfirmationLabel:g,flightDateLabel:h,flightLabel:i,flightTerminalLabel:j,itineraryErrorTitleLabel:k,itineraryTitleLabel:l,passengerNameLabel:m,passengerNamesLabel:n,passengerSeatLabel:o,purchaseSummaryLabel:p,taxesLabel:q,totalLabel:a}}function D(a){var c=a.confirmation_number;c=c==null?"":c;var d=a.formatted_tax;d=d==null?"":d;var e=a.formatted_base_price;e=e==null?"":e;var f=a.formatted_total;f=f==null?"":f;var g=a.passenger_infos;g=g==null?0:g.length;var i=a.itemized_price_infos;i=i==null?[]:i;var j=a.itinerary_legs,k;if(j==null)k=[0,"",void 0];else{var l=j.nodes.length;if(l!==0){j=b("bs_caml_array").get(j.nodes,0).segments.nodes;var m=C(a);e={confirmation_number:c,formatted_base_price:e,formatted_tax:d,formatted_total:f,itinerary_details:j,itemized_price_infos:i,labels:m};d=j.length;k=d!==0?[l,b("bs_caml_array").get(j,0).flight_info.flight_number,b("bs_caml_option").some(e)]:[0,"",void 0]}else k=[0,"",void 0]}f=k[2];i=h._("H\u00e0nh tr\u00ecnh bay");m=h._("\u0110ang \u0111\u1eb7t {confirmation number}{punctuation to separate confimation number and flight number}{flight number}",[h._param("confirmation number",c),h._param("punctuation to separate confimation number and flight number"," \u2022 "),h._param("flight number",k[1])]);d=h._("{flight numbers} chuy\u1ebfn bay{punctuation to separate flight numbers and passenger numbers}{passenger numbers} h\u00e0nh kh\u00e1ch",[h._param("flight numbers",String(k[0])),h._param("punctuation to separate flight numbers and passenger numbers"," \u2022 "),h._param("passenger numbers",String(g))]);return{preview:void 0,title:i,description:b("bs_belt_Array").keepMap([m,d],function(a){return a}).join("\n"),headerIcon:void 0,headerTitle:void 0,icon:x,defaultAction:void 0,action:f!==void 0?{_0:[{title:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.view_details_cta_label),""),action:{TAG:4,_0:{TAG:12,_0:b("bs_caml_option").valFromOption(f)},_1:{pageId:"",ctaId:""}}}]}:void 0,canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function E(a){var b=a.ls_xma_title;b=b==null?"":b;var c=a.ls_xma_subtitle;c=c==null?"":c;a=a.requestMetadata;if(!(a==null))return w(a,b,c)}function F(a,c){var d=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.amountWithSymbol),"")+" ",e=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.memoText),""),f=a.receiver;f=f==null?void 0:b("bs_caml_option").some(f.id);var i=a.status;i=i==null?void 0:b("bs_caml_option").some(i);if(b("bs_caml_option").some(b("CurrentUser").getID())===f&&i!==9){f={_0:b("bs_belt_Array").keepMap([i===4?{title:h._("Nh\u1eadn ti\u1ec1n"),action:{TAG:4,_0:{TAG:19,_0:{id:a.transfer_id,currentStatus:a.status}},_1:void 0}}:i===6?{title:h._("X\u00e1c minh th\u00f4ng tin"),action:{TAG:4,_0:{TAG:20,_0:{id:a.transfer_id,currentStatus:a.status}},_1:void 0}}:void 0,i===4||i===6?{title:h._("T\u1eeb ch\u1ed1i"),action:{TAG:4,_0:{TAG:18,_0:{id:a.transfer_id,currentStatus:a.status}},_1:void 0}}:void 0],function(a){return a})};i=f._0.length>0?f:void 0}else i=void 0;f=a.status;var j;if(f==null)j="";else switch(f){case 5:j=h._("B\u1ecb t\u1eeb ch\u1ed1i");break;case 13:j=h._("Ho\u00e0n t\u1ea5t");break;case 14:j=h._("\u0110ang x\u1eed l\u00fd");break;case 3:case 10:case 11:case 12:case 16:case 19:j=h._("\u0110\u00e3 b\u1ecb h\u1ee7y");break;case 1:case 2:case 4:case 6:case 7:case 8:case 9:case 15:case 17:case 18:case 20:case 21:j=h._("\u0110ang ch\u1edd");break;default:j=""}f=a.status;var k;if(f==null)k="gray";else switch(f){case 3:case 5:case 10:case 11:case 12:case 13:case 14:case 16:case 19:k="gray";break;case 1:case 2:case 4:case 6:case 7:case 8:case 9:case 15:case 17:case 18:case 20:case 21:k="lime";break;default:k="gray"}return{preview:void 0,title:e.length>0?h._("{amount_with_symbol} cho {memo_text}",[h._param("amount_with_symbol",d),h._param("memo_text",e)]):h._("{amount_with_symbol}",[h._param("amount_with_symbol",d)]),description:j,headerIcon:void 0,headerTitle:void 0,icon:{TAG:0,_0:{icon:b("fbicon")._(g("847056"),20),color:k}},defaultAction:b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.uri),function(a){return{_0:{TAG:0,_0:a,_1:"_blank",_2:void 0}}}),action:i,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function G(a,c){var d=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.amountWithSymbol),"")+" ",e=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.memoText),""),f=a.requestee;f=f==null?void 0:b("bs_caml_option").some(f.id);f=b("bs_caml_option").nullable_to_opt(a.currentStatus)===1?b("bs_caml_option").some(b("CurrentUser").getID())===f?{_0:[{title:h._("T\u1eeb ch\u1ed1i"),action:{TAG:4,_0:{TAG:17,_0:{id:a.id,currentStatus:a.currentStatus}},_1:void 0}},{title:h._("Thanh to\u00e1n"),action:{TAG:4,_0:{TAG:16,_0:{id:a.id,currentStatus:a.currentStatus}},_1:void 0}}]}:b("bs_caml_option").nullable_to_opt(a.groupThreadFBID)!==void 0?void 0:{_0:[{title:h._("H\u1ee7y"),action:{TAG:4,_0:{TAG:15,_0:{id:a.id,currentStatus:a.currentStatus}},_1:void 0}}]}:void 0;var i=a.currentStatus,j;if(i==null)j="";else switch(i){case 1:j=h._("\u0110ang ch\u1edd");break;case 2:j=h._("\u0110\u00e3 t\u1eeb ch\u1ed1i");break;case 3:j=h._("\u0110\u00e3 b\u1eaft \u0111\u1ea7u");break;case 4:j=h._("\u0110\u00e3 ho\u00e0n t\u1ea5t");break;case 5:j=h._("Kh\u00f4ng th\u00e0nh c\u00f4ng");break;case 6:j=h._("\u0110\u00e3 h\u1ee7y");break;case 7:j=h._("\u0110\u00e3 h\u1ebft h\u1ea1n");break;default:j=""}i=a.currentStatus;return{preview:void 0,title:e.length>0?h._("Y\u00eau c\u1ea7u {amount_with_symbol} cho {memo_text}",[h._param("amount_with_symbol",d),h._param("memo_text",e)]):h._("Y\u00eau c\u1ea7u {amount_with_symbol}",[h._param("amount_with_symbol",d)]),description:j,headerIcon:void 0,headerTitle:void 0,icon:{TAG:0,_0:{icon:b("fbicon")._(g("847056"),20),color:i==null?"gray":i>=3?i>=5?"gray":"lime":i!==1?"gray":"lime"}},defaultAction:b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.uri),function(a){return{_0:{TAG:0,_0:a,_1:"_blank",_2:void 0}}}),action:f,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function d(a,c){var d=c.title;d=d==null||d===""?b("bs_caml_option").nullable_to_opt(c.description):d==null?void 0:b("bs_caml_option").some(d);return{TAG:1,_0:{preview:b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(c.media),function(a){a=a.image;if(!(a==null))return{TAG:0,_0:a,_1:{expand:!1}}}),title:d,description:b("bs_caml_option").nullable_to_opt(c.source),headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.uri),function(a){return{_0:{TAG:0,_0:a,_1:"_blank",_2:void 0}}}),action:void 0,canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]},_1:void 0,_2:a}}function H(a){a=a.messenger_generic_xma_template_extra_info;if(a==null)return[];else{var c;return b("bs_caml_splice_call").spliceObjApply([],"concat",[[[(c=b("bs_caml_option")).nullable_to_opt(a.media_owner_profile_name),c.nullable_to_opt(a.media_owner_profile_pic_uri),c.nullable_to_opt(a.favicon_url),c.nullable_to_opt(a.favicon_url_fallback),c.nullable_to_opt(a.default_cta),c.nullable_to_opt(a.cta1),c.nullable_to_opt(a.cta2),c.nullable_to_opt(a.cta3),c.nullable_to_opt(a.list_item_id_1),c.nullable_to_opt(a.list_item_title_text_1),c.nullable_to_opt(a.list_item_contact_url_list_1),c.nullable_to_opt(a.list_item_contact_url_expiration_timestamp_list_1),c.nullable_to_opt(a.list_item_contact_url_fallback_list_1)]].map(function(a){var c=a[8];if(c===void 0)return[];var d=b("bs_belt_Option").mapWithDefault(a[10],[],function(a){return a.split(",")}),e=b("bs_belt_Option").mapWithDefault(a[11],[],function(a){return a.split(",")}),f=b("bs_belt_Option").mapWithDefault(a[12],[],function(a){return a.split(",")});return[{id:b("bs_caml_format").caml_int64_of_string(c),titleText:a[9],contacts:d.map(function(a,c){return{url:a,urlExpirationTimestamp:b("bs_caml_array").get(e,c),urlFallback:b("bs_caml_array").get(f,c)}}),progressBarFilledPercentage:void 0}]})])}}function e(a,c){var d,e=c.messenger_ctas;return{TAG:1,_0:{preview:(d=b("MWXMA.bs")).emptyContent.preview,title:b("bs_caml_option").nullable_to_opt(c.title),description:b("bs_caml_option").nullable_to_opt(c.description),headerIcon:d.emptyContent.headerIcon,headerTitle:d.emptyContent.headerTitle,icon:{TAG:0,_0:{icon:b("fbicon")._(g("662993"),20),color:"gray"}},defaultAction:d.emptyContent.defaultAction,action:{_0:[{title:h._("See Details"),action:{TAG:0,_0:!(e==null)&&e.length===1?e[0].action_url:b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(c.uri)),_1:"_blank",_2:void 0}}]},canForward:b("MWXMA.bs").emptyContent.canForward,listItemsId:b("MWXMA.bs").emptyContent.listItemsId,listItemsDescriptionText:b("MWXMA.bs").emptyContent.listItemsDescriptionText,listItemsSecondaryDescriptionText:b("MWXMA.bs").emptyContent.listItemsSecondaryDescriptionText,listItems:H(c)},_1:void 0,_2:a}}function I(a,c){var d=c.messenger_ctas,e,f=0;if(d==null||d.length!==1)f=1;else{d=d[0];e={_0:[{title:d.action_title,action:{TAG:4,_0:{TAG:24,_0:{linkUrl:d.action_url}},_1:void 0}}]}}if(f===1){d=c.uri;e=d==null?void 0:{_0:[{title:h._("Join Room"),action:{TAG:0,_0:d,_1:"_blank",_2:void 0}}]}}return{TAG:1,_0:{preview:b("MWXMA.bs").emptyContent.preview,title:b("bs_caml_option").nullable_to_opt(c.title),description:b("bs_caml_option").nullable_to_opt(c.description),headerIcon:b("MWXMA.bs").emptyContent.headerIcon,headerTitle:b("MWXMA.bs").emptyContent.headerTitle,icon:{TAG:0,_0:{icon:b("fbicon")._(g("662993"),20),color:"gray"}},defaultAction:b("MWXMA.bs").emptyContent.defaultAction,action:e,canForward:b("MWXMA.bs").emptyContent.canForward,listItemsId:b("MWXMA.bs").emptyContent.listItemsId,listItemsDescriptionText:b("MWXMA.bs").emptyContent.listItemsDescriptionText,listItemsSecondaryDescriptionText:b("MWXMA.bs").emptyContent.listItemsSecondaryDescriptionText,listItems:H(c)},_1:void 0,_2:a}}function J(a,c){var d=c.messenger_ctas,e,f=0;if(d==null||d.length!==1)f=1;else{d=d[0];e={_0:[{title:d.action_title,action:{TAG:4,_0:{TAG:23,_0:{linkUrl:d.action_url}},_1:void 0}}]}}if(f===1){d=c.uri;e=d==null?void 0:{_0:[{title:"Try again",action:{TAG:0,_0:d,_1:"_blank",_2:void 0}}]}}return{TAG:1,_0:{preview:b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(c.media),function(a){a=a.image;if(!(a==null))return{TAG:0,_0:a,_1:{expand:!1}}}),title:b("bs_caml_option").nullable_to_opt(c.title),description:b("bs_caml_option").nullable_to_opt(c.description),headerIcon:b("MWXMA.bs").emptyContent.headerIcon,headerTitle:b("MWXMA.bs").emptyContent.headerTitle,icon:b("MWXMA.bs").emptyContent.icon,defaultAction:b("MWXMA.bs").emptyContent.defaultAction,action:e,canForward:b("MWXMA.bs").emptyContent.canForward,listItemsId:b("MWXMA.bs").emptyContent.listItemsId,listItemsDescriptionText:b("MWXMA.bs").emptyContent.listItemsDescriptionText,listItemsSecondaryDescriptionText:b("MWXMA.bs").emptyContent.listItemsSecondaryDescriptionText,listItems:b("MWXMA.bs").emptyContent.listItems},_1:void 0,_2:a}}function K(a){return{preview:void 0,title:b("bs_caml_option").nullable_to_opt(a.module_name),description:b("bs_caml_option").nullable_to_opt(a.curriculum_message),headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function L(a){var c=a.media,d;if(c==null)d=void 0;else{c=c.image;d=c==null?void 0:{TAG:0,_0:c,_1:{expand:!1}}}c=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(a.uri),function(a){return{_0:{TAG:0,_0:a,_1:"_blank",_2:void 0}}});return{preview:d,title:b("bs_caml_option").nullable_to_opt(a.title),description:void 0,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:c,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function M(a){var c=h._("B\u1ea1n c\u00f3 mu\u1ed1n ti\u1ebfp t\u1ee5c kh\u00f4ng?"),d=a.mentorship_program,e;if(d==null)e="";else{d=d.other_member;if(d==null)e="";else{d=d.short_name;e=d==null?"":d}}d=h._("\u0110\u00e3 l\u00e2u r\u1ed3i b\u1ea1n v\u00e0 {partner_name} kh\u00f4ng tr\u00f2 chuy\u1ec7n v\u1edbi nhau. B\u1ea1n c\u00f3 th\u1ec3 ti\u1ebfp t\u1ee5c nh\u1eadn h\u01b0\u1edbng d\u1eabn trong ch\u01b0\u01a1ng tr\u00ecnh \u0111\u1ecbnh h\u01b0\u1edbng ho\u1eb7c k\u1ebft th\u00fac ch\u01b0\u01a1ng tr\u00ecnh n\u00e0y t\u1ea1i \u0111\u00e2y (n\u1ebfu \u0111\u00e3 s\u1eb5n s\u00e0ng).",[h._param("partner_name",e)]);e=h._("K\u1ebft th\u00fac ch\u01b0\u01a1ng tr\u00ecnh");var f=a.mentorship_program;f=f==null?void 0:b("bs_caml_option").some(f);return{preview:void 0,title:c,description:d,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:f!==void 0?{_0:[{title:e,action:{TAG:4,_0:{TAG:13,_0:{programID:b("bs_caml_option").valFromOption(f).id,promptID:a.id}},_1:void 0}}]}:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function N(a){var b=a.xma_type;return!(b==null)&&b==="MENTORSHIP_MESSENGER_LEAVE_PROMPT"?M(a):{preview:void 0,title:void 0,description:void 0,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function O(a,c){var d=c.messenger_generic_xma_template_extra_info;d=d==null?[void 0,void 0,void 0]:[b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(d.media_owner_profile_pic_uri),b("MWLSXmaIconParser.bs").parse),b("bs_caml_option").nullable_to_opt(d.media_owner_profile_name),b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(d.default_cta),function(a){return b("bs_caml_option").nullable_to_opt(a.action_url)}),function(a){return{_0:{TAG:0,_0:a,_1:"_blank",_2:void 0}}})];return{TAG:1,_0:{preview:b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(c.media),function(a){a=a.image;if(!(a==null))return{TAG:0,_0:a,_1:{expand:!1}}}),title:b("bs_caml_option").nullable_to_opt(c.title),description:b("bs_caml_option").nullable_to_opt(c.source),headerIcon:d[0],headerTitle:d[1],icon:void 0,defaultAction:d[2],action:void 0,canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]},_1:void 0,_2:a}}function P(a){var c=a.reply_image_uri;c=c==null?void 0:{TAG:0,_0:c,_1:{expand:!1}};var d=a.reply_image_uri,e=a.cta_title,f=a.action_prefill;return{preview:c,title:void 0,description:void 0,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:!(d==null)&&!(e==null)&&!(f==null)?{_0:[{title:e,action:{TAG:4,_0:{TAG:25,_0:{message:f,image:d,platformToken:'{"is_xma_cta_reply": true}',loggingDetails:{ad_id:b("bs_caml_option").nullable_to_opt(a.ad_id),consumer_id:b("bs_caml_option").nullable_to_opt(a.customer_id),index:b("bs_caml_option").nullable_to_opt(a.index),page_id:b("bs_caml_option").nullable_to_opt(a.page_id)}}},_1:void 0}}]}:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function Q(a,b,c,d){if(d===void 0)return s(d,a);switch(d){case 0:return u(a,b);case 2:return r(d,a,c);case 3:return q(c,d,a);case 4:return v(c,a);case 5:return E(a);case 17:return A(a);case 18:return z(a);case 19:return B(a);case 20:return G(a,b);case 21:return F(a,b);case 22:return D(a);case 23:return o(a,b);case 24:return p(a,b);case 25:return K(a);case 26:return N(a);case 27:return t(a,b,c);case 31:return L(b);case 32:return P(a);case 1:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 28:case 29:case 30:case 33:case 34:case 35:return s(d,a)}}f.parseXMATypeForAttachedStory=j;f.parseXMAType=a;f.convertCTAType=k;f.convertDefaultActionType=l;f.getGameUrl=m;f.parseXMAGenericCta=n;f.parseFbpayOffer=o;f.parseApplicationShareReferral=p;f.parseXMAGenericItem=q;f.parseBusinessGeneric=r;f.parseFirstXMAGenericItemFromTarget=s;f.parseLiveLocationShare=t;f.parseStaticLocationShare=c;f.parseVideoShare=u;f.parseXMAReceipt=v;f.parseNativeBookingRequestMetadata=w;f.airlineIcon=x;f.getAirlineTemplateSubtitles=y;f.parseAirlineCheckIn=z;f.parseAirlineUpdate=A;f.parseAirlineBoardingPass=B;f.parseAirlineItineraryLabels=C;f.parseAirlineItinerary=D;f.parseNativeBookingRequest=E;f.parseP2pPaymentTransaction=F;f.parseP2pPaymentRequest=G;f.parseLinkShare=d;f.parseListItems=H;f.parseWorkMeeting=e;f.parseWorkJoinableCallInvite=I;f.parseRoomsRingback=J;f.parseMentorshipCurriculumStep=K;f.parseShopOrderUpdateXMA=L;f.parseMentorshipLeavePrompt=M;f.parseMentorshipXMA=N;f.parseGenericTemplate=O;f.parseInThreadMultiphotoCarousel=P;f.parseSingleXMATarget=Q}),null);
__d("MWMSParseMessage.bs",["FBID.bs","bs_array","bs_curry","MWXMA.bs","bs_js_exn","gkx","bs_js_dict","bs_caml_obj","bs_belt_Array","bs_caml_int64","LogHistory","MercuryIDs","bs_belt_Option","bs_caml_format","bs_caml_option","CurrentUser","GenderConst","MWChatMessage.bs","MWChatMessageId.bs","MWChatXmaMessage.bs","MercuryAudioType","MessengerMessage.bs","MercuryActionType","bs_caml_js_exceptions","MWChatTextFormatting","recoverableViolation","MessengerParticipants.bs","MWChatMessageUnsendability.bs","RepliedToMessageStatusForGraphQL"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f,g){var h=g.watermark;g=g.action;var i=a.name;c=b("bs_caml_obj").caml_lessequal(c.timestamp,h)||c.author===a.id&&b("bs_caml_obj").caml_notequal(c.action_type,b("MercuryActionType").LOG_MESSAGE)&&!d;if(e!==void 0){d=b("bs_caml_option").valFromOption(e);e=d.author===a.id||!b("bs_caml_obj").caml_greaterthan(d.timestamp,h)?!1:c}else e=c;d=a.big_image_src;if(!(d==null)&&e)return f.concat([{imageSrc:d,name:i,id:a.id,gender:a.gender,timestamp:g}]);else return f}function h(a,c,d,e,f,h){var i=b("bs_belt_Option").mapWithDefault(b("bs_caml_option").nullable_to_opt(h.last()),0,function(a){return a.watermark});i=d.timestamp<=i&&!d.is_one_way_sent;a=b("bs_js_dict").values(b("bs_belt_Option").getWithDefault(a,{})).reduce(function(a,f){return b("bs_belt_Option").mapWithDefault(b("bs_caml_option").nullable_to_opt(h.get(f.id)),a,function(b){return g(f,d,e,c,a,b)})},[]);var j=b("bs_caml_obj").caml_notequal(a,[]);if(j)return{_0:a};else if(e&&i)return 0;else return b("MessengerMessage.bs").getGutterItemStatus(d,f)}function i(a,c){var d=b("MessengerParticipants.bs").getNow(a),e=function(a){if(!(d==null))return d.name};a=b("MercuryIDs").getUserIDFromParticipantID(a);if(a==null)return e(void 0);c=b("bs_js_dict").get(c,a);if(c!==void 0)return c;else return e(void 0)}function j(a){a=b("MessengerParticipants.bs").getNow(a);if(a==null)return b("GenderConst").UNKNOWN_SINGULAR;else return a.gender}function k(a){if(a==null)return!1;else return a.includes("message:save")}function l(a,c){a=b("MWChatMessageId.bs").getMessageId(a);if(!(c==null)&&a!==void 0)return c.map(function(a){return a.message_id}).includes(a);else return!1}function m(a,c){a=a.reactions;if(a==null)return;if(Object.keys(a).length===0)return;var d={};b("bs_js_dict").entries(a).forEach(function(a){var e=a[1];a=b("FBID.bs").ofString(a[0]);a=a!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(a)):void 0;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var f=b("bs_js_dict").get(d,e),g=i(b("MercuryIDs").getParticipantIDFromUserID(a),c);f!==void 0?(f.push([a,g]),d[e]=f):d[e]=[[a,g]]});return b("bs_caml_option").some(d)}function n(a){var b=[];a==null||a.forEach(function(a){b.push({offset:a.offset,length:a.length,entity:{__typename:"Highlight"}})});return b}function o(a){a=a.reactions;if(!(a==null))return b("bs_js_dict").get(a,b("CurrentUser").getID())}function p(a,c,d){if(b("MWChatMessage.bs").isEmojiOnlyMessage(a))return{text:a,ranges:[],isForwarded:c.is_forwarded,isEmojiOnly:!0};d=b("MWChatMessage.bs").parseProfileRanges(d);var e=b("MWChatMessage.bs").findRanges(a),f=n(c.ranges),g=b("MWChatMessage.bs").employeeLinkRanges==null?[]:b("bs_curry")._1(b("MWChatMessage.bs").employeeLinkRanges.getURLRanges,a),h=b("MWChatTextFormatting").getFormattingRanges(a);return{text:a,ranges:b("bs_array").concat({hd:d,tl:{hd:e,tl:{hd:f,tl:{hd:g,tl:{hd:h,tl:0}}}}}),isForwarded:c.is_forwarded,isEmojiOnly:!1}}function q(a){var c=a.preview_url;if(c==null){b("LogHistory").getInstance("messenger-comet").error("message-parse-photo-no-preview","");b("recoverableViolation")("message-parse-photo-no-preview","messenger_comet");return}var d=a.app_attribution;d=d==null?void 0:{id:d.id,iconUrl:b("bs_caml_option").nullable_to_opt(d.icon_url),name:d.name};var e=a.metadata;e=e==null?void 0:b("bs_caml_option").nullable_to_opt(e.fbid);var f=a.preview_height;f=f==null?void 0:f|0;var g=a.preview_width;g=g==null?void 0:g|0;var h=a.attach_type;h=h==="animated_image"?!0:!1;return{TAG:1,_0:{isGIF:h,previewUrl:c,previewHeight:f,previewWidth:g,appAttribution:d,photoFbid:e,blurredImageUri:b("bs_caml_option").nullable_to_opt(a.blurred_image_uri),decryptionKey:void 0}}}function r(a){var c=a.preview_url,d=a.url,e=a.preview_height,f=a.preview_width,g=a.metadata;if(!(c==null)&&!(d==null)&&!(e==null)&&!(f==null)&&!(g==null)){return{TAG:7,_0:{height:e|0,width:f|0,previewUrl:c,fbid:(e=b("bs_caml_option")).nullable_to_opt(g.fbid),render_as_sticker:e.nullable_to_opt(g.render_as_sticker),dimensions:e.nullable_to_opt(g.dimensions),duration:e.nullable_to_opt(g.duration),large_size:e.nullable_to_opt(g.large_size),large_preview:e.nullable_to_opt(g.large_preview),inbox_size:e.nullable_to_opt(g.inbox_size),inbox_preview:e.nullable_to_opt(g.inbox_preview),url:d.toString(),decryptionKey:void 0}}}b("recoverableViolation")("Unsupported attachment type: "+a.attach_type,"messenger_comet")}function s(a){var c=a.name;c=c==null?void 0:b("bs_caml_option").some(c);var d=a.url;if(d==null){b("recoverableViolation")("missing attachment.url","messenger_comet");return}a=a.metadata;if(a==null)return{TAG:4,_0:{fileName:c,url:d}};var e=a.type;if(e==null)return{TAG:4,_0:{fileName:c,url:d}};if(e===b("MercuryAudioType").AudioClip||e===b("MercuryAudioType").FileAttachment||e===b("MercuryAudioType").VoiceMessageWithTranscript){c=a.duration;e=c==null?0:c/1e3;return{TAG:6,_0:{duration:e,url:d,decryptionKey:void 0}}}b("recoverableViolation")("message-parse-file-unknown-type","messenger_comet")}function t(a,c){var d=a.media;d=d==null?void 0:b("bs_caml_option").nullable_to_opt(d.image);var e=a.uri;d=d!==void 0?{TAG:0,_0:d,_1:{expand:!1}}:void 0;var f=b("bs_caml_option").nullable_to_opt(a.title);a=b("bs_caml_option").nullable_to_opt(a.description);e=e==null?void 0:{_0:{TAG:0,_0:e,_1:"_blank",_2:void 0}};var g=[];d={preview:d,title:f,description:a,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:e,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:g};return{TAG:8,_0:{TAG:1,_0:d,_1:void 0,_2:c}}}function u(a,c,d){var e,f=0;if(d!==void 0)if(d!==1)if(d>=16)switch(d-16|0){case 0:b("gkx")("1462436")?e=b("MWChatXmaMessage.bs").parseRoomsRingback(c,a):b("gkx")("1462436")?f=1:e=b("MWChatXmaMessage.bs").parseLinkShare(c,a);break;case 12:b("gkx")("1589958")?e=b("MWChatXmaMessage.bs").parseWorkJoinableCallInvite(c,a):f=1;break;case 13:b("gkx")("1676969")?e=b("MWChatXmaMessage.bs").parseWorkMeeting(c,a):f=1;break;case 14:b("gkx")("1597362")?e=b("MWChatXmaMessage.bs").parseStaticLocationShare(a,c):f=1;break;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 15:case 16:case 17:f=1;break;case 18:e=b("MWChatXmaMessage.bs").parseLinkShare(c,a);break;case 19:e=b("MWChatXmaMessage.bs").parseGenericTemplate(c,a);break}else f=1;else{var g=a.subattachments;if(g==null)e=void 0;else{g=b("bs_belt_Array").keepMap(g,function(d){return b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(d.target),function(e){return b("MWChatXmaMessage.bs").parseSingleXMATarget(e,a,c,b("MWChatXmaMessage.bs").parseXMAType(d))})});e={TAG:0,_0:g,_1:void 0,_2:c}}}else f=1;f===1&&(e=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(a.target),function(e){return b("MWChatXmaMessage.bs").parseSingleXMATarget(e,a,c,d)}),function(a){return{TAG:1,_0:a,_1:void 0,_2:c}}));if(e!==void 0)return{TAG:8,_0:e}}function v(a,c){var d=a.attach_type;switch(d){case"file":return s(a);case"animated_image":case"photo":return q(a);case"share":d=a.share;if(d==null)return{TAG:8,_0:{TAG:1,_0:b("MWXMA.bs").emptyContent,_1:void 0,_2:c.messageID}};var e=b("MWChatXmaMessage.bs").parseXMAType(d);if(e===33)return t(d,c.messageID);else return u(d,c.messageID,e);case"sticker":d=a.metadata;if(d==null){b("LogHistory").getInstance("messenger-comet").error("message-parse-sticker-no-metadata","");b("recoverableViolation")("message-parse-sticker-no-metadata","messenger_comet");return}c=a.url;e=d.accessibilityLabel;var f=d.frameCount,g=d.framesPerCol,h=d.framesPerRow;if(!(c==null)&&!(e==null)&&!(f==null)&&!(g==null)&&!(h==null)){return{TAG:0,_0:{accessibilityLabel:e,frameCount:f,frameRate:(e=b("bs_caml_option")).nullable_to_opt(d.frameRate),framesPerCol:g,framesPerRow:h,packID:e.nullable_to_opt(d.packID),paddedSpriteURI2x:e.nullable_to_opt(d.paddedSpriteURI2x),paddedSpriteURI:e.nullable_to_opt(d.paddedSpriteURI),spriteURI2x:e.nullable_to_opt(d.spriteURI2x),spriteURI:e.nullable_to_opt(d.spriteURI),stickerID:e.nullable_to_opt(d.stickerID),url:c.toString(),width:e.nullable_to_opt(d.width),height:e.nullable_to_opt(d.height)}}}b("LogHistory").getInstance("messenger-comet").error("message-parse-sticker-fail","");b("recoverableViolation")("message-parse-sticker-fail","messenger_comet");return;break;case"video":return r(a);default:b("recoverableViolation")("Unsupported attachment type: "+a.attach_type,"messenger_comet");b("LogHistory").getInstance("messenger-comet").error("message-parse-attachment-unsupported","");return}}function w(a){a=a.reduce(function(a,b){if(a===void 0)return;b=q(b);if(b!==void 0&&b.TAG===1)return a.concat([b._0])},[]);if(a!==void 0)return{TAG:2,_0:a}}function x(a){a=a.reduce(function(a,c){if(a===void 0)return;c=s(c);if(c===void 0)return;if(c.TAG===4)return a.concat([c._0]);b("recoverableViolation")("Received non-File content from parseFile","messenger_comet")},[]);if(a!==void 0)return{TAG:5,_0:a}}function y(a,c,d){if(a==null){b("LogHistory").getInstance("messenger-comet").error("message-parse-no-attachment-given","");b("recoverableViolation")("message-parse-no-attachment-given","messenger_comet");return}var e=a.length;if(e!==1){if(e!==0){e=a[0];if(e.attach_type==="photo")return w(a);else return x(a)}e=c.preview_attachments;if(e==null)return;c=e.length;if(c!==1)if(c!==0)return w(e);else return;c=e[0];if(c.preview_url==null)return s(c);else return q(c)}e=a[0];return v(e,d)}function a(a){a=a.platform_xmd;if(a==null)return;a=JSON.parse(a);return b("bs_caml_option").nullable_to_opt(a.persona)}function z(a,c){var d=a.profile_ranges;d=d==null?[]:d;var e=a.body,f=a.has_attachment,g;if(e==null)g=f==null||!f?2:1;else{if(f==null)return{TAG:0,_0:p(e,a,d)};if(!f)return{TAG:0,_0:p(e,a,d)};if(e==="")g=1;else{f=y(a.attachments,a,c);if(f===void 0)return;e=p(e,a,d);return{TAG:1,_0:f,_1:e}}}switch(g){case 1:d=y(a.attachments,a,c);if(d!==void 0)return{TAG:1,_0:d,_1:void 0};else return;case 2:b("LogHistory").getInstance("messenger-comet").error("message-parse-no-body-or-attachment","");b("recoverableViolation")("message-parse-no-body-or-attachment","messenger_comet");return}}function A(a){var c=a.body;c=!(c==null)&&c!==""?c:void 0;var d=a.has_attachment;d=d==null?!1:d;if(c!==void 0){var e=a.profile_ranges;e=e==null?[]:b("MWChatMessage.bs").parseProfileRanges(e);var f=b("MWChatMessage.bs").findRanges(c),g=b("MWChatTextFormatting").getFormattingRanges(c);return{TAG:0,_0:{ranges:b("bs_array").concat({hd:e,tl:{hd:f,tl:{hd:g,tl:0}}}),text:c,messageID:a.message_id}}}if(d){e=a.attachments;if(e==null){b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-no-attachment-given","");b("recoverableViolation")("replied-message-parse-no-attachment-given","messenger_comet");return}f=e.length;if(f!==1){if(f!==0){var h=[];e.forEach(function(a){a=a.preview_url;if(!(a==null)){h.push(a);return}});return{TAG:3,_0:{attachments:h,messageID:a.message_id}}}g=a.preview_attachments;if(g==null){b("recoverableViolation")("replied-message-parse-expected-preview_attachments","messenger_comet");return}if(g.length!==1){b("recoverableViolation")("replied-message-parse-expected-preview_attachments","messenger_comet");return}c=g[0];d=c.preview_url;if(d==null){b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-photo-no-preview","");b("recoverableViolation")("replied-message-parse-photo-no-preview","messenger_comet");return}else return{TAG:2,_0:{previewUrl:d,messageID:a.message_id}}}f=e[0];g=f.attach_type;switch(g){case"photo":c=f.preview_url;if(c==null){b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-photo-no-preview","");b("recoverableViolation")("replied-message-parse-photo-no-preview","messenger_comet");return}else return{TAG:2,_0:{previewUrl:c,messageID:a.message_id}};case"sticker":d=f.metadata;if(d==null){b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-sticker-no-metadata","");b("recoverableViolation")("replied-message-parse-sticker-no-metadata","messenger_comet");return}e=f.url;g=d.accessibilityLabel;c=d.frameCount;f=d.framesPerCol;var i=d.framesPerRow;if(!(e==null)&&!(g==null)&&!(c==null)&&!(f==null)&&!(i==null)){return{TAG:1,_0:{sticker:{accessibilityLabel:g,frameCount:c,frameRate:(g=b("bs_caml_option")).nullable_to_opt(d.frameRate),framesPerCol:f,framesPerRow:i,packID:g.nullable_to_opt(d.packID),paddedSpriteURI2x:g.nullable_to_opt(d.paddedSpriteURI2x),paddedSpriteURI:g.nullable_to_opt(d.paddedSpriteURI),spriteURI2x:g.nullable_to_opt(d.spriteURI2x),spriteURI:g.nullable_to_opt(d.spriteURI),stickerID:g.nullable_to_opt(d.stickerID),url:e.toString(),width:g.nullable_to_opt(d.width),height:g.nullable_to_opt(d.height)},messageID:a.message_id}}}b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-sticker-fail","");b("recoverableViolation")("replied-message-parse-sticker-fail","messenger_comet");return;break;default:return{TAG:4,_0:{messageID:a.message_id}}}}else{b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-no-body-or-attachment","");b("recoverableViolation")("replied-message-parse-no-body-or-attachment","messenger_comet");return}}function B(a,c){c=b("bs_caml_format").caml_int64_of_string(b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id));if(b("MessengerMessage.bs").isSent(a))return{TAG:1,_0:{threadId:c,messageId:a.message_id,timestamp:b("bs_caml_int64").of_float(a.timestamp)}};a=a.offline_threading_id;if(a==null){b("recoverableViolation")("Optimistic message without offline threading id","messenger_web_product");return 0}else return{TAG:0,_0:{threadId:c,offlineThreadingId:a}}}function C(a,c,d,e,f,g,n,p,q,r){var s=b("MWChatMessageUnsendability.bs").canUnsend(f,c),t=j(a);q=h(b("bs_caml_option").some(q),d,f,n,g,p);d=m(f,r);g=k(f.tags);p=l(B(f,c),c.pinned_messages);var u=o(f);n=n?void 0:i(a,r);r=B(f,c);c=f.timestamp;r={messageID:r,isSaved:g,isPinned:p,author:a,authorGender:t,status:q,timestamp:c,canRemoveGlobally:s};g=f.removed_timestamp;if(g==null){p=z(f,r);t=p!==void 0?{TAG:0,_0:r,_1:{reactions:d,selectedReaction:u},_2:p}:{TAG:2,_0:r}}else t={TAG:1,_0:r,_1:{removedTimestamp:g,authorName:n}};q=f.replied_to_message;if(q==null)return{TAG:0,_0:t};c=q.message;s=q.status;if(c==null){if(!b("bs_caml_obj").caml_equal(s,b("RepliedToMessageStatusForGraphQL").DELETED))return{TAG:0,_0:t};d=a.replace("fbid:","").replace("user:","")===e.replace("fbid:","").replace("user:","");if(d)return{TAG:2,_0:0,_1:t};else return{TAG:1,_0:0,_1:t}}u=c.author;if(u==null){p=A(c);if(p!==void 0)return{TAG:1,_0:p,_1:t};else return{TAG:0,_0:{TAG:2,_0:r}}}g=A(c);if(g!==void 0)if(u.includes(e))return{TAG:2,_0:g,_1:t};else return{TAG:1,_0:g,_1:t};else return{TAG:0,_0:{TAG:2,_0:r}}}function c(a,c,d,e,f,g,h,i,j,k){try{return C(a,c,d,e,f,g,h,i,j,k)}catch(e){d=b("bs_caml_js_exceptions").internalToOCamlException(e);if(d.RE_EXN_ID===b("bs_js_exn").$$Error){b("recoverableViolation")("Error thrown when parsing message","messenger_comet");b("LogHistory").getInstance("messenger-comet").error("Error thrown when parsing message:",b("bs_belt_Option").getWithDefault(d._1.message,""));return{TAG:0,_0:{TAG:2,_0:{messageID:B(f,c),isSaved:!1,isPinned:!1,author:a,authorGender:b("GenderConst").NOT_A_PERSON,status:0,timestamp:f.timestamp,canRemoveGlobally:!1}}}}throw d}}f.concatLatestMessageHeads=g;f.getGutterItemStatus=h;f.getAuthorName=i;f.getAuthorGender=j;f.parseSaved=k;f.parsePinned=l;f.parseReactions=m;f.parseHighlightRanges=n;f.selectedReaction=o;f.parseBody=p;f.parsePhoto=q;f.parseVideo=r;f.parseFile=s;f.parseFallbackXMA=t;f.parseXMA=u;f.parseAttachment=v;f.parsePhotoGroup=w;f.parseFileGroup=x;f.parseAttachments=y;f.getPersona=a;f.parseMessageData=z;f.parseRepliedMessageData=A;f.getMessageID=B;f.tryParse=C;f.parse=c}),null);
__d("WorkForeignEntityDetail",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"NONE",HAS_GUESTS:"HAS_GUESTS",MULTICOMPANY:"MULTICOMPANY",IS_EXTERNAL:"IS_EXTERNAL",LIMITED_ACCOUNT:"LIMITED_ACCOUNT",LIMITED_GROUP:"LIMITED_GROUP",EXTERNAL_ACCOUNT:"EXTERNAL_ACCOUNT",RP4SMB_GUEST:"RP4SMB_GUEST",ROOMS_GUEST:"ROOMS_GUEST"});e.exports=a}),null);
__d("MWMSMessageTitleUtil.bs",["ix","fbt","React","gkx","bs_caml_obj","fbicon","MercuryIDs","stylex","bs_caml_option","MWMSParseMessage.bs","CometMiddot.react","CometTintedIcon.react","MessengerParticipants.bs","WorkForeignEntityDetail","getFBTSafeGenderFromGenderConst","RepliedToMessageStatusForGraphQL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={icon:{flexShrink:"pfnyh3mw",marginStart:"h676nmdw"},titleContainer:{display:"j83agx80",alignItems:"bp9cbjyn",marginBottom:"gjjqq4r6"},text:{paddingStart:"b3onmgus",color:"pipptul6",fontSize:"sq6gx45u",lineHeight:"a3bd9o3v",textOverflow:"ltmttdrg",overflowX:"ni8dbmo4",whiteSpace:"g0qnabr5"},externalText:{color:"eqrdut5j"}},l=h._("B\u1ea1n \u0111\u00e3 tr\u1ea3 l\u1eddi");function m(a,c){c=b("MWMSParseMessage.bs").getAuthorName(a.id,c);if(c!==void 0)return c;else return a.short_name}function n(a,c){return h._({"*":"{sender_name} \u0111\u00e3 tr\u1ea3 l\u1eddi"},[h._name("sender_name",m(a,c),b("getFBTSafeGenderFromGenderConst")(a.gender))])}var o=h._("Tr\u1ea3 l\u1eddi");function p(a,c,d,e){d=b("MercuryIDs").getParticipantIDFromUserID(d);var f=b("bs_caml_obj").caml_equal(d,c);d=b("bs_caml_obj").caml_equal(d,a);if(f){if(d)return l;f=b("MessengerParticipants.bs").getNow(a);if(f==null)return h._("Tr\u1ea3 l\u1eddi b\u1ea1n");else return h._({"*":"{sender_name} \u0111\u00e3 tr\u1ea3 l\u1eddi b\u1ea1n"},[h._name("sender_name",m(f,e),b("getFBTSafeGenderFromGenderConst")(f.gender))])}if(d){f=b("MessengerParticipants.bs").getNow(c);if(f==null)return l;else return h._({"*":"B\u1ea1n \u0111\u00e3 tr\u1ea3 l\u1eddi {sender_name}"},[h._name("sender_name",m(f,e),b("getFBTSafeGenderFromGenderConst")(f.gender))])}d=b("MessengerParticipants.bs").getNow(c);f=b("MessengerParticipants.bs").getNow(a);if(d==null)if(f==null)return o;else return n(f,e);else if(f==null)return h._({"*":"Tr\u1ea3 l\u1eddi {original_sender_name}"},[h._name("original_sender_name",m(d,e),b("getFBTSafeGenderFromGenderConst")(d.gender))]);else if(b("bs_caml_obj").caml_equal(d.id,f.id))return n(f,e);else return h._({"*":{"*":"{sender_name} \u0111\u00e3 tr\u1ea3 l\u1eddi {original_sender_name}"}},[h._name("sender_name",m(f,e),b("getFBTSafeGenderFromGenderConst")(f.gender)),h._name("original_sender_name",m(d,e),b("getFBTSafeGenderFromGenderConst")(d.gender))])}function q(a,b,c){if(c===void 0)if(a)return h._("B\u1ea1n \u0111\u00e3 chuy\u1ec3n ti\u1ebfp m\u1ed9t tin nh\u1eafn");else if(b!==void 0)return h._("{other_name} \u0111\u00e3 chuy\u1ec3n ti\u1ebfp m\u1ed9t tin nh\u1eafn",[h._param("other_name",b)]);else return h._("Tin nh\u1eafn \u0111\u00e3 chuy\u1ec3n ti\u1ebfp");switch(c){case"animated_image":case"photo":break;case"share":if(a)return h._("B\u1ea1n \u0111\u00e3 chuy\u1ec3n ti\u1ebfp m\u1ed9t li\u00ean k\u1ebft");else if(b!==void 0)return h._("{other_name} \u0111\u00e3 chuy\u1ec3n ti\u1ebfp m\u1ed9t li\u00ean k\u1ebft",[h._param("other_name",b)]);else return h._("Li\u00ean k\u1ebft \u0111\u00e3 chuy\u1ec3n ti\u1ebfp");case"video":if(a)return h._("B\u1ea1n \u0111\u00e3 chuy\u1ec3n ti\u1ebfp m\u1ed9t video");else if(b!==void 0)return h._("{other_name} \u0111\u00e3 chuy\u1ec3n ti\u1ebfp m\u1ed9t video",[h._param("other_name",b)]);else return h._("Video \u0111\u00e3 chuy\u1ec3n ti\u1ebfp");default:return}if(a)return h._("B\u1ea1n \u0111\u00e3 chuy\u1ec3n ti\u1ebfp m\u1ed9t h\u00ecnh \u1ea3nh");else if(b!==void 0)return h._("{other_name} \u0111\u00e3 chuy\u1ec3n ti\u1ebfp m\u1ed9t h\u00ecnh \u1ea3nh",[h._param("other_name",b)]);else return h._("H\u00ecnh \u1ea3nh \u0111\u00e3 chuy\u1ec3n ti\u1ebfp")}function r(a,c,d,e){c=b("MWMSParseMessage.bs").getAuthorName(c,e);e=q(a,c,d);if(e!==void 0)return b("bs_caml_option").some(j.jsxs("div",{children:[j.jsx(b("CometTintedIcon.react"),{color:"fds-gray-45",icon:b("fbicon")._(g("514450"),12),xstyle:k.icon}),j.jsx("div",{children:e,className:(i||(i=b("stylex")))(k.text)})],className:i(k.titleContainer)}))}function s(a,c,d,e){a=p(a,c,d,e);return j.jsxs("div",{children:[j.jsx(b("CometTintedIcon.react"),{color:"fds-gray-45",icon:b("fbicon")._(g("1289193"),10),xstyle:k.icon}),j.jsx("div",{children:a,className:(i||(i=b("stylex")))(k.text)})],className:i(k.titleContainer)})}function t(a,c){c=b("MessengerParticipants.bs").getNow(c);var d;if(c==null)d=void 0;else{c=c.work_foreign_entity_info;d=c==null||!b("bs_caml_obj").caml_equal(c.detail,b("WorkForeignEntityDetail").LIMITED_ACCOUNT)?void 0:c.label}return j.jsxs("div",{children:[j.jsx("span",{children:a}),d!==void 0?j.jsxs("span",{children:[j.jsx(b("CometMiddot.react"),{}),d],className:(i||(i=b("stylex")))(k.externalText)}):null],className:(i||(i=b("stylex")))(k.text)})}function u(a){return j.jsx("div",{children:a,className:(i||(i=b("stylex")))(k.text)})}function v(a,c){if(b("gkx")("1217157"))return t(a,c);else return u(a)}function a(a,c,d,e,f,g){var i=f.replied_to_message,j=f.is_forwarded,k=f.montage_reply_data,l=0,m=0;if(e||!(i==null))m=3;else if(j)l=2;else if(k==null){if(typeof c==="string")return;c=c.NAME;if(c==="Group"){var n=b("MWMSParseMessage.bs").getAuthorName(a,g);if(n!==void 0)return b("bs_caml_option").some(v(n,a));else return}if(c!=="Page")return;n=b("MWMSParseMessage.bs").getPersona(f);if(n===void 0)return;c=b("bs_caml_option").valFromOption(n);n=b("MWMSParseMessage.bs").getAuthorName(a,g);if(n!==void 0)return b("bs_caml_option").some(h._("{user} t\u1eeb {page}",[h._param("user",c.name),h._param("page",n)]));else return b("bs_caml_option").some(c.name)}if(m===3)if(i==null||j)l=2;else if(k==null){n=i.message;if(n==null){b("bs_caml_obj").caml_equal(i.status,b("RepliedToMessageStatusForGraphQL").DELETED);return}c=n.author;if(!(c==null))return b("bs_caml_option").some(s(a,c,d,g));else return}if(l===2&&j&&k==null){m=f.attachments;if(m==null)return;i=m.length!==0?m[0].attach_type:void 0;return r(e,a,i,g)}if(!(k==null))return b("bs_caml_option").some(k.snippet)}f.styles=k;f.youReplied=l;f.replyAuthorName=m;f.somebodyReplied=n;f.unknownReplied=o;f.getReplyToText=p;f.getForwardedText=q;f.getForwardedComponent=r;f.getReplyToComponent=s;f.getWorkplaceTitleComponent=t;f.getDefaultTitleComponent=u;f.getTitleComponent=v;f.getGroupTitle=a}),null);
__d("RTWebCallXMAParser.bs",["ix","fbt","fbicon","MercuryIDs","formatDate","bs_caml_option","MWMSParseMessage.bs"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){if(a>=16)return;switch(a){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return;case 8:if(c)return{TAG:0,_0:{icon:b("fbicon")._(g("1096154"),20),color:"gray"}};else return{TAG:0,_0:{icon:b("fbicon")._(g("1096151"),20),color:"gray"}};case 9:if(c)return{TAG:0,_0:{icon:b("fbicon")._(g("847457"),20),color:"gray"}};else return{TAG:0,_0:{icon:b("fbicon")._(g("847457"),20),color:"cherry"}};case 10:if(c)return{TAG:0,_0:{icon:b("fbicon")._(g("1096150"),20),color:"gray"}};else return{TAG:0,_0:{icon:b("fbicon")._(g("1096148"),20),color:"gray"}};case 11:if(c)return{TAG:0,_0:{icon:b("fbicon")._(g("662989"),20),color:"gray"}};else return{TAG:0,_0:{icon:b("fbicon")._(g("662989"),20),color:"cherry"}};case 12:return{TAG:0,_0:{icon:b("fbicon")._(g("558161"),20),color:"lime"}};case 13:return{TAG:0,_0:{icon:b("fbicon")._(g("558161"),20),color:"gray"}};case 14:return{TAG:0,_0:{icon:b("fbicon")._(g("493174"),20),color:"lime"}};case 15:return{TAG:0,_0:{icon:b("fbicon")._(g("493174"),20),color:"gray"}}}}function a(a,c,d,e,f,g){g=b("MWMSParseMessage.bs").parseReactions(c,g);var j=b("MWMSParseMessage.bs").getAuthorGender(a);e=e!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(e).untypedData):void 0;var k;if(e!==void 0){var l=b("bs_caml_option").valFromOption(e),m=l.event;l=l.video;if(m==null)k=33;else switch(m){case"group_call_ended":k=l?15:13;break;case"group_call_started":k=l?14:12;break;case"missed_call":k=l?11:9;break;case"one_on_one_call_ended":k=l?10:8;break;default:k=33}}else k=33;m=e!==void 0?b("bs_caml_option").valFromOption(e).video:!1;l=b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id);l={threadId:l,hasVideo:m};m=c.timestamp;e=e!==void 0?b("bs_caml_option").valFromOption(e).call_duration:0;var n=e%60,o=(e/60|0)%60;e=e/3600|0;e=e!==0?h._({"*":"{call duration in hours} gi\u1edd"},[h._param("call duration in hours",String(e)),h._plural(e)]):o!==0?h._({"*":"{call duration in minutes} ph\u00fat"},[h._param("call duration in minutes",String(o)),h._plural(o)]):h._({"*":"{call duration in seconds} gi\u00e2y"},[h._param("call duration in seconds",String(n)),h._plural(n)]);o={_0:[{title:h._("G\u1ecdi l\u1ea1i"),action:{TAG:4,_0:{TAG:22,_0:l},_1:void 0}}]};n={_0:[{title:h._("Tham gia"),action:{TAG:4,_0:{TAG:22,_0:l},_1:void 0}}]};l={_0:[{title:h._("G\u1ecdi l\u1ea1i"),action:{TAG:4,_0:{TAG:22,_0:l},_1:void 0}}]};var p,q=0;if(k>=16)q=1;else switch(k){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:q=1;break;case 8:p=[h._("Cu\u1ed9c g\u1ecdi tho\u1ea1i"),h._("Cu\u1ed9c g\u1ecdi \u0111\u00e3 k\u1ebft th\u00fac")+(" \u2022 "+e),l];break;case 9:p=f?[h._("\u0110\u00e3 b\u1ecf l\u1ee1 cu\u1ed9c g\u1ecdi tho\u1ea1i"),h._("Kh\u00f4ng tr\u1ea3 l\u1eddi")+(" \u2022 "+b("formatDate")(new Date(m),"g:ia")),l]:[h._("\u0110\u00e3 b\u1ecf l\u1ee1 cu\u1ed9c g\u1ecdi tho\u1ea1i"),b("formatDate")(new Date(m),"M d")+(" \u2022 "+b("formatDate")(new Date(m),"g:ia")),o];break;case 10:p=[h._("Chat video"),h._("Cu\u1ed9c g\u1ecdi \u0111\u00e3 k\u1ebft th\u00fac")+(" \u2022 "+e),l];break;case 11:p=f?[h._("\u0110\u00e3 b\u1ecf l\u1ee1 \u0111o\u1ea1n chat video"),h._("Kh\u00f4ng tr\u1ea3 l\u1eddi")+(" \u2022 "+b("formatDate")(new Date(m),"g:ia")),l]:[h._("\u0110\u00e3 b\u1ecf l\u1ee1 \u0111o\u1ea1n chat video"),b("formatDate")(new Date(m),"M d")+(" \u2022 "+b("formatDate")(new Date(m),"g:ia")),o];break;case 12:p=f?[h._("Cu\u1ed9c g\u1ecdi nh\u00f3m"),b("formatDate")(new Date(m),"M d")+(" \u2022 "+b("formatDate")(new Date(m),"g:ia")),n]:[h._("Cu\u1ed9c g\u1ecdi nh\u00f3m"),b("formatDate")(new Date(m),"M d")+(" \u2022 "+b("formatDate")(new Date(m),"g:ia")),n];break;case 13:p=[h._("Cu\u1ed9c g\u1ecdi nh\u00f3m"),h._("Cu\u1ed9c g\u1ecdi \u0111\u00e3 k\u1ebft th\u00fac")+(" \u2022 "+e),l];break;case 14:p=f?[h._("Nh\u00f3m chat video"),b("formatDate")(new Date(m),"M d")+(" \u2022 "+b("formatDate")(new Date(m),"g:ia")),n]:[h._("Nh\u00f3m chat video"),b("formatDate")(new Date(m),"M d")+(" \u2022 "+b("formatDate")(new Date(m),"g:ia")),n];break;case 15:p=[h._("Nh\u00f3m chat video"),h._("Cu\u1ed9c g\u1ecdi \u0111\u00e3 k\u1ebft th\u00fac")+(" \u2022 "+e),l];break}q===1&&(p=[h._("Cu\u1ed9c g\u1ecdi kh\u00f4ng x\u00e1c \u0111\u1ecbnh"),h._("Kh\u00f4ng x\u00e1c \u0111\u1ecbnh"),void 0]);o=b("MWMSParseMessage.bs").getMessageID(c,d);return{TAG:0,_0:{messageID:o,isSaved:b("MWMSParseMessage.bs").parseSaved(c.tags),isPinned:b("MWMSParseMessage.bs").parsePinned(o,d.pinned_messages),author:a,authorGender:j,status:0,timestamp:c.timestamp,canRemoveGlobally:!1},_1:{reactions:g,selectedReaction:void 0},_2:{TAG:1,_0:{TAG:8,_0:{TAG:1,_0:{preview:void 0,title:p[0],description:p[1],headerIcon:void 0,headerTitle:void 0,icon:i(k,f),defaultAction:void 0,action:p[2],canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]},_1:void 0,_2:o}},_1:void 0}}}f.getIcon=i;f.parsePhoneCallXMA=a}),null);
__d("MWMSParseAdminMessage.bs",["ix","fbt","FBID.bs","bs_curry","gkx","bs_caml_obj","bs_caml_int32","bs_caml_int64","MercuryIDs","bs_belt_Option","bs_caml_format","bs_caml_option","CurrentUser","killswitch","MWMSParseMessage.bs","RTWebCallXMAParser.bs","IndexedDbKeyComparer","MWMSMessageTitleUtil.bs","recoverableViolation","MercuryLogMessageType","MessengerParticipants.bs","MWChatMessageUnsendability.bs","MessagingGenericAdminTextType"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){return typeof a==="boolean"?a:a!=="false"};function j(a,c,d){var e=b("MWMSParseMessage.bs").getMessageID(c,d),f=b("MWMSParseMessage.bs").getAuthorGender(a),g=c.timestamp;d=b("MWChatMessageUnsendability.bs").canUnsend(c,d);e={messageID:e,isSaved:!1,isPinned:!1,author:a,authorGender:f,status:0,timestamp:g,canRemoveGlobally:d};return{TAG:1,_0:{TAG:0,_0:e,_1:{reactions:void 0,selectedReaction:void 0},_2:{TAG:0,_0:{text:b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(c.log_message_body)),ranges:[],isForwarded:!1,isEmojiOnly:!1}}},_1:void 0}}function k(a,c,d,e,f,g,h,i,j){var k=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.author),function(a){return a});if(k!==void 0){a=k.replace("fbid:","").replace("user:","")===a.replace("fbid:","").replace("user:","");d=b("RTWebCallXMAParser.bs").parsePhoneCallXMA(k,c,d,j,a,f);j=[{TAG:0,_0:d}];d=b("MWMSMessageTitleUtil.bs").getGroupTitle(k,e,b("CurrentUser").getID(),a,c,f);if(a)e={TAG:4,_0:j,_1:d};else{a=b("bs_curry")._3(h,k,c,g);h=b("bs_curry")._2(i,k,g);c=b("MWMSParseMessage.bs").getAuthorName(k,f);e={TAG:3,_0:j,_1:d,_2:a,_3:h,_4:c}}return e}b("recoverableViolation")("Phone call XMA message should always have an author!","messenger_comet")}function l(a,c,d,e){var f=b("killswitch")("MESSENGER_WEB_DISABLE_POLLS"),k=b("gkx")("1280043");e=e.untypedData;if(f)return j(a,c,d);if(k)return j(a,c,d);if(e==null)return j(a,c,d);f=JSON.parse(e.question_json);k=f.id;if(k===void 0)return j(a,c,d);e=f.total_count-3|0;var l=function(a){return[-a[0].total_count|0,a[1]]},m=d.participants.reduce(function(a,c){c=b("MercuryIDs").getUserIDFromParticipantID(c);if(c==null)return a;else return a.add(c)},new Set()),n=b("gkx")("1798212")?f.options.reduce(function(a,b){return b.voters.reduce(function(a,b){return a.add(b)},a)},new Set()).size:m.size;e=e<=0?void 0:h._({"*":"{number of remaining answer options} t\u00f9y ch\u1ecdn kh\u00e1c..."},[h._param("number of remaining answer options",String(e)),h._plural(e)]);var o=b("MWMSParseMessage.bs").getMessageID(c,d),p=b("MWMSParseMessage.bs").getAuthorGender(a),q=c.timestamp;d=b("MWChatMessageUnsendability.bs").canUnsend(c,d);a={messageID:o,isSaved:!1,isPinned:!1,author:a,authorGender:p,status:0,timestamp:q,canRemoveGlobally:d};return{TAG:1,_0:{TAG:0,_0:a,_1:{reactions:void 0,selectedReaction:void 0},_2:{TAG:1,_0:{TAG:8,_0:{TAG:2,_0:{preview:void 0,title:void 0,description:void 0,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:{_0:[{title:i(f.viewer_has_voted)?h._("Thay \u0111\u1ed5i b\u00ecnh ch\u1ecdn"):h._("B\u00ecnh ch\u1ecdn"),action:{TAG:5,_0:b("bs_caml_format").caml_int64_of_string(k),_1:f.text}}]},canForward:!1,listItemsId:b("bs_caml_format").caml_int64_of_string(k),listItemsDescriptionText:f.text,listItemsSecondaryDescriptionText:e,listItems:f.options.map(function(a,b){return[a,b]}).sort(function(a,c){return b("bs_curry")._2(b("IndexedDbKeyComparer"),l(a),l(c))}).slice(0,3).map(function(a){a=a[0];return{id:b("bs_caml_format").caml_int64_of_string(a.id),titleText:a.text,contacts:a.voters.map(function(a){a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(a)));var c;if(a==null)c=g("98939");else{a=a.image_src;c=a==null?g("98939"):a}return{url:c,urlExpirationTimestamp:"",urlFallback:""}}),progressBarFilledPercentage:b("bs_caml_int64").of_int32(n===0?0:b("bs_caml_int32").div(Math.imul(100,a.voters.filter(function(a){return m.has(b("FBID.bs").ofStringExn(a))}).length),n))}})},_1:void 0,_2:o}},_1:{text:b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(c.log_message_body)),ranges:[],isForwarded:!1,isEmojiOnly:!1}}},_1:void 0}}function m(a,c,d,e){e=e.untypedData;if(e==null)return;var f=b("MWMSParseMessage.bs").getMessageID(c,d),g=b("MWMSParseMessage.bs").getAuthorGender(a),h=c.timestamp;d=b("MWChatMessageUnsendability.bs").canUnsend(c,d);f={messageID:f,isSaved:!1,isPinned:!1,author:a,authorGender:g,status:0,timestamp:h,canRemoveGlobally:d};a=c.message_id;g=e.primary_text;if(g==null)return{TAG:1,_0:{TAG:0,_0:f,_1:{reactions:void 0,selectedReaction:void 0},_2:{TAG:0,_0:{text:b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(e.link_cta_xmat_primary_text)),ranges:[],isForwarded:!1,isEmojiOnly:!1}}},_1:{a:b("bs_caml_int64").zero,b:a,c:b("bs_caml_int64").zero,d:b("bs_caml_int64").zero,e:void 0,f:void 0,g:void 0,h:!0,i:b("bs_caml_option").nullable_to_opt(e.link_cta_xmat_cta_text),j:b("bs_caml_option").nullable_to_opt(e.link_cta_xmat_cta_url),k:void 0,l:void 0,m:void 0}};else return{TAG:1,_0:{TAG:0,_0:f,_1:{reactions:void 0,selectedReaction:void 0},_2:{TAG:0,_0:{text:g,ranges:[],isForwarded:!1,isEmojiOnly:!1}}},_1:{a:b("bs_caml_int64").zero,b:a,c:b("bs_caml_int64").zero,d:b("bs_caml_int64").zero,e:void 0,f:void 0,g:void 0,h:!0,i:b("bs_caml_option").nullable_to_opt(e.cta_text),j:b("bs_caml_option").nullable_to_opt(e.cta_url),k:void 0,l:void 0,m:void 0}}}function a(a,c,d,e,f,g,h,i){var n=c.log_message_type,o=c.log_message_body;if(n==null)return;if(o==null)return;if(b("bs_caml_obj").caml_equal(n,b("MercuryLogMessageType").PHONE_CALL))return k(a,c,d,e,f,g,h,i,b("bs_caml_option").nullable_to_opt(c.log_message_data));if(!b("bs_caml_obj").caml_equal(n,b("MercuryLogMessageType").GENERIC_ADMIN_TEXT))return j(a,c,d);o=c.log_message_data;if(o==null)return j(a,c,d);else if(o.message_type===b("MessagingGenericAdminTextType").MESSENGER_CALL_LOG)return k(a,c,d,e,f,g,h,i,o==null?void 0:b("bs_caml_option").some(o));else if(o.message_type===b("MessagingGenericAdminTextType").GROUP_POLL)return l(a,c,d,o);else if(o.message_type===b("MessagingGenericAdminTextType").LINK_CTA)return m(a,c,d,o);else return j(a,c,d)}f.convertToAnActualBool=i;f.plainAdminMessage=j;f.phoneMessage=k;f.parsePoll=l;f.parseLinkCta=m;f.parse=a}),null);
__d("MWMSParseMessages.bs",["bs_js_dict","bs_caml_obj","bs_caml_array","bs_belt_Option","bs_caml_option","CurrentUser","killswitch","MWMSParseMessage.bs","MessengerMessage.bs","MercuryActionType","MWMSMessageTitleUtil.bs","recoverableViolation","MWMSParseAdminMessage.bs","MercuryAttachmentType","MercuryLogMessageType","MercuryThreadlistConstants","MessagingGenericAdminTextType"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a.replied_to_message,d=a.has_attachment;if(!(c==null))return!0;if(!(d==null)&&d){c=a.attachments;if(c==null)return!1;if(b("bs_caml_obj").caml_equal(c,[]))return!0;d=b("bs_caml_array").get(c,0);if(d.attach_type===b("MercuryAttachmentType").STICKER||d.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE)return!0;else return d.attach_type===b("MercuryAttachmentType").SHARE}c=a.body;d=c==null?!1:c.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK;if(a.action_type===b("MercuryActionType").LOG_MESSAGE)return!0;else return d}function h(a,c){if(c===void 0)return!1;c=b("bs_caml_option").valFromOption(c);var d=b("bs_caml_obj").caml_notequal(a.author,c.author)||c.timestamp<a.timestamp-b("MercuryThreadlistConstants").GROUPING_THRESHOLD||c.is_spoof_warning!==a.is_spoof_warning||a.is_forwarded||g(a)||g(c);if(d)return!1;d=b("MessengerMessage.bs").getPersona(c);c=b("MessengerMessage.bs").getPersona(a);if(!(d==null)&&!(c==null))return d.id===c.id;else return!0}function i(a){var c={contents:[]},d=[];a.forEach(function(e,f){f=h(e,f===0?void 0:b("bs_caml_option").some(b("bs_caml_array").get(a,f-1|0)));f||(c.contents=[],d.push(c.contents));c.contents.push(e)});return d}var j=1e3*60*60;function k(a,c,d,e){if(c===0){e.push({TAG:0,_0:a.timestamp});return}d=b("bs_caml_array").get(d,c-1|0);c=b("bs_caml_array").get(d,d.length-1|0);if(a.timestamp>c.timestamp+j){e.push({TAG:0,_0:a.timestamp});return}}function l(a,c,d){c=b("MWMSParseMessage.bs").getPersona(c);if(c!==void 0)return b("bs_caml_option").valFromOption(c).profile_picture_url;c=b("bs_js_dict").get(d,a);if(c!==void 0)return b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(c).big_image_src)}function m(a,c){c=b("bs_js_dict").get(c,a);if(c!==void 0)return b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(c).href)}function n(a){var c=a.length;return b("bs_js_dict").fromArray(a.map(function(d,e){if(e>=(c-1|0))return[d.message_id,void 0];e=b("bs_caml_array").get(a,e+1|0);return[d.message_id,b("bs_caml_option").some(e)]}))}function o(a){var c=new Set();for(var d=a.length-1|0;d>=0;--d){var e=b("bs_caml_array").get(a,d),f=e.log_message_type;if(!(f==null)&&b("bs_caml_obj").caml_equal(f,b("MercuryLogMessageType").GENERIC_ADMIN_TEXT)){f=e.log_message_data;if(!(f==null)&&f.message_type===b("MessagingGenericAdminTextType").GROUP_POLL){e=f.untypedData;e==null||(c.has(e.question_id)?f.untypedData=null:c.add(e.question_id))}}}return a}function a(a,c,d,e,f,g,h){d=b("killswitch")("MESSENGER_WEB_DISABLE_POLLS")?d:o(d);var j=i(d),p=n(d),q=b("CurrentUser").getID(),r=[];j.forEach(function(d,i){var n=b("bs_caml_array").get(d,0);k(n,i,j,r);var o=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(n.author),function(a){return a}),s=o!==void 0?o.replace("fbid:","").replace("user:","")===q.replace("fbid:","").replace("user:",""):!1;i=n.action_type;switch(i){case"ma-type:log-message":d.forEach(function(d){d=b("MWMSParseAdminMessage.bs").parse(q,d,a,c,h,g,l,m);if(d!==void 0){r.push(d);return}});return;case"ma-type:send-message":case"ma-type:user-generated-message":break;default:r.push(0);return}if(o!==void 0){i=d.map(function(c){var d=b("bs_js_dict").get(p,c.message_id);d=d!==void 0?b("bs_caml_option").valFromOption(d):void 0;return b("MWMSParseMessage.bs").parse(o,a,d,q,c,e,s,f,g,h)});d=b("MWMSMessageTitleUtil.bs").getGroupTitle(o,c,b("CurrentUser").getID(),s,n,h);var t;if(s)t={TAG:4,_0:i,_1:d};else{n=l(o,n,g);var u=m(o,g),v=b("MWMSParseMessage.bs").getAuthorName(o,h);t={TAG:3,_0:i,_1:d,_2:n,_3:u,_4:v}}r.push(t);return}b("recoverableViolation")("User-generated message should always have an author!","messenger_comet")});return r}f.shouldBeInOwnMessageGroup=g;f.canAppendMessageToGroup=h;f.calculateMessageGroups=i;f.dateBreakThresholdSec=j;f.maybeAddDateBreak=k;f.getMessageProfileIcon=l;f.getProfileLink=m;f.calculateNextMessage=n;f.stripPollDataFromAllAdminMessagesExceptLastPerPoll=o;f.parseMessages=a}),null);
__d("MWMSDeliveryTimestamp.bs",["bs_belt_Option","CurrentUser","bs_belt_MapString","MWChatThreadId.bs","MessengerState.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("bs_belt_Option").getWithDefault(b("bs_belt_MapString").get(c,b("MWChatThreadId.bs").getMercuryID(a)),0)}function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=c.deliveryReceipts;return g(a,c)}f.get=g;f.useHook=a}),null);
__d("MWMSReadReceipts.bs",["React","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MessengerReadReceipt.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,c){c=b("MWChatThreadId.bs").getMercuryID(c);return b("MessengerReadReceipt.bs").getSeenTimestamps(a,c)}function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID()),d=c.readReceiptsPerThread;return g.useMemo(function(){return h(d,a)},[d,a])}f.get=h;f.useHook=a}),null);
__d("MWMSRepliedToMessage.bs",["FBID.bs","bs_curry","React","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWChatMessageId.bs","MWMSParseMessage.bs","MWMSReadReceipts.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs","MWMSDeliveryTimestamp.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=g.useState(function(){});var c=a[1],d=b("MWThread_DEPRECATED.bs").useIdExn(void 0),e=b("MessengerState.bs").useHook(b("CurrentUser").getID()),f=b("bs_belt_Map").get(e.threads,b("MWChatThreadId.bs").getMercuryID(d));e=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,d);var h=e[1],i=e[0],j=b("MWMSDeliveryTimestamp.bs").useHook(d),k=b("MWMSReadReceipts.bs").useHook(d),l=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),b("MWChatThreadId.bs").getMercuryID(d));e=function(a){var d=b("bs_belt_Option").flatMap(b("MWChatMessageId.bs").getMessageId(a),function(a){var c=l.find(function(b){return b.message_id===a});if(c===void 0)return;var d=c.author;if(d==null)return;if(f===void 0)return;var e=b("CurrentUser").getID(),g=d.replace("fbid:","").replace("user:",""),m=g===e.replace("fbid:","").replace("user:","");d=b("MWMSParseMessage.bs").parse(d,b("bs_caml_option").valFromOption(f),void 0,e,c,j,m,k,i,h);var n;switch(d.TAG|0){case 0:n=d._0;break;case 1:case 2:case 3:n=d._1;break}return{content:n,fromViewer:m,authorID:b("FBID.bs").ofStringExn(g)}});return b("bs_curry")._1(c,function(a){return d})};d=function(a){return b("bs_curry")._1(c,function(a){})};return[a[0],e,d]}f.useCurrentlyRepliedToMessage=a}),null);
__d("MWMSFetchMessagesPage.bs",["CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("CurrentUser").isWorkUser()?20:10;function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var c=b("MWChatThreadId.bs").getMercuryID(a),d=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),c);return function(a){return b("MessengerState.bs").fetchMoreMessages(b("CurrentUser").getID(),c,0,d.length+g|0,function(a){},void 0,void 0)}}f.useFetchMessagesPage=a}),null);
__d("MWMSLoadThreadMessages.bs",["bs_curry","bs_belt_Map","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWMSReadReceipts.bs","MWMSParseMessages.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs","MWMSDeliveryTimestamp.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,a),e=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),b("MWChatThreadId.bs").getMercuryID(a)),f=b("MWMSDeliveryTimestamp.bs").useHook(a),g=b("MWMSReadReceipts.bs").useHook(a);if(c!==void 0)return b("MWMSParseMessages.bs").parseMessages(b("bs_caml_option").valFromOption(c),a,e,f,g,d[0],d[1]);else return[]}f.useMessageItems=a}),null);
__d("MWMSThreadHasMoreMessages.bs",["CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MWChatThreadId.bs").getMercuryID(a);return!b("MessengerState.bs").hasLoadedAllMessages(b("CurrentUser").getID(),a)}f.useThreadHasMoreMessages=a}),null);
__d("MWMSContactCapabilities.bs",["FBID.bs","bs_int64","MercuryIDs","MessengerParticipants.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))));var c;if(a==null)c=!1;else{a=a.verification_status;c=a==null?!1:a!=="NOT_VERIFIED"}return{isVerified:c}}function c(a){return a.isVerified}f.useCapabilities=a;f.isVerified=c}),null);
__d("MWMSGetParticipantFbids.bs",["bs_curry","bs_belt_Map","bs_belt_Array","MercuryIDs","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWUIChatTabState.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWUIChatTabState.bs").useTab(void 0);var c=b("MWUIChatTabState.bs").useTokenProvider(void 0),d=b("MessengerState.bs").useHook(b("CurrentUser").getID());if(!a)return b("bs_curry")._1(c,void 0);c=b("bs_belt_Map").get(d.threads,b("MWChatThreadId.bs").getMercuryID(a._0));if(c!==void 0)return b("bs_belt_Array").keepMap(b("bs_caml_option").valFromOption(c).participants,function(a){return b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a))});else return[]}f.useHook=a}),null);
__d("MWMSThreadConnectivityData.bs",["React","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);return b("bs_belt_Option").mapWithDefault(a,void 0,function(a){return b("bs_caml_option").nullable_to_opt(a.thread_connectivity_data)})},[d,c])}f.useHook=a}),null);
__d("MWMSThreadHasLeftGroup.bs",["React","bs_belt_Map","bs_caml_obj","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs","MessengerThreadCannotReplyReason"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);if(a!==void 0)return b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(a).cannot_reply_reason,b("MessengerThreadCannotReplyReason").VIEWER_NOT_SUBSCRIBED);else return!1},[d,c])}f.useHook=a}),null);
__d("MWMSThreadHeaderAttribution.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){}f.useHook=a}),null);
__d("MWMSThreadMuteExpireTimeMs.bs",["React","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MercuryThreadInfo","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);return b("bs_belt_Option").mapWithDefault(b("bs_belt_Option").flatMap(a,function(a){return b("bs_caml_option").nullable_to_opt(b("MercuryThreadInfo").getMuteSetting(a))}),0,function(a){if(a===-1)return a;else return a*1e3})},[d,c])}f.useHook=a}),null);
__d("MWMSThreadReportingToken.bs",["React","bs_belt_Map","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MercuryThreadInfo","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);var e=a!==void 0?b("MercuryThreadInfo").isColdOpen(b("bs_caml_option").valFromOption(a)):!0;if(e||a===void 0)return;else return b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(a).graphql_token)},[d,c])}f.useHook=a}),null);
__d("MWUIThreadConnectivityData.bs",["requireCond","cr:1549235"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549235").useHook;f.$MWLSThreadConnectivityData$OR$MWMSThreadConnectivityData$requireCond=b("cr:1549235");f.useHook=a}),null);
__d("useMessengerParticipantNicknameMutation",["fbt","CometRelay","useCometAlertDialog","useMessengerParticipantNicknameMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h!==void 0?h:h=b("useMessengerParticipantNicknameMutation.graphql");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("useCometAlertDialog")(),d=c[0];c[1];return function(c,e,f,h,j){return b("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(b){function a(a){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(a){h()}),onError:function(b){function a(a){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(a){j(),d({body:g._("Kh\u00f4ng th\u1ec3 l\u01b0u bi\u1ec7t danh. H\u00e3y th\u1eed l\u1ea1i sau."),title:g._("L\u1ed7i")})}),variables:{input:{new_nickname:(f=f)!=null?f:"",participant_id:e,source:"SETTINGS",thread_id:c}}})}}}),null);
__d("MWMSUpdateParticipantNickname.bs",["useMessengerParticipantNicknameMutation"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("useMessengerParticipantNicknameMutation")()}f.useHook=a}),null);
__d("MWChatBusinessPersistentMenuButton.bs",["fbt","bs_curry","React","JSResource","stylex","bs_caml_option","CometPressable.react","CometLazyPopoverTrigger.react","MWChatChatButtonColorConstants.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={menuButton:{display:"j83agx80",marginBottom:"qzhwtbm6",marginTop:"pcgkmkmd",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq"}};function a(a){var c=a.color,d=a.pageId;a=a.sendMenuItem;return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWChatBusinessPersistentMenuContainer.react").__setRef("MWChatBusinessPersistentMenuButton.bs"),popoverProps:{pageId:d,onSelect:b("bs_curry").__1(a)},align:"end",children:function(a,d,e,f,k,l,m){e={children:i.jsx("path",{d:"M0 1.5C0 0.671573 0.671573 0 1.5 0H22.5C23.3284 0 24 0.671573 24 1.5C24 2.32843 23.3284 3 22.5 3H1.5C0.671573 3 0 2.32843 0 1.5ZM0 9C0 8.17157 0.671573 7.5 1.5 7.5H22.5C23.3284 7.5 24 8.17157 24 9C24 9.82843 23.3284 10.5 22.5 10.5H1.5C0.671573 10.5 0 9.82843 0 9ZM1.5 15C0.671573 15 0 15.6716 0 16.5C0 17.3284 0.671573 18 1.5 18H22.5C23.3284 18 24 17.3284 24 16.5C24 15.6716 23.3284 15 22.5 15H1.5Z"})};c!==void 0&&(e.fill=b("bs_caml_option").valFromOption(c));return i.jsx("div",{children:i.jsx(b("CometPressable.react"),{"aria-label":g._("M\u1edf menu c\u1ed1 \u0111\u1ecbnh"),testid:"composer_persistent_menu",onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[j.hotLikeDefault]},children:i.jsx("svg",{children:i.jsx("g",e),className:(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"18",width:"24",fill:"none",viewBox:"0 0 24 18",xmlns:"http://www.w3.org/2000/svg"})}),ref:a,className:h(j.menuButton)})}},"tester")}c=a;f.make=c}),null);
__d("MWMSQuickReplies.bs",["ODS","bs_curry","React","bs_js_dict","bs_js_json","bs_caml_array","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWMSSendXMDMessage.bs","MWThread_DEPRECATED.bs","unrecoverableViolation","MWChatBusinessQuickReplyList.bs","LsBotComposerQuickReplyTappedFalcoEvent"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MWChatThreadId.bs").getMercuryID(c);a=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),a);var d=b("MWMSSendXMDMessage.bs").useSendXMDMessage(void 0),e=function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","quick_reply");b("bs_curry")._3(d,c,{body:a.title,quickReply:a,postback:void 0},void 0);if(typeof c==="string")return;if(c.NAME!=="Page")return;var e=c.VAL;b("LsBotComposerQuickReplyTappedFalcoEvent").log(function(b){b=a.content_type;b=b==="text"?38:58;return{page:{id:e},quick_reply:{id:"",type:b},display:void 0}})};if(a.length<=0)return null;a=b("bs_caml_array").get(a,a.length-1|0).platform_xmd;if(a==null)return null;try{a=b("bs_js_json").classify(JSON.parse(a));if(typeof a==="number")return null;if(a.TAG!==2)return null;a=b("bs_js_dict").get(a._0,"quick_replies");if(a===void 0)return null;a=b("bs_js_json").classify(b("bs_caml_option").valFromOption(a));if(typeof a==="number")return null;if(a.TAG!==3)return null;var f=c.NAME;return g.jsx(b("MWChatBusinessQuickReplyList.bs").make,{arrayQR:a._0.map(function(a){return JSON.parse(JSON.stringify(a))}),onSend:e,id:f==="User"||f==="Page"||f==="Group"?c.VAL:b("unrecoverableViolation")("Not supported","messenger_web_product")})}catch(a){return null}}c=a;f.make=c}),null);
__d("useMWChatMessageReactionMutation",["fbt","CometRelay","useCometAlertDialog","useMWChatMessageReactionMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h!==void 0?h:h=b("useMWChatMessageReactionMutation.graphql");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("useCometAlertDialog")(),d=c[0];c[1];return function(c,e,f){return b("CometRelay").commitMutation(a,{mutation:i,onError:function(a){d({body:g._("Kh\u00f4ng th\u1ec3 thay \u0111\u1ed5i c\u1ea3m x\u00fac. H\u00e3y th\u1eed l\u1ea1i sau."),title:g._("Kh\u00f4ng th\u1ec3 thay \u0111\u1ed5i c\u1ea3m x\u00fac")})},variables:{input:{action:f,message_id:c,reaction:e}}})}}}),null);
__d("MWMSSendOrRemoveReaction.bs",["ODS","bs_curry","CurrentUser","MessengerState.bs","MWChatReactionsAction.bs","useMWChatMessageReactionMutation"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("useMWChatMessageReactionMutation")();return function(a,d,e){b("ODS").bumpEntityKey(3185,"mwchat_send","change_reaction");a=b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a);return b("bs_curry")._3(c,a,d,e?b("MWChatReactionsAction.bs").Action.remove:b("MWChatReactionsAction.bs").Action.add)}}f.useSendOrRemoveReaction=a}),null);
__d("MWMSOpenStaticLocationDialog.bs",["React","Actor.re","bs_caml_array","JSResource","bs_caml_option","MessengerState.bs","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatStaticLocationDialog.react").__setRef("MWMSOpenStaticLocationDialog.bs"));var c=a[0];a=b("Actor.re").useActor();var d=a[0];return g.useCallback(function(a){a=b("MessengerState.bs").getMessageFromID(d,a);var e;if(a!==void 0){a=b("bs_caml_option").valFromOption(a).attachments;if(a==null||a.length===0)e="";else{a=a[0];a=a.share;if(a==null)e="";else{a=a.media;if(a==null)e="";else{a=a.image;e=a==null?"":a}}}}else e="";a=b("bs_caml_array").get(e.split("markers="),1);e=b("bs_caml_array").get(a.split("%2C"),0);a=b("bs_caml_array").get(b("bs_caml_array").get(a.split("%2C"),1).split("&"),0);return c({latitude:e,longitude:a},function(a){})})}f.useHook=a}),null);
__d("MWChatLiveTyping.bs",["Promise","bs_caml_format","bs_caml_option","CurrentUser","FBMqttChannel"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e={};a!==void 0&&(e.to=b("bs_caml_format").caml_float_of_string(b("bs_caml_option").valFromOption(a)));e.sender_fbid=b("bs_caml_format").caml_float_of_string(b("CurrentUser").getID());e.state=d?1:0;typeof c==="string"||c.NAME!=="Group"||(e.thread=c.VAL);return JSON.stringify(e)}function c(a){b("FBMqttChannel").publish("/typing",a)["catch"](function(a){return b("Promise").resolve(void 0)})}f.createPayload=a;f.publish=c}),null);
__d("MWMSSendTypingIndicator.bs",["bs_curry","React","bs_caml_option","MWChatLiveTyping.bs","MWThread_DEPRECATED.bs","MWUIThreadConnectivityData.bs","MWChatViewerChatVisibilityHook","ThreadConnectivityStatusGraphQLType.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,b,c){b=typeof b==="string"?!1:b.NAME==="Group";if(a)if(b)return!0;else return c;else return!1}function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0),d=b("MWChatViewerChatVisibilityHook")(),e;if(typeof c==="string")e=void 0;else{a=c.NAME;e=a==="User"||a==="Page"?b("bs_caml_option").some(c.VAL):void 0}a=b("bs_curry")._1(b("MWUIThreadConnectivityData.bs").useHook,void 0);var f=a!==void 0?a.connectivity_status===b("ThreadConnectivityStatusGraphQLType.bs").implicitOrTwoWayMessaging:!1;return g.useCallback(function(a){if(h(d,c,f))return b("MWChatLiveTyping.bs").publish(b("MWChatLiveTyping.bs").createPayload(e,c,a))},[c,d,f,e])}f.useHook=a}),null);
__d("useMessengerGlobalRemoveMessageMutation",["fbt","CometRelay","LogHistory","gkx","recoverableViolation","useCometAlertDialog","useMessengerGlobalRemoveMessageMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h!==void 0?h:h=b("useMessengerGlobalRemoveMessageMutation.graphql");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("useCometAlertDialog")(),d=c[0];return function(c){var e=c.messageID,f=c.onCompleted;b("LogHistory").getInstance("messenger-comet").log("global_remove_message_req");return b("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(a){b("LogHistory").getInstance("messenger-comet").log("global_remove_message_success"),f&&f(a)},onError:function(a){b("LogHistory").getInstance("messenger-comet").error("global_remove_message_error",a.toString()),b("recoverableViolation")("Global remove message failed","messenger_comet",{error:a}),d({body:b("gkx")("1531920")?g._("Kh\u00f4ng th\u1ec3 thu h\u1ed3i tin nh\u1eafn \u0111\u00e3 g\u1eedi. Vui l\u00f2ng th\u1eed l\u1ea1i sau."):g._("Kh\u00f4ng th\u1ec3 g\u1ee1 tin nh\u1eafn. H\u00e3y th\u1eed l\u1ea1i sau."),title:g._("L\u1ed7i")})},variables:{input:{message_id:e}}})}}}),null);
__d("MWMSUnsendMessage.bs",["ODS","bs_curry","React","CurrentUser","MessengerState.bs","useMessengerGlobalRemoveMessageMutation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useMessengerGlobalRemoveMessageMutation")();return g.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","remove_glo");a=b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a);b("bs_curry")._1(c,{messageID:a})},[c])}f.useUnsendMessage=a}),null);
__d("MWMSWorkStatus.bs",["bs_belt_Map","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs","MessengerThreadCannotReplyReason"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MWChatThreadId.bs").getMercuryID(a);var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());if(!b("CurrentUser").isWorkUser())return!1;c=b("bs_belt_Map").get(c.threads,a);if(c===void 0)return!1;a=b("bs_caml_option").valFromOption(c).cannot_reply_reason;if(a==null)return!1;else return a===b("MessengerThreadCannotReplyReason").RECIPIENTS_INACTIVE_WORK_ACC}f.useIsTargetDeactivated=a}),null);